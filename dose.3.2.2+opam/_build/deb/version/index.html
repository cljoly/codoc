<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Version</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Version</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Functions for manipulating and comparing Debian version strings.
Compliant with Debian policy version 3.9.2. and Debian developers
reference version 3.4.6</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Comparing debian version strings</h2>
    </div>
        
      </div>
    
      <div class="doc">
        
      <p>The following functions compare any two strings, that is these
functions do not check whether the arguments are really legal
debian versions. If the arguments are debian version strings, then
the result is as required by debian policy. Note that two strings
may be equivalent, that is denote the same debian version, even
when they differ in syntax, as for instance &quot;0:1.2.00&quot; and
&quot;1.02-0&quot;.</p>
      
        
      </div>
    
  <div class="region" id="/val:equal">
  <a href="index.html#/val:equal" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> equal : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> <code>true</code> iff the two strings define the same version. Hence,
the result may be true even when the two string differ
syntactically.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:compare">
  <a href="index.html#/val:compare" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> compare : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p><code>compare x y</code> returns 0 if x is eqivalent to y, -1 if x is smaller
than y, and 1 if x is greater than y. This is consistent with
<code>Pervasives.compare</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Decomposing and recomposing debian version strings</h2>
    </div>
        
      </div>
    
      <div class="doc">
        
      <p>Version strings may be the decomposed into epoch, upstream, and
revision as described in debian policy section 5.6.12. An epoch is
present if the version string contains a colon ':', in this case
the leftmost colon separates the epoch from the rest. A revision
is present if the string contains a dash '-', in this case the
rightmost dash separates the rest from the revision.</p>
      
      <p>A version string that contains no dash (hence, no revision) is
called native. Otherwise it is called non-native, in this case the
revision may be empty (example: &quot;1.2-&quot;) or not.</p>
      
      <p>A suffix of the upstream part of a native version, or the suffix
of the revision part of a non-native version, may contain a part
indicating a binary NMU (Debian Developers Reference, section
5.10.2.1). A binary NMU part is of the form &quot;+bN&quot; where N is an
unsigned integer.</p>
      
        
      </div>
    
  <div class="region" id="/type:version_analysis">
  <a href="index.html#/type:version_analysis" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> version_analysis = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:version_analysis/cons:Native">
  <a href="index.html#/type:version_analysis/cons:Native" class="anchor">#</a>
  | Native <span class="keyword">of</span> string * string * string
  </div>
  </td><td>(*</td><td class="doc">epoch,upstream,binnmu</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:version_analysis/cons:NonNative">
  <a href="index.html#/type:version_analysis/cons:NonNative" class="anchor">#</a>
  | NonNative <span class="keyword">of</span> string * string * string * string
  </div>
  </td><td>(*</td><td class="doc">epoch,upstream,revision,binnmu</td><td>*)</td></tr>
    </table>
    
      <div class="doc">
        
      <p>result type of the analysis of a version string. The binNMU part,
if present, has been removed from the upstream (if native version)
or revision (if non-native vesion).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:decompose">
  <a href="index.html#/val:decompose" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> decompose : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:version_analysis">version_analysis</a>
    
      <div class="doc">
        
      <p>decompose a version string</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:compose">
  <a href="index.html#/val:compose" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> compose : <a href="index.html#/type:version_analysis">version_analysis</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>recompose a decomposed version string. For all v:
<code>equal(v,compose(decompose v)) = true</code>. There may, however, be
small syntactic differences between <code>v</code> and <code>compose(decompose v)</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:strip_epoch_binnmu">
  <a href="index.html#/val:strip_epoch_binnmu" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> strip_epoch_binnmu : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>return a version without its epoch and without its binNMU part</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Decomposing and recomposing version strings (deprecated interface)</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:split">
  <a href="index.html#/val:split" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> split : string <span class="rarr"><span>-&gt;</span></span> string * string * string * string
    
      <div class="doc">
        
      <p>split the debian version into its components.
(epoch,upstream,revision,binnmu) = split v
v = epoch ^ &quot;:&quot; ^ upstream ^ &quot;-&quot; ^ revision ^ binnmu.</p>
      
        
  <div class="tag deprecated">
    <span class="label">Deprecated</span> <code>decompose</code> should be used instead.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:concat">
  <a href="index.html#/val:concat" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> concat : string * string * string * string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p></p>
      
        
  <div class="tag deprecated">
    <span class="label">Deprecated</span> <code>recompose</code> should be used instead.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:normalize">
  <a href="index.html#/val:normalize" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> normalize : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>chop the epoch and binnmu component from a version.</p>
      
        
  <div class="tag deprecated">
    <span class="label">Deprecated</span> <code>strip_epoch_binnmu</code> should be used instead.
  </div>
  
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>