<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>Feed_cache</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Feed_cache</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Caching downloaded feeds on disk</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:interface_config">
  <a href="index.html#/type:interface_config" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> interface_config = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:interface_config/field:stability_policy">
  <a href="index.html#/type:interface_config/field:stability_policy" class="anchor">#</a>
  stability_policy
  </div>
  </td><td>: General.stability_level option</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:interface_config/field:extra_feeds">
  <a href="index.html#/type:interface_config/field:extra_feeds" class="anchor">#</a>
  extra_feeds
  </div>
  </td><td>: <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed/">Feed</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed/#/type:feed_import">feed_import</a> list</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_cached_feed">
  <a href="index.html#/val:get_cached_feed" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_cached_feed : General.config <span class="rarr"><span>-&gt;</span></span> [&lt; <div class="cons">| <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:non_distro_feed">non_distro_feed</a></div> ] <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed/">Feed</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed/#/type:feed">feed</a> option
    
      <div class="doc">
        
      <p>Load a cached feed.
As a convenience, this will also load local feeds.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_cached_feed_path">
  <a href="index.html#/val:get_cached_feed_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_cached_feed_path : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:remote_feed">remote_feed</a> <span class="rarr"><span>-&gt;</span></span> Support.Common.filepath option
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_save_cache_path">
  <a href="index.html#/val:get_save_cache_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_save_cache_path : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:remote_feed">remote_feed</a> <span class="rarr"><span>-&gt;</span></span> Support.Common.filepath
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_cached_icon_path">
  <a href="index.html#/val:get_cached_icon_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_cached_icon_path : General.config <span class="rarr"><span>-&gt;</span></span> [&lt; <div class="cons">| <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:non_distro_feed">non_distro_feed</a></div> ] <span class="rarr"><span>-&gt;</span></span> Support.Common.filepath option
    
  </div>
  
  </div>
  
  <div class="region" id="/val:list_all_feeds">
  <a href="index.html#/val:list_all_feeds" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_all_feeds : General.config <span class="rarr"><span>-&gt;</span></span> Support.Common.StringSet.t
    
  </div>
  
  </div>
  
  <div class="region" id="/val:load_iface_config">
  <a href="index.html#/val:load_iface_config" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> load_iface_config : General.config <span class="rarr"><span>-&gt;</span></span> General.iface_uri <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:interface_config">interface_config</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:save_iface_config">
  <a href="index.html#/val:save_iface_config" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> save_iface_config : General.config <span class="rarr"><span>-&gt;</span></span> General.iface_uri <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:interface_config">interface_config</a> <span class="rarr"><span>-&gt;</span></span> unit
    
  </div>
  
  </div>
  
  <div class="region" id="/val:is_stale">
  <a href="index.html#/val:is_stale" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_stale : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:remote_feed">remote_feed</a> <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p>Check whether feed <code>url</code> is stale.
Returns false if it's stale but last-check-attempt is recent</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:internal_is_stale">
  <a href="index.html#/val:internal_is_stale" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> internal_is_stale : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:remote_feed">remote_feed</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed/">Feed</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed/#/type:feed_overrides">feed_overrides</a> option <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p>Low-level part of <code>is_stale</code> that doesn't automatically load the feed overrides (needed to get <code>last_checked</code>).
Useful if you've already loaded them yourself (or confirmed they're missing) to avoid doing it twice.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:mark_as_checking">
  <a href="index.html#/val:mark_as_checking" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> mark_as_checking : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:remote_feed">remote_feed</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Touch a 'last-check-attempt' timestamp file for this feed.
This prevents us from repeatedly trying to download a failing feed many
times in a short period.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_last_check_attempt">
  <a href="index.html#/val:get_last_check_attempt" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_last_check_attempt : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/">Feed_url</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_url/#/type:remote_feed">remote_feed</a> <span class="rarr"><span>-&gt;</span></span> float option
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>