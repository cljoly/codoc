<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>Solver</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Solver</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Select a compatible set of components to run a program.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:scope">
  <a href="index.html#/type:scope" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> scope = <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/">Impl_provider</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/#/classtype:impl_provider">impl_provider</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:role">
  <a href="index.html#/type:role" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> role = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:role/field:scope">
  <a href="index.html#/type:role/field:scope" class="anchor">#</a>
  scope
  </div>
  </td><td>: <a href="index.html#/type:scope">scope</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:role/field:iface">
  <a href="index.html#/type:role/field:iface" class="anchor">#</a>
  iface
  </div>
  </td><td>: General.iface_uri</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:role/field:source">
  <a href="index.html#/type:role/field:source" class="anchor">#</a>
  source
  </div>
  </td><td>: bool</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Model">
  <a href="index.html#/module:Model" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Model : <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/sigs/">Sigs</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/sigs/#/modtype:SOLVER_RESULT">SOLVER_RESULT</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/sigs/#/modtype:SOLVER_RESULT/module:Role">Role</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/sigs/#/modtype:SOLVER_RESULT/module:Role/type:t">t</a> = <a href="index.html#/type:role">role</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/sigs/#/modtype:SOLVER_RESULT/type:impl">impl</a> = <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl/">Impl</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl/#/type:generic_implementation">generic_implementation</a></div>
      
      
  </div>
  
  </div>
  
  <div class="region" id="/val:selections">
  <a href="index.html#/val:selections" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> selections : <a href="index.html#/module:Model">Model</a>.<a href="index.html#/module:Model/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/selections/">Selections</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/selections/#/type:t">t</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:impl_provider">
  <a href="index.html#/val:impl_provider" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> impl_provider : <a href="index.html#/type:role">role</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/">Impl_provider</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/#/classtype:impl_provider">impl_provider</a>
    
      <div class="doc">
        
      <p>Get the impl_provider used for this role. Useful for diagnostics and in the GUI to list the candidates.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_root_requirements">
  <a href="index.html#/val:get_root_requirements" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_root_requirements : General.config <span class="rarr"><span>-&gt;</span></span> Requirements.t <span class="rarr"><span>-&gt;</span></span> (<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/">Impl_provider</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/#/type:scope_filter">scope_filter</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/">Impl_provider</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/impl_provider/#/classtype:impl_provider">impl_provider</a>) <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:Model">Model</a>.<a href="index.html#/module:Model/type:requirements">requirements</a>
    
      <div class="doc">
        
      <p>Convert <code>Requirements.t</code> to requirements for the solver.
This looks at the host system to get some values (whether we have multi-arch support, default CPU and OS).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:do_solve">
  <a href="index.html#/val:do_solve" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> do_solve : <a href="index.html#/module:Model">Model</a>.<a href="index.html#/module:Model/type:requirements">requirements</a> <span class="rarr"><span>-&gt;</span></span> closest_match:bool <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:Model">Model</a>.<a href="index.html#/module:Model/type:t">t</a> option
    
      <div class="doc">
        
      <p>Find a set of implementations which satisfy these requirements. Consider using <code>solve_for</code> instead.</p>
      
        
  <div class="tag param">
    <span class="label">closest_match</span> adds a lowest-ranked (but valid) implementation to every interface, so we can always
select something. Useful for diagnostics.
  </div>
  
  <div class="tag return">
    <span class="label">Returns</span> None if the solve fails (only happens if <code>closest_match</code> is false.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:solve_for">
  <a href="index.html#/val:solve_for" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> solve_for : General.config <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_provider/">Feed_provider</a>.<a href="../../../../../0install.2.8/ocaml/_build/zeroinstall/feed_provider/#/classtype:feed_provider">feed_provider</a> <span class="rarr"><span>-&gt;</span></span> Requirements.t <span class="rarr"><span>-&gt;</span></span> bool * <a href="index.html#/module:Model">Model</a>.<a href="index.html#/module:Model/type:t">t</a>
    
      <div class="doc">
        
      <p>High-level solver interface.
Runs <code>do_solve ~closest_match:false</code> and reports (true, results) on success.
On failure, tries again with <code>~closest_match:true</code> and reports (false, results) for diagnostics.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_failure_reason">
  <a href="index.html#/val:get_failure_reason" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_failure_reason : General.config <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:Model">Model</a>.<a href="index.html#/module:Model/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Why did this solve fail? We take the partial solution from the solver and show,
for each component we couldn't select, which constraints caused the candidates
to be rejected.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>