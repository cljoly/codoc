<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>Gpg</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Gpg</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Use GnuPG to check the digital signatures on feeds.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:fingerprint">
  <a href="index.html#/type:fingerprint" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> fingerprint = string
    
  </div>
  
  </div>
  
  <div class="region" id="/type:timestamp">
  <a href="index.html#/type:timestamp" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> timestamp = float
    
  </div>
  
  </div>
  
  <div class="region" id="/type:sig_error">
  <a href="index.html#/type:sig_error" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> sig_error = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:sig_error/cons:UnsupportedAlgorithm">
  <a href="index.html#/type:sig_error/cons:UnsupportedAlgorithm" class="anchor">#</a>
  | UnsupportedAlgorithm <span class="keyword">of</span> string
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:sig_error/cons:UnknownKey">
  <a href="index.html#/type:sig_error/cons:UnknownKey" class="anchor">#</a>
  | UnknownKey <span class="keyword">of</span> string
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:sig_error/cons:UnknownSigError">
  <a href="index.html#/type:sig_error/cons:UnknownSigError" class="anchor">#</a>
  | UnknownSigError <span class="keyword">of</span> int
  </div>
  </td><td></td><td></td><td></td></tr>
    </table>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:valid_details">
  <a href="index.html#/type:valid_details" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> valid_details = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:valid_details/field:fingerprint">
  <a href="index.html#/type:valid_details/field:fingerprint" class="anchor">#</a>
  fingerprint
  </div>
  </td><td>: <a href="index.html#/type:fingerprint">fingerprint</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:valid_details/field:timestamp">
  <a href="index.html#/type:valid_details/field:timestamp" class="anchor">#</a>
  timestamp
  </div>
  </td><td>: <a href="index.html#/type:timestamp">timestamp</a></td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/type:signature">
  <a href="index.html#/type:signature" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> signature = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:signature/cons:ValidSig">
  <a href="index.html#/type:signature/cons:ValidSig" class="anchor">#</a>
  | ValidSig <span class="keyword">of</span> <a href="index.html#/type:valid_details">valid_details</a>
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:signature/cons:BadSig">
  <a href="index.html#/type:signature/cons:BadSig" class="anchor">#</a>
  | BadSig <span class="keyword">of</span> string
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:signature/cons:ErrSig">
  <a href="index.html#/type:signature/cons:ErrSig" class="anchor">#</a>
  | ErrSig <span class="keyword">of</span> <a href="index.html#/type:sig_error">sig_error</a>
  </div>
  </td><td></td><td></td><td></td></tr>
    </table>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:key_info">
  <a href="index.html#/type:key_info" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> key_info = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:key_info/field:name">
  <a href="index.html#/type:key_info/field:name" class="anchor">#</a>
  name
  </div>
  </td><td>: string option</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/val:string_of_sig">
  <a href="index.html#/val:string_of_sig" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string_of_sig : <a href="index.html#/type:signature">signature</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>A human-readable description of a signature.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:import_key">
  <a href="index.html#/val:import_key" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> import_key : <a href="../../../../../ocaml.4.02.1+doc/lex/common/">Common</a>.system <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Run &quot;gpg --import&quot; with this data as stdin.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_key_name">
  <a href="index.html#/val:get_key_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_key_name : <a href="../../../../../ocaml.4.02.1+doc/lex/common/">Common</a>.system <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:fingerprint">fingerprint</a> <span class="rarr"><span>-&gt;</span></span> string option <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Get the first human-readable name from the details.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:verify">
  <a href="index.html#/val:verify" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> verify : <a href="../../../../../ocaml.4.02.1+doc/lex/common/">Common</a>.system <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> (<a href="index.html#/type:signature">signature</a> list * string) <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Verify the GPG signature at the end of data (which must be XML).
Returns the list of signatures found, plus the raw stderr from gpg (which may be useful if
you need to report an error).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:load_keys">
  <a href="index.html#/val:load_keys" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> load_keys : <a href="../../../../../ocaml.4.02.1+doc/lex/common/">Common</a>.system <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:fingerprint">fingerprint</a> list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:key_info">key_info</a> <a href="../../../../../ocaml.4.02.1+doc/lex/common/">Common</a>.StringMap.t <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Load a set of keys at once. Returns a map from fingerprints to information.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>