<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>Irmin_fs</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Irmin_fs</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Disk persistence.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/val:config">
  <a href="index.html#/val:config" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> config : ?root:string <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/type:config">config</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO">
  <a href="index.html#/modtype:IO" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> IO = <span class="keyword">sig</span>
    </div>
    
    
    <div class="sig">
      <div class="doc">
        
      <p>File-system abstraction.</p>
      
        
      </div>
    
  <div class="region" id="/modtype:IO/val:getcwd">
  <a href="index.html#/modtype:IO/val:getcwd" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> getcwd : unit <span class="rarr"><span>-&gt;</span></span> string <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Return the current directory.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:mkdir">
  <a href="index.html#/modtype:IO/val:mkdir" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> mkdir : string <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Create a directory.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:remove">
  <a href="index.html#/modtype:IO/val:remove" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> remove : string <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Remove a file or directory (even if non-empty).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:rec_files">
  <a href="index.html#/modtype:IO/val:rec_files" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> rec_files : string <span class="rarr"><span>-&gt;</span></span> string list <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>rec_files dir</code> is the list of files recursively present in
<code>dir</code> and all of its sub-directories. Return filenames prefixed
by <code>dir</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:read_file">
  <a href="index.html#/modtype:IO/val:read_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> read_file : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../cstruct.1.5.0/_build/lib/cstruct/">Cstruct</a>.<a href="../../../../../cstruct.1.5.0/_build/lib/cstruct/#/type:t">t</a> <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Read the contents of a file using mmap.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:write_file">
  <a href="index.html#/modtype:IO/val:write_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> write_file : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../cstruct.1.5.0/_build/lib/cstruct/">Cstruct</a>.<a href="../../../../../cstruct.1.5.0/_build/lib/cstruct/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Write some contents to a new file.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:AO">
  <a href="index.html#/module:AO" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> AO : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/modtype:AO_MAKER">AO_MAKER</a></div>
      
      
  </div>
  
  </div>
  
  <div class="region" id="/module:RW">
  <a href="index.html#/module:RW" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> RW : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/modtype:RW_MAKER">RW_MAKER</a></div>
      
      
  </div>
  
  </div>
  
  <div class="region" id="/module:Make">
  <a href="index.html#/module:Make" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Make : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/modtype:S_MAKER">S_MAKER</a></div>
      
      
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Advanced configuration</h2>
    </div>
        
      </div>
    
  <div class="region" id="/modtype:Config">
  <a href="index.html#/modtype:Config" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> Config = <span class="keyword">sig</span>
    </div>
    
    
    <div class="sig">
      <div class="doc">
        
      <p>Same as <code>Config</code> but gives more control on the file
hierarchy.</p>
      
        
      </div>
    
  <div class="region" id="/modtype:Config/val:dir">
  <a href="index.html#/modtype:Config/val:dir" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> dir : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>dir root</code> is the sub-directory to look for the keys.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:Config/val:file_of_key">
  <a href="index.html#/modtype:Config/val:file_of_key" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file_of_key : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Convert a key to a filename.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:Config/val:key_of_file">
  <a href="index.html#/modtype:Config/val:key_of_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> key_of_file : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Convert a filename to a key.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:AO_ext">
  <a href="index.html#/module:AO_ext" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> AO_ext : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <span class="keyword">functor</span> (C : <a href="index.html#/modtype:Config">Config</a>) <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/modtype:AO_MAKER">AO_MAKER</a></div>
      
      
  </div>
  
  </div>
  
  <div class="region" id="/module:RW_ext">
  <a href="index.html#/module:RW_ext" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> RW_ext : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <span class="keyword">functor</span> (C : <a href="index.html#/modtype:Config">Config</a>) <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/modtype:RW_MAKER">RW_MAKER</a></div>
      
      
  </div>
  
  </div>
  
  <div class="region" id="/module:Make_ext">
  <a href="index.html#/module:Make_ext" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Make_ext : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <span class="keyword">functor</span> (Obj : <a href="index.html#/modtype:Config">Config</a>) <span class="rarr"><span>-&gt;</span></span> <span class="keyword">functor</span> (Ref : <a href="index.html#/modtype:Config">Config</a>) <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../irmin.0.9.1/_build/lib/irmin/">Irmin</a>.<a href="../../../../../irmin.0.9.1/_build/lib/irmin/#/modtype:S_MAKER">S_MAKER</a></div>
      
      
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>