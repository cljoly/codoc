<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Type</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Type</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Dynamic types</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:t">
  <a href="index.html#/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:t/cons:Unit">
  <a href="index.html#/type:t/cons:Unit" class="anchor">#</a>
  | Unit
  </div>
  </td><td>(*</td><td class="doc">unit</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Bool">
  <a href="index.html#/type:t/cons:Bool" class="anchor">#</a>
  | Bool
  </div>
  </td><td>(*</td><td class="doc">booleans</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Float">
  <a href="index.html#/type:t/cons:Float" class="anchor">#</a>
  | Float
  </div>
  </td><td>(*</td><td class="doc">floating-point numbers</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Char">
  <a href="index.html#/type:t/cons:Char" class="anchor">#</a>
  | Char
  </div>
  </td><td>(*</td><td class="doc">characters</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:String">
  <a href="index.html#/type:t/cons:String" class="anchor">#</a>
  | String
  </div>
  </td><td>(*</td><td class="doc">strings</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Int">
  <a href="index.html#/type:t/cons:Int" class="anchor">#</a>
  | Int <span class="keyword">of</span> int option
  </div>
  </td><td>(*</td><td class="doc">integer type of a given size (as 31-,32- or 64-bits); <code>Int None</code> is for bigints</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:List">
  <a href="index.html#/type:t/cons:List" class="anchor">#</a>
  | List <span class="keyword">of</span> <a href="index.html#/type:t">t</a>
  </div>
  </td><td>(*</td><td class="doc">collection of stuff of the same type (stored as lists)</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Array">
  <a href="index.html#/type:t/cons:Array" class="anchor">#</a>
  | Array <span class="keyword">of</span> <a href="index.html#/type:t">t</a>
  </div>
  </td><td>(*</td><td class="doc">collection of stuff of the same type (stored as arrays)</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Tuple">
  <a href="index.html#/type:t/cons:Tuple" class="anchor">#</a>
  | Tuple <span class="keyword">of</span> <a href="index.html#/type:t">t</a> list
  </div>
  </td><td>(*</td><td class="doc">Cartesian product</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Dict">
  <a href="index.html#/type:t/cons:Dict" class="anchor">#</a>
  | Dict <span class="keyword">of</span> [ <div class="cons">| `R</div><div class="cons">| `O</div> ] * (string * [ <div class="cons">| `RO</div><div class="cons">| `RW</div> ] * <a href="index.html#/type:t">t</a>) list
  </div>
  </td><td>(*</td><td class="doc">record <code>'R</code> or object <code>'O</code> type; <code>`RW</code> stands for mutable fields</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Sum">
  <a href="index.html#/type:t/cons:Sum" class="anchor">#</a>
  | Sum <span class="keyword">of</span> [ <div class="cons">| `P</div><div class="cons">| `N</div> ] * (string * <a href="index.html#/type:t">t</a> list) list
  </div>
  </td><td>(*</td><td class="doc">polymorphic <code>`P</code> or normal <code>`N</code> variant type</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Option">
  <a href="index.html#/type:t/cons:Option" class="anchor">#</a>
  | Option <span class="keyword">of</span> <a href="index.html#/type:t">t</a>
  </div>
  </td><td>(*</td><td class="doc">option type</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Rec">
  <a href="index.html#/type:t/cons:Rec" class="anchor">#</a>
  | Rec <span class="keyword">of</span> string * <a href="index.html#/type:t">t</a>
  </div>
  </td><td>(*</td><td class="doc">recursive type</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Var">
  <a href="index.html#/type:t/cons:Var" class="anchor">#</a>
  | Var <span class="keyword">of</span> string
  </div>
  </td><td>(*</td><td class="doc">recursive fix-point</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Arrow">
  <a href="index.html#/type:t/cons:Arrow" class="anchor">#</a>
  | Arrow <span class="keyword">of</span> <a href="index.html#/type:t">t</a> * <a href="index.html#/type:t">t</a>
  </div>
  </td><td>(*</td><td class="doc">arrow type</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Ext">
  <a href="index.html#/type:t/cons:Ext" class="anchor">#</a>
  | Ext <span class="keyword">of</span> string * <a href="index.html#/type:t">t</a>
  </div>
  </td><td>(*</td><td class="doc">type variable</td><td>*)</td></tr>
    </table>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Utility functions</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:is_mutable">
  <a href="index.html#/val:is_mutable" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_mutable : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p><code>is_mutable t</code> checks whether <code>t</code> contains a mutable field</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:free_vars">
  <a href="index.html#/val:free_vars" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> free_vars : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>free_vars t</code> returns all the free variables of type <code>t</code>.
If <code>t</code> is unfolded (as it should be when calling <code>type_of_t</code>,
this call should return an empty list.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:foreigns">
  <a href="index.html#/val:foreigns" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> foreigns : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>foreigns t</code> returns all the type variables appearing in <code>t</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:unroll">
  <a href="index.html#/val:unroll" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> unroll : (string * <a href="index.html#/type:t">t</a>) list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>unroll env t</code> replaces every type appearing in <code>t</code> by its type value defined in <code>env</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Sub-typing</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:is_subtype_of">
  <a href="index.html#/val:is_subtype_of" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_subtype_of : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p><code>is_subtype_of s t</code> checks whether <code>s</code> is a sub-type of <code>t</code>. Sub-typing relation is based on
naming. Basically, <code>s</code> is a sub-type of <code>t</code> if (i) named attributes have either compatible types
(ii) or some fields/methods defined in <code>t</code> do not appear in <code>s</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:(&lt;:)">
  <a href="index.html#/val:(%3C:)" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> (&lt;:) : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p><code>s &lt;: t</code> is a short-cut for <code>is_subtype_of s t</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:string_of_last_type_error">
  <a href="index.html#/val:string_of_last_type_error" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string_of_last_type_error : unit <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Returns the more recent failing sub-type relation tested by <code>(&lt;:)</code> or <code>is_subtype_of</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Pretty-printing</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:to_string">
  <a href="index.html#/val:to_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_string : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>to_string t</code> pretty-prints the type <code>t</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/exn:Parse_error">
  <a href="index.html#/exn:Parse_error" class="anchor">#</a>
  
  <div class="exn">
    <span class="keyword">exception</span> Parse_error <span class="keyword">of</span> string
    
      <div class="doc">
        
      <p>Exception that may be raised by <code>!of_string</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:of_string">
  <a href="index.html#/val:of_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> of_string : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>of_string str</code> returns the type <code>t</code> corresponding to the pretty-printed string <code>str</code>. Raises <code>!Parse_error</code>
if is not a valid string</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>