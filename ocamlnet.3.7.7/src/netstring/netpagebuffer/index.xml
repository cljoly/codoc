<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></html></base>Netpagebuffer</root><digest>5e885a1e4d791b133e3615fe07b8f317</digest><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Int32<digest>f43b8a2972804b40e28b661b6fdf157a</digest></import><import>Netsys_mem<digest>f19ef786301a8cbcfbf1a4fffee992f8</digest></import><import>Netsys_types<digest>67b26630eaf4decaa483864d4d00a3a2</digest></import><import>Obj<digest>825c406ee2d12ed12fd12dc0e4de1d26</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><source><file>netpagebuffer.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring</dir><digest>c85b091348a4cafa4677750d9cc23de8</digest></source><doc>Buffer for page-aligned I/O</doc><comment>This kind of buffer uses page-aligned bigarrays. Data can only be
added to the end, or deleted at the beginning of the buffer.<newline/>The idea of this buffer is that input data is added to the last
page of the buffer only (with <code>add_inplace</code>). If then all previous
input was already a multiple of the page size, it is ensured that
the new input is added at a page boundary. This kind of input operation
can often be accelerated by the OS (&quot;zero copy network I/O&quot;).</comment><type><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></type><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>create</value><doc>create <code>blocksize</code>: creates new buffer with this <code>blocksize</code>, which must
be a whole multiple of the page size of the OS<newline/>The <code>blocksize</code> is normally either<list><item><reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>default_block_size</value></resolved></element></reference>, or</item><item><reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>small_block_size</value></resolved></element></reference></item></list>These cases are optimized, and the buffer is allocated in a shared
pool.</doc><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>contents</value><doc>Returns the contents as string</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>length</value><doc>The length</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>sub</value><doc>Returns a substring</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>blit_to_string</value><doc>Blits contents to a string</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>blit_to_memory</value><doc>Blits contents to another memory buffer</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>memory</type></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>add_string</value><doc>Adds a string to the end of the buffer</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>add_sub_string</value><doc>Adds a sub string to the end of the buffer</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>add_sub_memory</value><doc>Adds a sub memory buffer to the end of the buffer</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>memory</type></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>add_inplace</value><doc><code>add_inplace b f</code>: Calls <code>f m pos len</code> where <code>m</code> is the last page
of the buffer, and <code>pos</code> is the first free byte on the page, and
<code>len</code> is the number of free bytes on the page. The function <code>f</code> is
expected to store new data in <code>m</code> from <code>pos</code> to <code>pos+n-1</code> and to
return <code>n</code>. The number <code>n</code> is also returned as final result.<newline/>It is ensured that <code>f</code> is called with a value of <code>len&gt;=1</code>.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>memory</type></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></arrow></arrow><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>page_for_additions</value><doc><code>let (m,pos,len) = page_for_additions b</code>: Returns the last page
in <code>m</code>, the first free byte on the page in <code>pos</code>, and
the number of free bytes on the page in <code>len</code>. (The same values
the function <code>f</code> would have got as arguments in <code>add_inplace</code>.)</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><tuple><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>memory</type></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></tuple></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>advance</value><doc><code>advance b n</code>: Marks further <code>n</code> bytes in the last page of the
buffer as used. These bytes are not modified in any way - it is
expected that the user calls <code>page_for_additions</code> first, and sets
these <code>n</code> bytes to new values directly.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>page_for_consumption</value><doc><code>let (m,pos,len) = page_for_consumption b</code>: Returns the first page
in <code>m</code>, the first used byte on the page in <code>pos</code>, and
the number of used bytes on the page in <code>len</code>.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><tuple><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netsys_mem/index.xml"><cmti name="Netsys_mem" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netsys_mem.cmti" digest="f19ef786301a8cbcfbf1a4fffee992f8"/></xml></base>Netsys_mem</root></identifier>memory</type></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></tuple></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>delete_hd</value><doc><code>delete_hd b n</code>: Deletes <code>n</code> bytes from the beginning of the buffer</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>clear</value><doc>Deletes all contents of the buffer</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><comment><title level="2">Searching</title></comment><value><value><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>index_from</value><doc><code>index_from nb k c</code>: Searches the character <code>c</code> in the buffer beginning
at position <code>k</code>. If found, the position of the left-most occurence is
returned. Otherwise, <code>Not_found</code> is raised.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netpagebuffer" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netpagebuffer.cmti" digest="5e885a1e4d791b133e3615fe07b8f317"/></xml></base>Netpagebuffer</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>char</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></arrow></arrow></value></unit>