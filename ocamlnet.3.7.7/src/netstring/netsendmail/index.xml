<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></html></base>Netsendmail</root><digest>dbd2d853dce0f7fa13b7db2f54009591</digest><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>Buffer<digest>a579f4a57e300ec755f84af883c1e51b</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Format<digest>61d4350242b30078d3ad96c904c9f7a1</digest></import><import>Int32<digest>f43b8a2972804b40e28b661b6fdf157a</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Mimestring<digest>ac31fcb123c04dfee879b3fcd4ac6465</digest></import><import>Netbuffer<digest>5f4225f2baeef1584e246c6ce1d32119</digest></import><import>Netchannels<digest>4e22bd1ba0cae4bd9bd1b6e69fc16ade</digest></import><import>Netconversion<digest>192a0e1fae2f882e5f06cf84e9f3da38</digest></import><import>Netmime<digest>0b76a3020124c30d13396d877ed0ad15</digest></import><import>Netstream<digest>0cb48bc6daf6d8a3d088ce0dfb4dcbbe</digest></import><import>Netsys_mem<digest>f19ef786301a8cbcfbf1a4fffee992f8</digest></import><import>Netsys_types<digest>67b26630eaf4decaa483864d4d00a3a2</digest></import><import>Obj<digest>825c406ee2d12ed12fd12dc0e4de1d26</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><source><file>netsendmail.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring</dir><digest>d6d7d9b1aa42f6afcf260ca11f66019f</digest></source><doc>Functions to compose and send electronic mails<newline/><bold>Contents</bold><newline/><list><item><reference><element><resolved><label><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>composing</label></resolved></element></reference></item><item><reference><element><resolved><label><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>sending</label></resolved></element></reference></item></list>The tutorial has been moved to <reference><element><root>Netsendmail_tut</root></element></reference>.</doc><comment><title level="1"><label><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>composing</label>Composing Messages</title><newline/>The core function is <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>compose</value></resolved></element></reference> generating a MIME mail.
The mail can be sent with <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>sendmail</value></resolved></element></reference>, written to an
object channel with <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>write_mime_message</value></resolved></element></reference>, or postprocessed
by a user function.<newline/>The call to <code>compose</code> can be as easy as<newline/><precode>compose ~from_addr:(&quot;me&quot;, &quot;me@domain.net&quot;) 
              ~to_addrs:[&quot;you&quot;, &quot;you@domain.com&quot;]
              ~subject:&quot;I have a message for you&quot;
              &quot;Hello, this is my message!\n&quot;</precode><newline/>This call generates the message as <reference><element><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></element></reference>,
and can be directly sent with <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>sendmail</value></resolved></element></reference>.<newline/>The <code>compose</code> function is the simplified interface; alternatively one
can also generate the mail by calling <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>wrap_mail</value></resolved></element></reference>,
<reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>wrap_parts</value></resolved></element></reference>, and <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>wrap_attachment</value></resolved></element></reference>, getting
more fine-grained control of certain options.</comment><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>compose</value><doc>Composes a mail message with a main text, and optionally
a number of attachments.<newline/>The addresses <code>from_addr</code>, <code>to_addrs</code>, <code>cc_addrs</code>, and <code>bcc_addrs</code> are
passed as pairs <code>(human_readable,formal)</code> where
<code>human_readable</code> is an arbitrary printable string identifying the
sender/receiver, and where <code>formal</code> is the RFC-822 mailbox specification.
An example is <code>(&quot;Stolpmann, Gerd&quot;, &quot;gerd@gerd-stolpmann.de&quot;)</code>.<newline/>The <code>subject</code> can be any text.<newline/>The anonymous <code>string</code> argument is the main text of the mail.<newline/>The resulting message is always a correct MIME message.<param><name>in_charset</name>All passed texts (except the formal addresses) must
be encoded in <code>in_charset</code>. Default: <code>`Enc_iso88591</code>.
As another exception, setting <code>content_type</code> explicitly prevents
the main text from being converted, and <code>in_charset</code> does not
have a meaning for the main text.</param><param><name>out_charset</name>The encoded words in the generated header fields,
if necessary, and the main text are encoded in <code>out_charset</code>.
Default: <code>`Enc_iso88591</code>.
It is required that <code>out_charset</code> is ASCII-compatible.
As a special rule, setting <code>content_type</code> explicitly prevents
the main text from being converted to <code>out_charset</code>.</param><param><name>content_type</name>The content type of the main text. The list is
the list of parameters attached
to the type, e.g. <code>(&quot;text/plain&quot;, [&quot;charset&quot;, mk_param &quot;ISO-8859-1&quot;])</code>
(see <reference><element><dot><root>Mimestring</root>mk_param</dot></element></reference>). When this argument is set,
the main text is no longer converted to <code>out_charset</code>.
By default, when this argument is missing, the main text is
converted from <code>in_charset</code> to <code>out_charset</code>, and the
content type becomes <code>&quot;text/plain; charset=&lt;out_charset&gt;&quot;</code>.</param><param><name>container_type</name>The content type of the container wrapping the
main text and the attachment into one entity
(only used if <code>attachments</code> are present). This
defaults to <code>(&quot;multipart/mixed&quot;, [])</code>. This must be either a
&quot;multipart&quot; or &quot;message&quot; type.</param><param><name>attachments</name>An optional list of attachments. Should be generated
with <code>wrap_attachment</code>.</param></doc><arrow><optional>in_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>out_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>from_addr</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple><arrow><optional>cc_addrs</optional><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><optional>bcc_addrs</optional><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><optional>content_type</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_param</type></resolved></path></tuple></path></tuple><arrow><optional>container_type</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_param</type></resolved></path></tuple></path></tuple><arrow><optional>attachments</optional><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path></path><arrow><label>to_addrs</label><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><label>subject</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><comment><bold>Character Set Conversion</bold><newline/>The impact of <code>in_charset</code> and <code>out_charset</code> on the generated mail
is not very obvious. The charset arguments may have an effect on
the mail header and the mail body.<newline/>The mail header can only be composed of ASCII characters (7 bit).
To circumvent this restriction the MIME standard specifies a special
format, the so-called encoded words. These may only be used in some
places, and <code>compose</code> knows where: In the subject, and the non-formal
part of mail addresses. The <code>out_charset</code> is the character set
used in the generated mail. The <code>in_charset</code> is the character set
the strings are encoded you pass to <code>compose</code>. It is a good idea
to have <code>in_charset = out_charset</code>, or at least choose <code>out_charset</code>
as a superset of <code>in_charset</code>, because this ensures that the character
set conversion succeeds.<newline/>If the mail header does not make use of the additional non-ASCII
characters, the encoded words will be avoided.<newline/>The mail body is only subject of character set conversion if
the <code>content_type</code> is <bold>not</bold> passed to <code>compose</code>. In this case,
the function sets it to <code>text/plain</code>, and converts the message
from <code>in_charset</code> to <code>out_charset</code>.<newline/><bold>Adding Attachments</bold><newline/>To generate the attachments, call <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>wrap_attachment</value></resolved></element></reference>, e.g.<newline/><precode>compose ...
        ~attachments:[ wrap_attachment  
                         ~content_type:(&quot;application/octet-stream&quot;, [])
                         (new Netmime.file_mime_body &quot;file.tar.gz&quot;) ]</precode><newline/>There
are a number of kinds of attaching files, identified by <code>container_type</code>.
The default is <code>multipart/mixed</code>, meaning that the parts of the mail are
mixed messages and files. One can give a hint whether to display
the parts directly in the mailer program (so-called inline attachments),
or whether to suggest that the file is saved to disk (&quot;real&quot;
attachments). This hint is contained in the <code>Content-disposition</code>
header, see <code>wrap_attachment</code> how to set it.<newline/>For a discusion of the other <code>container_type</code>s see the
<reference><element><dot><resolved><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier></resolved>tutorial</dot></element></reference> at the end of this document.</comment><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>wrap_attachment</value><doc>Generates a header for the <code>mime_body</code>. The returned value
is intended to be used as input for the <code>attachments</code> argument
of the <code>compose</code> function:<newline/><precode>     compose ...
        ~attachments:[ wrap_attachment
                          ~content_type:(&quot;audio/wav&quot;, [])
                          (new file_mime_body &quot;music.wav&quot;) ]</precode><newline/>The header contains at least the <code>Content-type</code> and the
<code>Content-transfer-encoding</code> fields. The latter is currently
always <code>&quot;base64&quot;</code>, but it is possible that the function is
changed in the future to also generate <code>&quot;quoted-printable&quot;</code>
when applicable.<param><name>in_charset</name>The encoding of the <code>content_description</code> argument.
Default: <code>`Enc_iso88591</code>.</param><param><name>out_charset</name>The encoding of the generated <code>Content-Description</code>
header. Default: <code>`Enc_iso88591</code>.</param><param><name>content_type</name>Specifies the content type with main
type and list of parameters. Example:
<code>(&quot;text/plain&quot;, [&quot;charset&quot;, Mimestring.mk_param &quot;ISO-8859-1&quot; ])</code>
(see <reference><element><dot><root>Mimestring</root>mk_param</dot></element></reference>)</param><param><name>content_disposition</name>Optionally sets the <code>Content-disposition</code>
header. Frequent values are<list><item><code>(&quot;inline&quot;, [])</code>: Indicates that the attachment is displayed
together with the main text</item><item><code>(&quot;attachment&quot;, [&quot;filename&quot;, Mimestring.mk_param fn])</code>: Indicates
that the attachment should be stored onto the disk. The
parameter <code>fn</code> is the suggested file name. Note that <code>fn</code>
should only consist of ASCII characters unless the <code>charset</code>
argument of <code>mk_param</code> is set to a different character encoding.</item></list></param><param><name>content_id</name>Optionally sets the <code>Content-ID</code> header field.
The passed string is the ID value without the embracing angle
brackets. The <code>Content-ID</code> can be used to refer to the attachment
from other parts of the mail, e.g. in <code>multipart/related</code> mails
HTML documents can include hyperlinks to attachments using the
URL syntax <code>cid:ID</code> where <code>ID</code> is the ID value.</param><param><name>content_description</name>The <code>Content-Description</code> header</param><param><name>content_location</name>The <code>Content-Location</code> header. This must be
a valid URL, only composed of 7 bit characters, and with escaped
unsafe characters</param></doc><arrow><optional>in_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>out_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>content_id</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>content_description</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>content_location</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>content_disposition</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_param</type></resolved></path></tuple></path></tuple><arrow><label>content_type</label><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_param</type></resolved></path></tuple></path></tuple><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_body</class_type></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>wrap_mail</value><doc>Sets the mail-related header fields in the input message, and
returns a message ready for delivery. Transfer- and delivery-related
header fields are removed from the message first, and the new fields
are set to the values passed to this function.<newline/>The arguments are like in <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>compose</value></resolved></element></reference>.<newline/>The input message should have at least a <code>Content-type</code> header,
but this is not enforced.<newline/>Use this function as an alternative to <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netsendmail/index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root></identifier>compose</value></resolved></element></reference>,
if the message is already available as <code>complex_mime_message</code>,
e.g. to re-send a parsed mail message to a new destination.</doc><arrow><optional>in_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>out_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>from_addr</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple><arrow><optional>cc_addrs</optional><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><optional>bcc_addrs</optional><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><label>to_addrs</label><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><label>subject</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><comment><bold>Note: Resending Messages</bold><newline/>Note that mails generated by <code>wrap_mail</code> always appear as new mails,
not as forwarded or replied mails. In order to do the latter a different
way of processing the message is needed.</comment><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>wrap_parts</value><doc>Generates an intermediate container for multipart attachments.
Use this if you want to bundle a set of attachments as a single
attachment.<param><name>in_charset</name>The encoding of the <code>content_description</code> argument.
Default: <code>`Enc_iso88591</code>.</param><param><name>out_charset</name>The encoding of the generated <code>Content-Description</code>
header. Default: <code>`Enc_iso88591</code>.</param><param><name>content_type</name>The <code>Content-Type</code> header. Default: multipart/mixed</param><param><name>content_id</name>The <code>Content-ID</code> header, without the angle brackets</param><param><name>content_description</name>The <code>Content-Description</code> header</param><param><name>content_location</name>The <code>Content-Location</code> header. This must be
a valid URL, only composed of 7 bit characters, and with escaped
unsafe characters</param><param><name>content_disposition</name>The <code>Content-Disposition</code> header</param></doc><arrow><optional>in_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>out_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>content_type</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_param</type></resolved></path></tuple></path></tuple><arrow><optional>content_id</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>content_description</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>content_location</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>content_disposition</optional><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_param</type></resolved></path></tuple></path></tuple><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><comment><bold>Low-level</bold></comment><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>create_address_list_tokens</value><doc>Returns the list of <code>s_token</code>s representing email addresses as
structured value. The addresses are passed as list of pairs
<code>(human_readable, formal)</code> as in the <code>compose</code> function above.
The returned structured field value can be formatted and filled
into a mail header. For example, to set the &quot;To&quot; header to
<code>&quot;Stolpmann, Gerd&quot; &lt;gerd@gerd-stolpmann.de&gt;</code> use
<precode>     let sval = create_address_list_tokens [&quot;Stolpmann, Gerd&quot;,
                                            &quot;gerd@gerd-stolpmann.de&quot;] in
     header # update_field &quot;to&quot; (format_field_value &quot;to&quot; sval)</precode>
This ensures that the field is correctly quoted, that appropriate
encodings are applied and that long values are folded into several
lines.<param><name>in_charset</name>The character encoding used for <code>human_readable</code>.
Defaults to <code>`Enc_iso88591</code>.</param><param><name>out_charset</name>The character encoding used in the generated
encoded word. This encoding must be ASCII-compatible. Defaults to
<code>`Enc_iso88591</code>.</param></doc><arrow><optional>in_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>out_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_token</type></resolved></path></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>create_text_tokens</value><doc>Returns the list of <code>s_token</code>s representing an informal text
as structured value. The text is passed as simple string.
The returned structured field value can be formatted and filled
into a mail header. For example, to set the &quot;Subject&quot; header to
<code>&quot;I have to say something&quot;</code>, use
<precode>     let sval = create_text_tokens &quot;I have to say something&quot; in
     header # update_field &quot;subject&quot; (format_field_value &quot;subject&quot; sval)</precode>
This ensures that the field is correctly quoted, that appropriate
encodings are applied and that long values are folded into several
lines.<param><name>in_charset</name>The character encoding used for the input string.
Defaults to <code>`Enc_iso88591</code>.</param><param><name>out_charset</name>The character encoding used in the generated
encoded words. This encoding must be ASCII-compatible. Defaults to
<code>`Enc_iso88591</code>.</param></doc><arrow><optional>in_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><optional>out_charset</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netconversion/index.xml"><cmti name="Netconversion" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netconversion.cmti" digest="192a0e1fae2f882e5f06cf84e9f3da38"/></xml></base>Netconversion</root></identifier>encoding</type></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_token</type></resolved></path></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>format_field_value</value><doc>To put <code>sval</code>, an <code>s_token list</code>, into the header field <code>name</code>,
call<newline/><code>header # update_field name (format_field_value name sval)</code><newline/>The field value is folded into several lines, if necessary.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/mimestring/index.xml"><cmti name="Mimestring" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/mimestring.cmti" digest="ac31fcb123c04dfee879b3fcd4ac6465"/></xml></base>Mimestring</root></identifier>s_token</type></resolved></path></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></arrow></value><comment><title level="1"><label><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>sending</label>Sending Messages</title></comment><value><value><root><base><xml src="index.xml"><cmti name="Netsendmail" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netsendmail.cmti" digest="dbd2d853dce0f7fa13b7db2f54009591"/></xml></base>Netsendmail</root>sendmail</value><doc>Sends the passed message. The mailer program must be sendmail-compatible
(this can be assumed on all Unix systems, even if a non-sendmail
mailer is installed).<newline/>The mailer program is the command passed as <code>mailer</code>, which is by
default a reasonable compile-time setting.<newline/>With <code>crlf</code> one can determine the EOL convention for the message piped to
the mailer program: If <code>crlf</code>, CR/LF is used, if <code>not crlf</code>, only LF is
used. The default is <code>false</code> for Unix systems.</doc><arrow><optional>mailer</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>crlf</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>complex_mime_message</type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></value></unit>