<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></html></base>Netlog</root><digest>2441459e41ceb77fc72d5714e0508958</digest><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><source><file>netlog.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys</dir><digest>e8ab87649412f1323f7351cc8cf0d568</digest></source><doc>Basic logging facility<newline/>The purpose of this module is to define a mutable logging function
which ensures to be always pointing to a valid logging implementation.
By default, the function prints the messages to stderr, prepended
by a timestamp. In Netplex context, the implementation is changed so
that the Netplex logger is used instead (see <reference><element><root>Netplex_log</root></element></reference>), and
the <code>log</code> and <code>logf</code> functions below have the same effect as
the counterparts in <reference><element><root>Netplex_cenv</root></element></reference> with the same name.</doc><type><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type><doc>The log levels (syslog-like)</doc><poly_variant><fixed/><constructor>Emerg<constant/></constructor><constructor>Alert<constant/></constructor><constructor>Crit<constant/></constructor><constructor>Err<constant/></constructor><constructor>Warning<constant/></constructor><constructor>Notice<constant/></constructor><constructor>Info<constant/></constructor><constructor>Debug<constant/></constructor></poly_variant></type><type><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>logger</type><doc>A logging function takes a level, and the message</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></type><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>channel_logger</value><doc><code>channel_logger ch lev</code>: Prints all messages with a level of <code>lev</code>
and higher to the channel <code>ch</code>. The output buffer is flushed after
each message,</doc><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>out_channel</type></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>logger</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>current_logger</value><doc>The variable containing the current logger function.
Defaults to <code>channel_logger stderr `Debug</code> at program startup.
Assign something else to this variable in order to change the
log destination or the log level.<newline/>Note that the function <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netplex/netplex_main/index.xml"><cmti name="Netplex_main" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netplex/netplex_main.cmti" digest="a9d21f4454daaf30cb6049f087e7e8c0"/></xml></base>Netplex_main</root></identifier>run</value></resolved></element></reference> modifies <code>current_logger</code>
so log messages are forwarded to the Netplex logger. It is then the
Netplex framework that determines log destination and level.</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>logger</type></identifier></resolved></path></path></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>log</value><doc>Writes a log message</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>logf</value><doc>Writes a log message like <code>printf</code></doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>format4</type></resolved><var>a</var><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></path><var>a</var></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level_weight</value><doc>A number correspondig to the level</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level_of_string</value><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>string_of_level</value><doc>Convert level names to strings and vice versa</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>level_names</value><doc>The level names indexed by weight</doc><path><resolved><identifier><type>array</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></value><type><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>format</type><poly_variant><fixed/><constructor>Std<constant/></constructor><constructor>ISO<constant/></constructor></poly_variant></type><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>format_timestamp</value><doc><code>format_timestamp fmt digits (seconds,nanos)</code>: Formats the timestamp
<code>(seconds,nanos)</code> and returns the string. Pass in <code>digits</code> the number
of digits for fractional seconds.<newline/><list><item><code>`Std</code>: This is the &quot;%c&quot; format of <code>Netdate</code></item><item><code>`ISO</code>: ISO-8601 format</item></list></doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>format</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><tuple><path><resolved><identifier><type>float</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></tuple><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>current_formatter</value><doc>The current timestamp formatter<newline/>Example: Change the format of timestamps to ISO with a precision
of milliseconds:
<precode>        Netlog.current_formatter := Netlog.format_timestamp `ISO 3</precode></doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><arrow><tuple><path><resolved><identifier><type>float</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></tuple><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></path></value><module><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module><type><signature><comment>Controlling messages for debugging Ocamlnet</comment><comment>Many Ocamlnet modules can emit debug messages. For a module
<code>M</code> (e.g. <reference><element><root>Rpc_client</root></element></reference>) there is usually a sub module
<code>M.Debug</code> providing functions controlling the debug messages.
These functions send the messages to this <code>Debug</code> module, and from here
they are forwarded to <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netsys/netlog/index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root></identifier>log</value></resolved></element></reference> (with a level of <code>`Debug</code>).<newline/>In this module everything is by default initialized to enable
debug messages (i.e., <code>current_dlogger</code> is set to <code>fwd_dlogger</code>,
and this function sends the messages to <code>current_logger</code> where they are
printed by <code>channel_logger stderr `Debug</code>). However, the debugged
modules also need to be enabled individually. One can do this
by setting the variable <code>M.Debug.enable</code> to <code>true</code>, or by calling
<code>enable_module</code> or <code>enable_all</code> (see below).<newline/>Although this debug interface is mainly intended for Ocamlnet
itself, it is not restricted to this. In order to use it for
a user module, one has to register the boolean variable that
controls whether debug messages are enabled (see <code>register_module</code>
below). This should be done at module initialization time, and
<bold>before</bold> any thread is spawned.</comment><type><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>dlogger</type><doc>Debug logger: The first string is the module name, and the second
is the message</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></type><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>fwd_dlogger</value><doc>The standard debug logger simply prepends the module name to the
message (separated by &quot;: &quot;), and calls the current logger to
print it</doc><path><resolved><identifier><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>dlogger</type></identifier></resolved></path></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>null_dlogger</value><doc>The &quot;logger&quot; not printing anything</doc><path><resolved><identifier><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>dlogger</type></identifier></resolved></path></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>current_dlogger</value><doc>The current debug logger. This is initialized to <code>fwd_dlogger</code> at
program startup. Set this variable to <code>null_logger</code> to completely
turn off debug logging of Ocamlnet.</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>dlogger</type></identifier></resolved></path></path></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>log</value><doc>Writes a log message</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>logf</value><doc>Writes a log message like <code>printf</code></doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>format4</type></resolved><var>a</var><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></path><var>a</var></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>enable_module</value><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>disable_module</value><doc>Enable or disable the passed module <code>M</code>
(e.g. <code>enable_module &quot;Rpc_client&quot;</code>). No exception is raised when
the module name is invalid! Because of this, it is usually safer
to change the variable <code>M.Debug.enable</code> directly (e.g.
<code>Rpc_client.Debug.enable := true</code>).</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>enable_all</value><doc>Enable all modules</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>disable_all</value><doc>Disable all modules (the default)</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>names</value><doc>Return the possible module names for <code>enable_module</code> and
<code>disable_module</code></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></value><comment><title level="2">For debugged Ocamlnet modules</title></comment><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>register_module</value><doc>Registers the <code>enable</code> variable of the named module</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>mk_dlog</value><doc><code>let dlog = mk_dlog &quot;M&quot; enable</code>: The conditional debug function</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>mk_dlogr</value><doc><code>let dlogr = mk_dlog &quot;M&quot; enable</code>: The conditional debug function</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></value><comment><title level="2">File descriptor tracking</title></comment><comment><code>Netlog.Debug</code> also has a little hash table that maps file descriptors
to an info record. This allows it to track file descriptors more
easily, and to find file descriptor leaks, and &quot;double close&quot; bugs.
All long-living descriptors managed by Ocamlnet should go into this
table.</comment><type><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>serial</type><doc>A serial number for the optional tracking of ownership</doc></type><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>new_serial</value><doc>Create new serial number</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>serial</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>track_fd</value><doc><code>track_fd ~owner ~descr fd</code>: Enters the descriptor <code>fd</code> into the
descriptor table. The <code>owner</code> string should be set to the module
name. In <code>descr</code> one can give additional information, e.g. about
the purpose, and details like the file name.<newline/>It is not an error if there is also an entry for the descriptor
<code>fd</code>. However, a warning is emitted (using the debug logger).
By setting <code>update</code> to <code>true</code>, this warning can be suppressed.
The old entry is overwritten by the new one.<newline/>The <code>anchor</code> can be an arbitrary boxed value. When the garbage
collector calls the finaliser for <code>anchor</code> the descriptor is
marked as dead, and will be tagged in the <code>fd_table</code> as such.<newline/>By setting <code>sn</code> to a new serial number, the knowledge of this
number is required to update the descriptor entry later,
and to release the descriptor. If the entry is tried to be
updated or released with the wrong serial number, a warning
is emitted (to the debug logger).</doc><arrow><optional>update</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>anchor</optional><var>a</var><arrow><optional>sn</optional><path><resolved><identifier><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>serial</type></identifier></resolved></path><arrow><label>owner</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><label>descr</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>release_fd</value><doc>Removes this descriptor from the descriptor table.<newline/>It is not an error if the descriptor does not exist in the table.
However, a warning is emitted (using the debug logger).<newline/><code>release_fd</code> must be invoked <bold>before</bold> the descriptor is actually
closed.<newline/><code>force</code>: If set, all warnings are suppressed</doc><arrow><optional>sn</optional><path><resolved><identifier><type><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>serial</type></identifier></resolved></path><arrow><optional>force</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>fd_string</value><doc>Return a string for generating debug messages. By default, the
string only includes the numeric descriptor value.<newline/>If <code>owner</code> is set to true, the string also includes the owner.
If <code>descr</code> is set to true, the string also includes the description.<newline/>The full version of this string looks like
&quot;76(Http_client - 87.65.213.67:80)&quot;. An untracked descriptor
looks like &quot;76(?)&quot;.</doc><arrow><optional>owner</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>descr</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>fd_table</value><doc>Returns the table of descriptors as list of lines.
One can easily print them to stdout using
<code>List.iter print_endline (fd_table())</code>.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>Debug</module>enable_fd_tracking</value><doc>By setting to true, each <code>track_fd</code> and <code>release_fd</code> is
logged.</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path></value></signature></type></module><stop/><value><value><root><base><xml src="index.xml"><cmti name="Netlog" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netsys/netlog.cmti" digest="2441459e41ceb77fc72d5714e0508958"/></xml></base>Netlog</root>ten_power</value><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value></unit>