<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Netsys_pollset</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Netsys_pollset</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Sets of file descriptors for polling</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/classtype:pollset">
  <a href="index.html#/classtype:pollset" class="anchor">#</a>
  
  <div class="classtype">
    <span class="keyword">class type</span> pollset = 
  <div class="region" id="/classtype:pollset/method:find">
  <a href="index.html#/classtype:pollset/method:find" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> find : <a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:file_descr">file_descr</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/">Netsys_posix</a>.<a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/#/type:poll_req_events">poll_req_events</a>
  
      <div class="doc">
        
      <p>Checks whether a descriptor is member of the set, and returns
its event mask. Raises <code>Not_found</code> if the descriptor is not in the set.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:pollset/method:add">
  <a href="index.html#/classtype:pollset/method:add" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> add : <a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:file_descr">file_descr</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/">Netsys_posix</a>.<a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/#/type:poll_req_events">poll_req_events</a> <span class="rarr"><span>-&gt;</span></span> unit
  
      <div class="doc">
        
      <p>Add a descriptor or modify an existing descriptor</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:pollset/method:remove">
  <a href="index.html#/classtype:pollset/method:remove" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> remove : <a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:file_descr">file_descr</a> <span class="rarr"><span>-&gt;</span></span> unit
  
      <div class="doc">
        
      <p>Remove a descriptor from the set (if it is member)</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:pollset/method:wait">
  <a href="index.html#/classtype:pollset/method:wait" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> wait : float <span class="rarr"><span>-&gt;</span></span> (<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:file_descr">file_descr</a> * <a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/">Netsys_posix</a>.<a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/#/type:poll_req_events">poll_req_events</a> * <a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/">Netsys_posix</a>.<a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/#/type:poll_act_events">poll_act_events</a>) list
  
      <div class="doc">
        
      <p>Wait for events, and return the output events matching the event
mask. This is level-triggered polling, i.e. if a descriptor continues
to match an event mask, it is again reported the next time <code>wait</code>
is invoked.</p>
      
      <p>There is no guarantee that the list is complete.</p>
      
      <p>It is unspecified how the set reacts on descriptors that became
invalid (i.e. are closed) while being member of the set. The set
implementation is free to silently disregard such descriptors,
or to report them as invalid. It is strongly recommended to
remove descriptors before closing them.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:pollset/method:dispose">
  <a href="index.html#/classtype:pollset/method:dispose" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> dispose : unit <span class="rarr"><span>-&gt;</span></span> unit
  
      <div class="doc">
        
      <p>Release any OS resources associated with the pollset. The pollset
remains usable, however, and by invoking any method except
<code>cancel_wait</code> the required OS resources are automatically allocated
again. Only for <code>cancel_wait</code> it is ensured that the disposal
remains in effect.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:pollset/method:cancel_wait">
  <a href="index.html#/classtype:pollset/method:cancel_wait" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> cancel_wait : bool <span class="rarr"><span>-&gt;</span></span> unit
  
      <div class="doc">
        
      <p>There is a cancel bit in the pollset, and this method sets it
to the argument value.</p>
      
      <p>When the bit is <code>true</code>, any <code>wait</code> invocation will immediately
time out. It is allowed to set the cancel bit from another thread,
and when it becomes <code>true</code>, a parallel running <code>wait</code> will
see that and timeout. Note that there is no
protection against race conditions: It is possible that <code>wait</code>
returns events that are found at the same time the cancellation
is carried out, i.e. you cannot rely on that the list returned
by <code>wait</code> is empty.</p>
      
      <p>This is the only method of a pollset that is allowed to be called
from a different thread. If not supported on a platform this method
will fail.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>