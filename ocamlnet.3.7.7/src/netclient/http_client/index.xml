<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></html></base>Http_client</root><digest>1f7e656c1c61c63b3475b3b9d175eab3</digest><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>Buffer<digest>a579f4a57e300ec755f84af883c1e51b</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>CamlinternalOO<digest>3d0b4eb4525ba4274c8885d7124f7bbc</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Equeue<digest>207ed21b384dd4f4ad91bce8a449f64c</digest></import><import>Format<digest>61d4350242b30078d3ad96c904c9f7a1</digest></import><import>Hashtbl<digest>bb8e269d690301a1c4ff14a08e96e83e</digest></import><import>Http_client_conncache<digest>786127efbc85a974396896774b1c2cbc</digest></import><import>Int32<digest>f43b8a2972804b40e28b661b6fdf157a</digest></import><import>Int64<digest>3565b288ec68024088360805650448dd</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Mimestring<digest>ac31fcb123c04dfee879b3fcd4ac6465</digest></import><import>Netbuffer<digest>5f4225f2baeef1584e246c6ce1d32119</digest></import><import>Netchannels<digest>4e22bd1ba0cae4bd9bd1b6e69fc16ade</digest></import><import>Netexn<digest>845c6110cc81d957d9fc21c9e149d5fb</digest></import><import>Nethttp<digest>737c0d14116a929a59f2fbe36cc0b7cc</digest></import><import>Netlog<digest>2441459e41ceb77fc72d5714e0508958</digest></import><import>Netmime<digest>0b76a3020124c30d13396d877ed0ad15</digest></import><import>Netsockaddr<digest>514bc9294568dc3facaf49b96623c337</digest></import><import>Netstream<digest>0cb48bc6daf6d8a3d088ce0dfb4dcbbe</digest></import><import>Netsys<digest>4a0ae4cc74f10e8667e3b629e6907079</digest></import><import>Netsys_mem<digest>f19ef786301a8cbcfbf1a4fffee992f8</digest></import><import>Netsys_posix<digest>f5b674538a41e016bb4f0e731d114657</digest></import><import>Netsys_signal<digest>703311022efc5162433d614b9bef35af</digest></import><import>Netsys_types<digest>67b26630eaf4decaa483864d4d00a3a2</digest></import><import>Netsys_win32<digest>02161f9169b76f686b05a51ed2d9357c</digest></import><import>Neturl<digest>b763433207ccde96be6d78d5879c81e3</digest></import><import>Obj<digest>825c406ee2d12ed12fd12dc0e4de1d26</digest></import><import>Oo<digest>0977563fa9c23f2df2952b302bdba835</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Printf<digest>eb49a17645c5ea2dd298430a3c986186</digest></import><import>Set<digest>487197ccd2fea64d52f1cd917061caf2</digest></import><import>Stream<digest>55948988e71c3ee1749feb21ccec9fc9</digest></import><import>Sys<digest>0ce699458ce4430954d7e6a78874647c</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><import>Unixqueue<digest>5ec5f57d46c5b3e908696c79a59232d4</digest></import><import>Unixqueue_util<digest>f013da7473123405a6e2f9edc5dde5e1</digest></import><import>Uq_engines<digest>7eabb27fa86d9290a1fe2ef78547b48a</digest></import><import>Uq_io<digest>984e3954a7772469921ddd3d31a1c224</digest></import><source><file>http_client.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient</dir><digest>b6406f59eeb6244afe699efe9cddff91</digest></source><doc>HTTP 1.1 client</doc><comment><bold>Note for beginners:</bold> There is a simplified interface called
<reference><element><resolved><module><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>Convenience</module></resolved></element></reference>.</comment><comment><bold>Thread safety</bold><newline/>The module can be compiled such that it is thread-safe. In particular,
one has to link the http_client_mt.cm<code>xo</code> object, and thread-safety is
restricted to the following kinds of usage:<list><item>The golden rule is that threads must not share pipeline objects.
If every thread uses its own pipeline, every thread will have its own
set of state variables.
It is not detected if two threads errornously share a pipeline,
neither by an error message nor by implicit serialization. Strange
things may happen.</item><item>The same applies to the other objects, e.g. http_call objects</item><item>The <code>Convenience</code> module even serializes; see below.</item></list></comment><comment><title level="1">Types and Exceptions</title></comment><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Bad_message</exception><doc>The server sent a message which cannot be interpreted. The string
indicates the reason.</doc><arguments><path><resolved><identifier><type>string</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>No_reply</exception><doc>There was no response to the request because some other request failed
earlier and it was not allowed to send the request again.</doc></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Too_many_redirections</exception><doc>While following redirections the limit has been reached</doc></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Name_resolution_error</exception><doc>Could not resolve this name - same as <reference><element><dot><resolved><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier></resolved>Host_not_found</dot></element></reference></doc><arguments><path><resolved><identifier><type>string</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>URL_syntax_error</exception><doc>This URL cannot be parsed after a redirection has been followed.</doc><arguments><path><resolved><identifier><type>string</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Timeout</exception><doc>A timeout. The string explains which connection is affected.
<bold>New since Ocamlnet-3.3.</bold></doc><arguments><path><resolved><identifier><type>string</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Proxy_error</exception><doc>An error status from a proxy. This is only used when extra proxy messages
are used to configure the proxy (e.g. the CONNECT message).</doc><arguments><path><resolved><identifier><type>int</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Response_too_large</exception><doc>The length of the response exceeds the configured maximum</doc></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Http_protocol</exception><doc>The request could not be processed because the exception condition
was raised. The inner exception is one of the above defined.</doc><arguments><path><resolved><identifier><type>exn</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Http_error</exception><doc><bold>Deprecated.</bold>
The server sent an error message. The left component of the pair is
the error code, the right component is the error text.
This exception is only used by <code>get_resp_body</code>, and by the
<reference><element><resolved><module><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>Convenience</module></resolved></element></reference> module.</doc><arguments><tuple><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></arguments></exception><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>status</type><doc>Condensed status information of a HTTP call:<list><item><code>`Unserved</code>: The call has not yet been finished</item><item><code>`HTTP_protocol_error e</code>: An error on HTTP level occurred. Corresponds
to the exception <code>Http_protocol</code>.</item><item><code>`Successful</code>: The call is successful, and the response code is between
200 and 299.</item><item><code>`Redirection</code>: The call is successful, and the response code is
between 300 and 399.</item><item><code>`Client_error</code>: The call failed with a response code between 400 and
499.</item><item><code>`Server_error</code>: The call failed for any other reason.</item></list></doc><poly_variant><fixed/><constructor>Unserved<constant/></constructor><constructor>Http_protocol_error<path><resolved><identifier><type>exn</type></identifier></resolved></path></constructor><constructor>Successful<constant/></constructor><constructor>Redirection<constant/></constructor><constructor>Client_error<constant/></constructor><constructor>Server_error<constant/></constructor></poly_variant></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type><doc>How to deal with automatic reconnections, especially when the
connection crashes.</doc><param>message_class</param><variant><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type>Send_again</constructor><doc>Send the request automatically again</doc></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type>Request_fails</constructor><doc>Drop the request</doc></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type>Inquire</constructor><doc>If the function return <code>true</code> send again, otherwise
drop the request.</doc><arguments><arrow><var>message_class</var><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></arguments></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type>Send_again_if_idem</constructor><doc>Default behaviour: <code>Send_again</code> for idempotent
methods (GET, HEAD), <code>Request_fails</code> for the rest</doc></constructor></variant></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type><param>message_class</param><variant><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type>Redirect</constructor><doc>Perform the redirection</doc></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type>Do_not_redirect</constructor><doc>No redirection</doc></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type>Redirect_inquire</constructor><doc>If the function return <code>true</code> redirect, otherwise
do not redirect. It is legal to set the <code>Location</code>
header as part of the action performed by the
function. (Should be an absolute http URL.)</doc><arguments><arrow><var>message_class</var><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></arguments></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type>Redirect_if_idem</constructor><doc>Default behaviour: <code>Redirect</code> for idempotent
methods (GET, HEAD), <code>Do_not_redirect</code> for the rest</doc></constructor></variant></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>private_api</type><doc>The private part of the <code>http_call</code> class type</doc></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>response_body_storage</type><doc>How to create the response body:<list><item><code>`Memory</code>: The response body is in-memory</item><item><code>`File f</code>: The response body is stored into the file whose name
is returned by <code>f()</code></item><item><code>`Body f</code>: The response body is stored into the object returned
by <code>f()</code></item><item><code>`Device f</code>: The response is directly forwarded to the device
obtained by <code>f()</code> (new since Ocamlnet-3.3)</item></list>When the function <code>f</code> is called in the latter cases the response
header has already been received, and can be retrieved with the
<code>response_header</code> method of the call object. Also, <code>response_status_text</code>,
<code>response_status_code</code>, and <code>response_status</code> return meaningful
values.</doc><poly_variant><fixed/><constructor>Memory<constant/></constructor><constructor>File<arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></constructor><constructor>Body<arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_body</class_type></resolved></path></arrow></constructor><constructor>Device<arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_io/index.xml"><cmti name="Uq_io" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_io.cmti" digest="984e3954a7772469921ddd3d31a1c224"/></xml></base>Uq_io</root></identifier>out_device</type></resolved></path></arrow></constructor></poly_variant></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>synchronization</type><doc>This type determines whether to keep requests and responses
synchronized or not.<newline/>The first request/response round is always done in
Sync mode, because the protocol version of the other side
is not known at that moment. <code>Pipeline</code> requires HTTP/1.1.<newline/>In previous versions of netclient there was a third option,
<code>Sync_with_handshake_before_request_body</code>. This option is no
longer necessary because the HTTP specification has been updated
in the meantime, and there is a better mechanism now (the
<code>Expect</code> header is set).</doc><variant><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>synchronization</type>Sync</constructor><doc>The next request begins after the response of the last request has
been received.</doc></constructor><constructor><constructor><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>synchronization</type>Pipeline</constructor><doc>The client is allowed to send several requests without waiting
for responses. The number is the maximum number of unreplied
requests that are allowed. A typical value: 5.
If you increase this value, the risk becomes higher that requests
must be repeatedly sent to the server in the case the connection
crashes. Increasing is recommended if you send a bigger number of
GET or HEAD requests to the server. Decreasing is recommended if you
send large POST or PUT requests to the server.<newline/>Values &gt; 8 are interpreted as 8.</doc><arguments><path><resolved><identifier><type>int</type></identifier></resolved></path></arguments></constructor></variant></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>resolver</type><doc>A name resolver is a function <code>r</code> called as <code>r esys name reply</code>.
As <code>name</code> the name to resolve is passed. The resolver must
finally call <code>reply</code> with either the resolved address or
with <code>None</code>, indicating an error in the latter case.
The event system <code>esys</code> can be used to carry out the resolution
process in an asynchronous way, but this is optional.<newline/>Only 1:1 resolution is supported, 1:n resolution not.</doc><arrow><path><resolved><class><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>unix_event_system</class></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><arrow><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>inet_addr</type></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type><doc>A channel binding identifies a requirement for the transport
channel, especially whether plain HTTP is sufficient, or HTTPS
needs to be used, and if so, whether there are further requirements
for the SSL context. There are the predefined IDs:<newline/><list><item><reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>http_cb_id</value></resolved></element></reference> for HTTP connections</item><item><reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>https_cb_id</value></resolved></element></reference> for HTTPS connections without user
certificates</item><item><reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>proxy_only_cb_id</value></resolved></element></reference> for the restriction that this
protocol can only be used via a web proxy</item></list></doc><path><resolved><identifier><type>int</type></identifier></resolved></path></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type><doc>Options for the whole pipeline. It is recommended to change options
the following way:
<precode>	     let opts = pipeline # get_options in
             let new_opts = { opts with &lt;field&gt; = &lt;value&gt;; ... } in
             pipeline # set_options new_opts</precode><newline/>New fields can be added anytime to this record, and this style
of changing options is transparent to field additions.</doc><record><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>synchronization</field><doc>Default: <code>Pipeline 5</code>.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>synchronization</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>maximum_connection_failures</field><doc>This option limits the number of connection attempts.
Default: 2</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>maximum_message_errors</field><doc>This option limits the number of protocol errors tolerated per
request. If a request leads to a protocol error, the connection
is shut down, the server is connected again, and the request is
tried again (if the kind of the message allows retransmission).
If a request repeatedly fails, this option limits the number
of retransmissions.
Default: 2</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>inhibit_persistency</field><doc>This option turns persistent connections off.
Default: <code>false</code>
It is normally not necessary to change this option.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>connection_timeout</field><doc>If there is no network transmission for this period of time,
the connection is shut down, and tried again.
Default: 300.0 (seconds)
It may be necessary to increase this value if HTTP is used for
batch applications that contact extremely slow services.</doc><path><resolved><identifier><type>float</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>number_of_parallel_connections</field><doc>The client keeps up to this number of parallel connections to
a single content server or proxy.
Default: 2
You may increase this value if you are mainly connected with
an HTTP/1.0 proxy.</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>maximum_redirections</field><doc>The maximum number of redirections per message</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>handshake_timeout</field><doc>The timeout when waiting for &quot;100 Continue&quot;. Default: 1.0</doc><path><resolved><identifier><type>float</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>resolver</field><doc>The function for name resolution</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>resolver</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>configure_socket</field><doc>A function to configure socket options</doc><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>schemes</field><doc>The list of supported URL schemes. The tuples mean
<code>(scheme, syntax, default_port, cb)</code>. By default, the
schemes &quot;http&quot;, &quot;https&quot;, and &quot;ipp&quot; are supported.</doc><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/neturl/index.xml"><cmti name="Neturl" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/neturl.cmti" digest="b763433207ccde96be6d78d5879c81e3"/></xml></base>Neturl</root></identifier>url_syntax</type></resolved></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></tuple></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_status</field><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_request_header</field><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_response_header</field><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_request_contents</field><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_response_contents</field><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_connection</field><path><resolved><identifier><type>bool</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type>verbose_events</field><doc>Enable various debugging message types.<list><item><code>verbose_status</code>: reports about status of received documents</item><item><code>verbose_request_header</code>: prints the header sent to the server</item><item><code>verbose_request_contents</code>: prints the document sent to the server</item><item><code>verbose_response_header</code>: prints the header of the answer from the server</item><item><code>verbose_response_contents</code>: prints the document received from the server</item><item><code>verbose_connection</code>: reports many connection events; authentication,
too.</item><item><code>verbose_events</code>: everything about the interaction with <code>Unixqueue</code></item></list>By default, <code>verbose_status</code> and <code>verbose_connection</code> are enabled.
Note that you also have to set <code>Debug.enable</code> to <code>true</code> to see
any log message at all!</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></field></record></type><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>header_kind</type><doc>The <code>`Base</code> header is set by the user of <code>http_call</code> and is never
changed during processing the call. The <code>`Effective</code> header is a copy
of the base header at the time the request is sent. The effective header
contains additions like <code>Content-length</code> and authentication info.</doc><poly_variant><fixed/><constructor>Base<constant/></constructor><constructor>Effective<constant/></constructor></poly_variant></type><class_type><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type><doc>The container for HTTP calls</doc><signature><comment><code>http_call</code> is the runtime container for HTTP method calls. It contains
the request message, the response message, and the current transmission
status.<newline/>In previous versions of netclient, this class type was called
<code>message</code>. This was quite inexact because this class embraces both
messages that are part of a call.<newline/><bold>Incompatible changes</bold>:<list><item><code>using_proxy</code> has been removed. This simply isn't a property of
an individual call.</item><item><code>get_req_uri</code> has been removed from the public interface for similar
reasons.</item><item>The request and response messages are now primarily stored as
<code>Netmime.mime_header</code> and <code>Netmime.mime_body</code> objects. The old
style access methods remain in the API for now. The advantage is
that it is possible to use external files as body containers.</item><item>There are two request headers, <code>`Base</code> and <code>`Effective</code>.</item></list></comment><comment><title level="2">Call State</title></comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>is_served</method><doc><code>true</code> if request/response cycle(s) have been finished, i.e. the
call was successful, or a final error state has been reached.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>status</method><doc>The condensed status</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>status</type></identifier></resolved></path></method><comment><title level="2">Accessing the request message (new style)</title></comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>request_method</method><doc>The HTTP method as string</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>request_uri</method><doc>The request URI as string. This is always an absolute URI in the
form &quot;http://server/path&quot; or &quot;https://server/path&quot;.</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_request_uri</method><doc>Sets the request URI. This implicitly also sets the channel binding
ID (see below).<newline/><bold>Changed in Ocamlnet-3.3:</bold> The URI is no longer immediately parsed,
but first when the call is submitted to a pipeline. This means that
parsing errors will first be reported by the <code>add</code> method. The
background is that parsing now depends on pipeline options.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>request_header</method><doc>The whole header of the request. Users of this class should only
modify the <code>`Base</code> header. After the call has been processed,
the <code>`Effective</code> header contains the version of the header that has
actually been transmitted.<newline/>The user should set the following headers:<list><item><code>Content-length</code>: Set this to the length of the request body
if known. (The client falls back to HTTP 1.0 if not set!)</item><item><code>Content-type</code>: Set this to the media type of the request body</item><item><code>Expect</code>: Set this to &quot;100-continue&quot; to enable a handshake before
the body is sent. Recommended for large bodies. (See also
<code>set_expect_handshake</code> below.)</item></list>The following headers may be set, but there are reasonable defaults:<list><item><code>Date</code></item><item><code>User-agent</code></item></list>The following headers must not be set:<list><item><code>Connection</code></item></list></doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>header_kind</type></identifier></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_header</class_type></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_request_header</method><doc>Replaces the whole <code>`Base</code> header object</doc><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_header</class_type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_expect_handshake</method><doc>Configures that a handshake is done before sending the request body.
This is useful when the request body can be large, and
authentication or response indirections are possible.
<bold>New since Ocamlnet-3.3.</bold></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_chunked_request</method><doc>Configures that the request is transmitted using chunked encoding.
This has advantages when the size of the request is not known
in advance. However, this works only for true HTTP/1.1 servers.
<bold>New since Ocamlnet-3.3.</bold></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>effective_request_uri</method><doc>The URI actually sent to the server in the request line of the
protocol.</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>request_body</method><doc>The whole body of the request. This method fails after
<code>set_request_device</code> has been called (no body then).</doc><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_body</class_type></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_request_body</method><doc>Replaces the whole body object</doc><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_body</class_type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_request_device</method><doc>Sets that the request data is read from the passed device instead
of taking it from a body object. The device must be connected with
the same event loop as the HTTP client.</doc><arrow><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_io/index.xml"><cmti name="Uq_io" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_io.cmti" digest="984e3954a7772469921ddd3d31a1c224"/></xml></base>Uq_io</root></identifier>in_device</type></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_accept_encoding</method><doc>Sets the <code>Accept-Encoding</code> field in the request header, and
includes all decompression algorithms registered in
<reference><element><root>Netcompression</root></element></reference>. Additionally, the automatic decompression of
the response body is enabled.<newline/>Note that you need to ensure that the algorithms are really
registered at <reference><element><root>Netcompression</root></element></reference>. For example, to get <code>gzip</code>
support, run <precode>Netgzip.init()</precode>, and include <code>netzip</code> as
library.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><comment><title level="2">Accessing the response message (new style)</title><newline/>These methods will fail if the call has not yet been served!
If the call has been finished, but a hard error (e.g. socket error)
occurred, the
exception <code>Http_protocol</code> is raised. When the server only
sent an error code, no exception is raised - but the user can
manually test for such codes (e.g. with <code>repsonse_status</code> or
<code>status</code>).</comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_status_code</method><doc>The three-digit status code</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_status_text</method><doc>The text transmitted along with the code</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_status</method><doc>The decoded code. Unknown codes are mapped to the generic status
values <code>`Ok</code>, <code>`Multiple_choices</code>, <code>`Bad_request</code>, and
<code>`Internal_server_error</code>.</doc><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_status</type></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_protocol</method><doc>The HTTP version indicated in the response</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_header</method><doc>The whole header of the response. If the call has not succeeded,
<code>Http_protocol</code> will be raised.</doc><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_header</class_type></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_body</method><doc>The whole body of the response. If the call has not succeeded,
<code>Http_protocol</code> will be raised. If the call has succeeded,
but no body has been transmitted, the empty body is substituted.<newline/>If the response is directly forwarded to a device (after
calling <code>set_response_body_storage (`Device d)</code>), there is
no accessible response body, and this method will fail.</doc><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/netmime/index.xml"><cmti name="Netmime" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/netmime.cmti" digest="0b76a3020124c30d13396d877ed0ad15"/></xml></base>Netmime</root></identifier>mime_body</class_type></resolved></path></method><comment><title level="2">Options</title></comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>response_body_storage</method><doc>How to create the response body. Defaults to <code>`Memory</code>.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>response_body_storage</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_response_body_storage</method><doc>Sets how to create the response body</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>response_body_storage</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>max_response_body_length</method><doc>Returns the current maximum length (initially <code>Int64.max_int</code>)</doc><path><resolved><identifier><type>int64</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_max_response_body_length</method><doc>Sets a new maximum length. When the body exceeds this maximum
by more than the size of the internal buffer, the reception of
the response is interrupted, and the error is set to
<code>Response_too_large</code>.</doc><arrow><path><resolved><identifier><type>int64</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_reconnect_mode</method><doc>Get what to do if the server needs to be reconnected, i.e.
if the request must be sent repeatedly.
By default, this is <code>Send_again_if_idem</code>.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_reconnect_mode</method><doc>Sets the reconnect mode</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_reconnect</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_redirect_mode</method><doc>By default, the redirect mode is <code>Redirect_if_idem</code>.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_redirect_mode</method><doc>Sets the redirect mode</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>how_to_redirect</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>proxy_enabled</method><doc>Returns the proxy mode</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_proxy_enabled</method><doc>Sets the proxy mode</doc><arrow><path><resolved><identifier><type>bool</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>no_proxy</method><doc>Same as <code>set_proxy_enabled false</code></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>is_proxy_allowed</method><doc><bold>Deprecated.</bold> Same as <code>proxy_enabled</code></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></method><comment><title level="2">Method characteristics</title><newline/>These properties describe the HTTP method</comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>proxy_use_connect</method><doc>Whether to use the CONNECT method if the connection is made via a
web proxy. This is normally true if the channel binding is
<reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>https_cb_id</value></resolved></element></reference></doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>empty_path_replacement</method><doc>The string to substitute in the request line for the empty
path. This is usually &quot;/&quot;, and for OPTIONS it is &quot;*&quot;.</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>is_idempotent</method><doc>Whether the method is to be considered as idempotent ( = repeated
invocations have the same result and no side effect). This is
true for GET and HEAD.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>has_req_body</method><doc>Whether the method allows to send a request body</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>has_resp_body</method><doc>Whether the method allows to reply with a body. This is true
except for HEAD.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><comment><title level="2">Channel bindings</title><newline/>Channel bindings are used to distinguish between security requirements.
There are normally only two types of requirements:<newline/><list><item>The ID <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>http_cb_id</value></resolved></element></reference> is used for messages that can only
be sent over HTTP connections, i.e. unencrypted TCP. It is automatically
set when the URL of the message starts with &quot;http://&quot;.</item><item>The ID <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>https_cb_id</value></resolved></element></reference> describes the requirement that the
message can only be sent over HTTPS connections, i.e. TLS-protected
TCP. It is automatically set when the URL of the message starts with
&quot;https://&quot;.</item></list>It is possible to change the channel binding to establish further
types of security requirements (e.g. that certain client certificates
are used), or even other details of the transport connection.<newline/>The method <code>channel_binding</code> is gone from this object type.
It is now available as part of <code>pipeline</code>.</comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_channel_binding</method><doc>Sets the channel binding. Note that <code>set_request_uri</code> also sets
the channel binding, but always to the default for the type of URL.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><comment><title level="2">Repeating calls</title></comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>same_call</method><doc>This method returns a new object that will perform the same call
as this object (this function is called &quot;reload&quot; in browsers).
The new object is initialized as follows:<list><item>The state is set to <code>`Unserved</code></item><item>The request method remains the same (the class of the returned
object remains the same)</item><item>The request URI is the same string as the original URI</item><item>The channel binding ID is the same</item><item>The base request header is the same object</item><item>The request body is the same object</item><item>Options like reconnect, redirect mode, and proxy mode are
copied.</item></list></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></method><comment><title level="2">Old style access methods</title><newline/>These method were introduced in previous versions of netclient,
but are quite limited. Some questionable methods are now deprecated
and will be removed in future versions of netclient.</comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_req_method</method><doc>Get the name of the request method. Same as <code>request_method</code>.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_host</method><doc>The host name of the content server, extracted from the URI.<newline/><bold>Changed in Ocamlnet-3.3:</bold> The host can first be extracted after
the call is submitted to a pipeline.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_port</method><doc>The port number of the content server, extracted from the URI.<newline/><bold>Changed in Ocamlnet-3.3:</bold> The port can first be extracted after
the call is submitted to a pipeline.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_path</method><doc>The path (incl. query, if any) extracted from the URI.<newline/><bold>Changed in Ocamlnet-3.3:</bold> The path can first be extracted after
the call is submitted to a pipeline.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_uri</method><doc>the full URI of this message: http://server:port/path. If the
path is empty, it is omitted. - Same as <code>request_uri</code>.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_req_body</method><doc>What has been sent as body in the (last) request. Same as
<code>request_body # value</code>.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_req_header</method><doc><bold>Deprecated.</bold>
What has been sent as header in the (last) request. Returns
(key, value) pairs, where the keys are all in lowercase.<newline/>In new code, the <code>request_header</code> object should be accessed instead.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>assoc_req_header</method><doc>Query a specific header entry, or raise <code>Not_found</code></doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>assoc_multi_req_header</method><doc>Return all header values for a given field name (header entries
which allow several values separated by commas can also be
transmitted by several header lines with the same name).</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>set_req_header</method><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_resp_header</method><doc><bold>Deprecated.</bold>
Get the header of the last response. The keys are in lowercase
characters again.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>assoc_resp_header</method><doc>Query a specific header entry of the response.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>assoc_multi_resp_header</method><doc>Return all response header values for a given field name (header
entries which allow several values separated by commas can also be
transmitted by several header lines with the same name).</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>get_resp_body</method><doc><bold>Deprecated.</bold>
Returns the body of the last response if the response status
is OK (i.e. the code is in the range 200 to 299).<newline/>Otherwise, Http_error (code, body) is raised where 'code' is
the response code and 'body' is the body of the (errorneous)
response.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>dest_status</method><doc>Returns the status line of the last response (but status lines
with code 100 are ignored).
The returned triple is (http_string, code, text)</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></arrow></method><comment><title level="2">Private</title></comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type>private_api</method><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>private_api</type></identifier></resolved></path></method></signature></class_type><class_type><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>transport_channel_type</class_type><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>transport_channel_type</class_type>setup_e</method><doc><code>setup fd cb tmo tmo_x host port esys</code>: Create or configure a communication
circuit over the file descriptor <code>fd</code> that can be driven by the
returned multiplex controller object. Since OCamlnet-3.8, the method
can also return private data for the connection cache.<newline/><code>tmo</code> is the timeout. After inactivity the exception <code>tmo_x</code> must be
raised.<newline/><code>host</code> is the name of the machine to connect to. <code>port</code> is the port
number. The descriptor <code>fd</code> is already connected to this port, directly
or via a proxy.</doc><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path><arrow><path><resolved><identifier><type>float</type></identifier></resolved></path><arrow><path><resolved><identifier><type>exn</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>event_system</class_type></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>engine</class_type></resolved><tuple><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>multiplex_controller</class_type></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client_conncache/index.xml"><cmti name="Http_client_conncache" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client_conncache.cmti" digest="786127efbc85a974396896774b1c2cbc"/></xml></base>Http_client_conncache</root></identifier>private_data</type></resolved></path></tuple></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>transport_channel_type</class_type>continue</method><doc><code>continue</code> is called when an already established circuit needs to
be continued.<newline/>Note that the event system can be different now.<newline/>If it is not possible to continue, the method may raise <code>Not_found</code>.</doc><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path><arrow><path><resolved><identifier><type>float</type></identifier></resolved></path><arrow><path><resolved><identifier><type>exn</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>event_system</class_type></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client_conncache/index.xml"><cmti name="Http_client_conncache" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client_conncache.cmti" digest="786127efbc85a974396896774b1c2cbc"/></xml></base>Http_client_conncache</root></identifier>private_data</type></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>multiplex_controller</class_type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>transport_channel_type</class_type>default_port</method><doc>If set, the <code>Host</code> header omits this port number</doc><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path></method></signature></class_type><comment><title level="1">HTTP methods</title></comment><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class><doc>This class is an implementation of <code>http_call</code>. A subclass must
define the virtual methods that mostly define the general properties
of the HTTP method.</doc><virtual/><signature><inherit><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></inherit><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class>fixup_request</method><doc>This method is called just before sending the request. It can
fix up things in the <code>`Effective</code> request header.</doc><private/><virtual/><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class>def_request_method</method><doc>The following methods define the values for the corresponding
methods without the <code>def_</code> prefix:</doc><private/><virtual/><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class>def_empty_path_replacement</method><private/><virtual/><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class>def_is_idempotent</method><private/><virtual/><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class>def_has_req_body</method><private/><virtual/><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>generic_call</class>def_has_resp_body</method><private/><virtual/><path><resolved><identifier><type>bool</type></identifier></resolved></path></method></signature></class><comment>The following classes are implementations for the various HTTP
methods. These classes do not initialize the call object.</comment><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>get_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>trace_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>options_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>head_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>post_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>put_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>delete_call</class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></class><comment>The following classes initialize the request message of the
call (header and body).
These classes are also backward compatible to the classes
found in earlier versions of netclient.</comment><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>get</class><doc>Argument: URI</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>trace</class><doc>Arguments: URI, maximum number of hops</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>options</class><doc>Argument: URI or &quot;*&quot;</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>head</class><doc>Argument: URI</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>post</class><doc>Arguments: URI, parameter list to be transferred as
application/x-www-form-urlencoded body</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>post_raw</class><doc>Arguments: URI, body</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>put</class><doc>Arguments: URI, body</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>delete</class><doc>Argument: URI</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></class><comment><title level="1">Authentication</title></comment><class_type><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type><doc>A <code>key</code> is a user/password combination for a certain realm</doc><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type>user</method><doc>The user name</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type>password</method><doc>The password in cleartext</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type>realm</method><doc>The realm</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type>domain</method><doc>The domain URIs defining the protection space. The domain URIs
are absolute URIs. The list must not be empty for content accesses.
For proxy keys the list must be empty.<newline/>Normally, this is just a list with one element. The URI must include
the protocol scheme, the host name, and &quot;/&quot; as path. The port number
is optional. Example: &quot;http://localhost/&quot;. If the key is applicable
to all domains, set this to <code>&quot;*&quot;</code>.</doc><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></method></signature></class_type><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</value><doc>Create a key object</doc><arrow><label>user</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><label>password</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><label>realm</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><label>domain</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type></identifier></resolved></path></arrow></arrow></arrow></arrow></value><class_type><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type>inquire_key</method><doc>The method is called when a new session must be authenticated.
The <code>domain</code> is the URI list describing the protection space. URIs
currently have the form &quot;http://host:port/path&quot;, i.e. the port is
always written out. The <code>realms</code> parameter is a list
of realm identifiers. In <code>auth</code> the name of the authentication
method is passed (lowercase characters). The method must
search (or query for) a key, and return it. The key must refer to
one of the passed realms. The domain of the key must be exactly
the same as the passed <code>domain</code> (unless <code>domain=[&quot;*&quot;]</code>).
If the method raises <code>Not_found</code>,
authentication will fail.</doc><arrow><label>domain</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><label>realms</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><label>auth</label><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type></identifier></resolved></path></arrow></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type>invalidate_key</method><doc>The handler is notified that authentication failed for this key</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method></signature></class_type><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_ring</class><doc>The <code>key_ring</code> is a cache for keys. The optional <code>uplink</code> handler
is invoked when no matching key is found in the cache.</doc><arrow><optional>uplink</optional><path><resolved><identifier><type>option</type></identifier></resolved><class><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type></identifier></resolved></class></path><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><signature><inherit><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type></identifier></resolved></path></inherit><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_ring</class>clear</method><doc>Deletes all keys from this key ring</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_ring</class>add_key</method><doc>Adds a key to the ring</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_ring</class>keys</method><doc>List of all known keys</doc><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key</class_type></identifier></resolved></path></path></method></signature></arrow></arrow></class><class_type><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type><doc>An <code>auth_session</code> represents an authenticated session</doc><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>auth_scheme</method><doc>The authentication scheme, e.g. &quot;basic&quot;</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>auth_domain</method><doc>The list of domain URIs defines the protection space.<newline/><bold>Change:</bold> Since Ocamlnet-3.3, this is a list of <reference><element><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/neturl/index.xml"><cmti name="Neturl" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/neturl.cmti" digest="b763433207ccde96be6d78d5879c81e3"/></xml></base>Neturl</root></identifier>url</type></resolved></element></reference>,
and no longer a list of strings.</doc><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/neturl/index.xml"><cmti name="Neturl" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/neturl.cmti" digest="b763433207ccde96be6d78d5879c81e3"/></xml></base>Neturl</root></identifier>url</type></resolved></path></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>auth_realm</method><doc>The realm</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>auth_user</method><doc>The user identifier</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>auth_in_advance</method><doc>Whether &quot;authentication in advance&quot; is enabled</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>authenticate</method><doc>Returns a list of additional headers that will authenticate
the passed call for this session. (This is usually only one
header, <code>authorization</code>.)<newline/>If the call is authenticated in advance, it does not contain
any authentication information. If the call is authenticated
in reaction to a 401 status, the response header contains
the <code>www-authenticate</code> field(s).</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type>invalidate</method><doc>The session is notified that authentication failed. (This
method is not called for authentication-in-advance, but only
if an authentication attempt after a 401 status failed.)
The method can return <code>true</code> if another authentication should
be started immediately.<newline/>Note: By returning <code>true</code> the session can indicate a &quot;stale&quot;
condition in the sense of RFC 2617.</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></method></signature></class_type><class_type><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type><doc>An authentication handler has the capability of adding the necessary
headers to messages.</doc><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type>create_session</method><doc>Create a new authentication session. The passed call has status 401.</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type></identifier></resolved></path></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type></identifier></resolved></path></path></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type>create_proxy_session</method><doc>Same for proxy authentication</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type></identifier></resolved></path></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type></identifier></resolved></path></path></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type>skip_challenge</method><doc>If non-None, this method allows to skip the challenge entirely
for authentication. This means that the credentials are added to
the HTTP request before any previous response was seen from the
server. This adds additional security risks, and may cause that
credentials are sent to servers that forge their identity.
This is <bold>only</bold> supported for basic authentication. The string
describes the URL space to which this applies (e.g.
&quot;http://the-server/subdir&quot;). Set the string to &quot;*&quot; to enable
everywhere. As no challenge is known, the realm string is
simply assumed to be &quot;anywhere&quot;.</doc><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type>skip_challenge_session</method><doc>Create a session for the case that the challenge was skipped</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type></identifier></resolved></path></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_session</class_type></identifier></resolved></path></path></arrow></arrow></method></signature></class_type><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_handler</class><doc>Basic authentication. Authentication information is obtained by
the passed key_handler.<newline/><code>enable_auth_in_advance</code>: If set to <code>true</code>, a quicker authentication
mode is enabled: when a request is sent out, it is checked whether
a previous request/response cycle exists that needed authentication.
If so, the same credentials are added to the request. Normally,
the request would be sent without credentials first, and only after
getting the authentication challenge the request is resent with the
credentials.<newline/><code>skip_challenge</code>: This option enables a mode so that the credentials
are added to HTTP requests even before any response has been seen
by the server.
This adds additional security risks, and may cause that
credentials are sent to servers that forge their identity.
The string
describes the URL space to which this applies (e.g.
&quot;http://the-server/subdir&quot;). Set the string to &quot;*&quot; to enable
everywhere. As no challenge is known, the realm string is
simply assumed to be &quot;anywhere&quot;.</doc><arrow><optional>enable_auth_in_advance</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><optional>skip_challenge</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></path><arrow><class><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type></identifier></resolved></class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type></identifier></resolved></path></arrow></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>digest_auth_handler</class><doc>Digest authentication. Authentication information is obtained by
the passed key_handler.<newline/>This handler is compatible with RFC 2069 and RFC 2617. In particular,
the following protocol options are available:<list><item>The algorithms MD5 and MD5-sess are implemented</item><item>The quality of protection mode &quot;auth&quot; is implemented. The optional
mode &quot;auth-int&quot; has been omitted.</item><item>The information of the <code>Authentication-Info</code> header is completely
ignored</item></list><code>enable_auth_in_advance</code>: If set to <code>true</code>, authentication can be
done in advance, i.e. before the server requests authentication.
This reduces the number of messages exchanged with the server, but
may be an additional security risk.</doc><arrow><optional>enable_auth_in_advance</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><class><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type></identifier></resolved></class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type></identifier></resolved></path></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>unified_auth_handler</class><doc>Support both digest and basic authentication, with preference to
digest.<newline/>Note that there is no way of authenticating in advance, as it is
not known in advance which mechanism is used.</doc><arrow><class><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>key_handler</class_type></identifier></resolved></class><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type></identifier></resolved></path></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_method</class><doc><bold>Deprecated.</bold> For (limited) backwards compatibility:</doc><signature><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_method</class>name</method><path><resolved><identifier><type>string</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_method</class>set_realm</method><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_method</class>as_auth_handler</method><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type></identifier></resolved></path></method></signature></class><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>digest_auth_method</class><doc><bold>Deprecated.</bold> For (limited) backwards compatibility:</doc><path><resolved><identifier><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_method</class></identifier></resolved></path></class><comment><title level="1">Transport</title></comment><comment>A connection cache is an object that keeps connections open that
are currently unused. A connection cache can be shared by several
pipelines.</comment><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>connection_cache</type><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client_conncache/index.xml"><cmti name="Http_client_conncache" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client_conncache.cmti" digest="786127efbc85a974396896774b1c2cbc"/></xml></base>Http_client_conncache</root></identifier>connection_cache</class_type></resolved></path></type><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>close_connection_cache</value><doc>Closes all descriptors known to the cache</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>connection_cache</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>create_restrictive_cache</value><doc>A restrictive cache closes connections as soon as there are no
pending requests.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>connection_cache</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>create_aggressive_cache</value><doc>This type of cache tries to keep connections as long open as
possible. The consequence is that users are responsible for
closing the descriptors (by calling <code>close_connection_cache</code>) when the
cache is no longer in use.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>connection_cache</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_cb_id</value><doc>Identifies a channel binding to pure HTTP (without SSL), with or
without web proxies</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>https_cb_id</value><doc>Identifies a channel binding to anonymous HTTPS (i.e. no client
certificates), with or without web proxies.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>proxy_only_cb_id</value><doc>Identifies a channel binding to web proxy connections. Use this to
e.g. send an FTP URL to a web proxy via HTTP</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>new_cb_id</value><doc>Allocates and returns a new ID</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_transport_channel_type</value><doc>Transport via HTTP</doc><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>transport_channel_type</class_type></identifier></resolved></path></value><type><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>proxy_type</type><poly_variant><fixed/><constructor>Http_proxy<constant/></constructor><constructor>Socks5<constant/></constructor></poly_variant></type><comment><title level="1">Pipelines</title></comment><class><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class><doc>A pipeline is a queue of HTTP calls to perform</doc><signature><comment>A <code>pipeline</code> object is a FIFO queue of HTTP calls. It is called
&quot;pipeline&quot; because it is processed asynchronously: Requests may be
sent to the HTTP server independently of whether responses of the
previous requests already arrived or not.<newline/>Furthermore, a <code>pipeline</code> object may keep connections to several
servers at once. (More exactly, it has a FIFO queue for every
server it is connected with.)<newline/>The <code>pipeline</code> object keeps track what is happening, so you need
not to care about the details of communications. The API is
simple: Create a <code>pipeline</code> object, do some setup (add authentication
methods; configure the proxy to use), add the requests, and
<code>run</code> the pipeline. The rest is done automatically. To get the results,
you can either memorize the requests you wanted to know yourself
and ask every request object about the reply of the server; or
you can specify that a callback function should be called once
the request is processed (with positive or negative result).
It is possible to add further requests to the pipeline from within
these callback functions.<newline/>If you want to have several pipelines, or some cooperation with
other network services, you may specify a <code>Unixqueue.event_system</code>.
For example, to have two pipelines working concurrently:<newline/><precode>       let ues = Unixqueue.create_unix_event_system() in
       let p1 = new pipeline in
       let p2 = new pipeline in
       p1 # set_event_system ues;
       p2 # set_event_system ues;
       Unixqueue.run ues             (* run p1 and p2 in parallel *)</precode><newline/>This works not only with pipelines, but with every network client
or server which is compatible with the <code>Unixqueue</code> design.<newline/>By default, the pipeline only supports &quot;http&quot; URLs. You can configure
&quot;https&quot; support via <reference><element><root>Https_client</root></element></reference>.</comment><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>event_system</method><doc>Returns the event system</doc><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>event_system</class_type></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_event_system</method><doc>Sets the event system. Must be called before the first call
is added</doc><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>event_system</class_type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>connection_cache</method><doc>The current connection cache. By default, a private
restrictive cache is used.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>connection_cache</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_connection_cache</method><doc>Set the connection cache. This must happen before the first
call is added.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>connection_cache</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>add_authentication_method</method><doc>adds an old-style authentication method</doc><arrow><path><resolved><identifier><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>basic_auth_method</class></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>add_auth_handler</method><doc>adds a new-style authentication handler</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>auth_handler</class_type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_proxy</method><doc><code>set_proxy name port</code>:
sets that an HTTP proxy <code>name</code> listening on <code>port</code> is to be used</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_proxy_auth</method><doc>sets user and password for the proxy. Works for both &quot;digest&quot;
and &quot;basic&quot; mechanisms. Any realm is acceptable.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>avoid_proxy_for</method><doc>sets a list of host names or domain suffixes for which no proxy
should be used.
e.g. <code>&quot;localhost&quot;; &quot;.our.net&quot;</code></doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_proxy_from_environment</method><doc>Inspect the environment variables <code>http_proxy</code> and <code>no_proxy</code>
and set the proxy options from them.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_socks5_proxy</method><doc>Sets that a SOCKS version 5 proxy is used at this host and port.
There is no authentication. The <code>avoid_proxy_for</code> setting is
honoured.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>configure_transport</method><doc><code>configure_transport id transport</code>: Configures that messages with
channel binding ID <code>id</code> are exchanged on <code>transport</code>.<newline/>By default, there is only a configuration for
<reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>http_cb_id</value></resolved></element></reference>, i.e. for normal unencrypted channels.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>transport_channel_type</class_type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_transport_proxy</method><doc><code>set_transport_proxy id host port auth ptype</code>: Sets a special
proxy for the transport identified by <code>id</code>. This overrides
<code>set_proxy</code>, <code>set_proxy_auth</code>, and <code>set_socks5_proxy</code> for the
given transport.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>option</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>proxy_type</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_transport_proxy_from_environment</method><doc>Like <code>set_proxy_from_environment</code>, this method inspects environment
variables and configures the proxy settings. This function, however,
is more flexible, and can use different environment variables for
different transports.<newline/>The argument list has pairs <code>(var_name, id)</code> meaning that the
environment variable <code>var_name</code> configures the proxy for <code>id</code>.
For instance,
<precode>[(&quot;http_proxy&quot;, http_cb_id); (&quot;https_proxy&quot;, https_cb_id)]</precode>
means that these two variables are used for the respective
transports.<newline/>The variable <code>&quot;no_proxy&quot;</code> is interpreted anyway.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></tuple></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>reset</method><doc>Empties the pipeline and inactivates any open connection.
The currently active operation is interrupted, and every request
with response is set to <code>No_reply</code> (i.e. you get the exception
<code>No_reply</code> if you try to access the response).
If there are callbacks for these requests, the callback
functions are invoked.
The queues of open requests and replies are cleared. All
connections to all servers are inactivated.<newline/>Inactivation means that open connections are given back
to the connection cache for further reuse if the state
of the connection allows this; otherwise the connections are
closed.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>add</method><doc>Adds the call to the end of the pipeline.
One must not add calls that have already been served.</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>add_with_callback</method><doc>Adds the call to the end of the pipeline.<newline/>After the call has been processed, the callback function
is called. This function is called for every call that
leaves the pipeline, it does not matter whether processing
was successful or not. Invoke <code>status</code> on the message
to get what happened; either some status information from the
server is available (perhaps OK status), or an exception is
indicated.</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><arrow><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>add_e</method><doc>The same as engine: The call <code>c</code> is added to the pipeline, and
when it is processed, the returned engine transitions to the
state <code>`Done c</code>.</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>engine</class_type></resolved><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>proxy_type</method><doc><code>proxy_type url</code> returns <code>Some pt</code> if a proxy would be used for this
<code>url</code>, and <code>None</code> if a direct connection would be made.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>proxy_type</type></identifier></resolved></path></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>proxy_type_of_call</method><doc>Same for an already created call object</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>proxy_type</type></identifier></resolved></path></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>channel_binding</method><doc>Reports the current channel binding of this call</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>channel_binding_id</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>run</method><doc>Runs through the requests in the pipeline. If a request can be
fulfilled, i.e. the server sends a response, the state of the
request is set and the request is removed from the pipeline.
If a request cannot be fulfilled (no response, bad response,
network error), the exception is stored in the <code>http_call</code>
object and will be raised once the state of the object is
queried.<newline/>Under certain conditions (serious network errors) <code>run</code> does
not catch the exception; it simply cleans its own state up
(aborting the errorneous network connection). In this case,
simply invoke <code>run</code> again to continue.
<code>run</code> terminates normally if the pipeline becomes empty.<newline/>The engine handles the following HTTP return codes itself:<list><item>100: This is an intermediate return code</item><item>301: The redirection is followed if configured</item><item>302: The redirection is followed if configured</item><item>401: Content server authentication</item><item>407: Proxy server authentication</item></list>All other return codes remain uninterpreted, it is up to the
caller of this function to react on them.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>get_options</method><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>set_options</method><doc>Get/Set the available options for the HTTP engine.
The new options will take into effect immediately.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_options</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>number_of_open_messages</method><doc>Returns the number of messages which are still in the pipeline.</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>number_of_open_connections</method><doc>Returns the number of connections which are open at the same time
and currently being used by this object (i.e. connections
returned to the cache do not count)</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>connections</method><doc>Reports which connections exist: <code>(host, port, queue_length)</code></doc><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></tuple></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>cnt_new_connections</method><doc>Counts new connections (or better: attempts to establish connections)</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>cnt_timed_out_connections</method><doc>Counts connections given up because of timeouts</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>cnt_crashed_connections</method><doc>Counts connections with network or protocol errors</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>cnt_server_eof_connections</method><doc>Counts connections the server terminated with EOF</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>cnt_successful_connections</method><doc>Counts connections closed because pipelines become empty</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>cnt_failed_connections</method><doc>Counts totally failed connections (no more reconnects allowed)</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class>reset_counters</method><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><comment>Notes on counters:<newline/><list><item><code>cnt_new_connections</code>: Is increased when a new connection attempt
is started (that may fail or timeout in the future). Reconnects
do not count.</item><item><code>cnt_timed_out_connections</code>: Is increased whenever an established
connection times out. Usually, it is immediately reconnected.</item><item><code>cnt_crashed_connections</code>: Is increased whenever an established
connection crashes. Usually, it is immediately reconnected.</item><item><code>cnt_failed_connections</code>: Is increased when a timed out or
crashed connection exceeds the maximum number of errors, and it is
not tried to reconnect.</item><item><code>cnt_successful_connections</code>: Is increased when all HTTP calls
have been replied.</item></list>When the client has done all of its jobs, we have<newline/><precode>cnt_new_connections = cnt_failed_connections + cnt_successful_connections</precode></comment></signature></class><comment><bold>Example using the pipeline:</bold><newline/><precode>    let call = new get &quot;http://server/path&quot; in
    let pipeline = new pipeline in
    pipeline # add call;
    pipeline # run();    (* Now the HTTP client is working... *)
    match call # status with
    | `Successful -&gt; ...
    | ...</precode></comment><comment><title level="2">Auxiliary pipeline functions</title></comment><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>parse_proxy_setting</value><doc>Parses the value of an environment variable like <code>http_proxy</code>,
i.e. an HTTP URL. The argument is the URL.
Returns <code>(host,port,auth)</code> where <code>auth</code> may include user name and
password.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>option</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path></tuple></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>parse_no_proxy</value><doc>Parses the value of an environment variable like <code>no_proxy</code>. Returns
the list of domains.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></value><comment><title level="1">Convenience module for simple applications</title></comment><comment>Do <code>open Http_client.Convenience</code> for simple applications.</comment><module><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module><type><signature><comment>Convenience module for simple applications</comment><comment>Do <code>open Http_client.Convenience</code> for simple applications.</comment><comment>The functions of this module share the following behaviour:<newline/>The environment variables <code>http_proxy</code> and <code>no_proxy</code> determine
the proxy settings. <code>http_proxy</code> must be an http-URL that contains
the proxy's name, its port, and optionally user and password.
E.g. &quot;http://eric:ericspassword@proxy:8080/&quot;.
The variable <code>no_proxy</code> is a comma-separated list of hosts and
domains for which no proxy must be used.
E.g. &quot;localhost, sun, moon, .intra.net&quot;<newline/>There is a default behaviour for authentication. Both &quot;basic&quot; and
&quot;digest&quot; methods are enabled. Two global variables, <code>http_user</code> and
<code>http_password</code> set the user and password if the URL does not specify
them. In the case that user and password are included in the URL,
these values are always
used.<newline/>There is a default error behaviour. If a request fails, it is
automatically repeated. The variable <code>http_trials</code> specifies the number
of times a request is submitted at most.
Requests are not repeated if there is a HTTP return code that indicates
a normal operating condition.
POST and DELETE requests are never repeated.<newline/>Error codes are reported as <reference><element><resolved><exception><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>Http_error</exception></resolved></element></reference>. Note that
this is different than what the pipeline core does.<newline/>&quot;https&quot; support can be additionally configured via <reference><element><root>Https_client</root></element></reference>.</comment><comment><bold>Thread safety</bold><newline/>The Convenience module is fully thread-safe with the exception of the
exported variables (http_trials, http_user, and http_password). Note
that all threads share the same pipeline, and access to the pipeline
is serialized.
The latter simply means that it always works, but that threads may
block each other (i.e. the program slows down if more than one thread
wants to open http connections at the same time).</comment><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_trials</value><doc>number of times every request is tried. Default: 3</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_user</value><doc>The default user if authentication is required</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_password</value><doc>The default password if authentication is required</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>configure_pipeline</value><doc>This function will be called before the pipeline is used. This
is intended for fine-grained configuration.</doc><arrow><arrow><path><resolved><identifier><class><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>pipeline</class></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_get_message</value><doc>Does a &quot;GET&quot; request with the given URL and returns the message</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_head_message</value><doc>Does a &quot;HEAD&quot; request with the given URL and returns the reply.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_post_message</value><doc>Does a &quot;POST&quot; request with the given URL and returns the reply.
The list contains the parameters sent with the POST request.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_put_message</value><doc>Does a &quot;PUT&quot; request with the given URL and returns the reply.
The second argument contains the contents to be put.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_delete_message</value><doc>Does a &quot;DELETE&quot; request with the given URL and returns the reply.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>http_call</class_type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_get</value><doc>Does a &quot;GET&quot; request with the given URL and returns the message
body</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_post</value><doc>Does a &quot;POST&quot; request with the given URL and returns the response body.
The list contains the parameters send with the POST request.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_put</value><doc>Does a &quot;PUT&quot; request with the given URL and returns the response body.
The second argument contains the contents to be put.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_delete</value><doc>Does a &quot;DELETE&quot; request with the given URL and returns the response
body.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Convenience</module>http_verbose</value><doc>Turns on debug messages on stderr. By default, all options are
turned on.</doc><arrow><optional>verbose_status</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>verbose_request_header</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>verbose_response_header</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>verbose_request_contents</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>verbose_response_contents</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>verbose_connection</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>verbose_events</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value></signature></type></module><comment><title level="1">Debugging</title></comment><module><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Debug</module><type><signature><value><value><module><root><base><xml src="index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root>Debug</module>enable</value><doc>Enables <reference><element><root>Netlog</root></element></reference>-style debugging of this module</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path></value></signature></type></module></unit>