<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Ftp_fs</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Ftp_fs</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>FTP filesystem</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/classtype:ftp_stream_fs">
  <a href="index.html#/classtype:ftp_stream_fs" class="anchor">#</a>
  
  <div class="classtype">
    <span class="keyword">class type</span> ftp_stream_fs = 
    <div class="inherit">
    <span class="keyword">inherit</span> <a href="../../../../ocamlnet.3.7.7/src/netstring/netfs/">Netfs</a>.<a href="../../../../ocamlnet.3.7.7/src/netstring/netfs/#/classtype:stream_fs">stream_fs</a>
    </div>
    
  <div class="region" id="/classtype:ftp_stream_fs/method:ftp_client">
  <a href="index.html#/classtype:ftp_stream_fs/method:ftp_client" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> ftp_client : <a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/">Ftp_client</a>.<a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/#/class:ftp_client">ftp_client</a>
  
      <div class="doc">
        
      <p>The FTP client backing this filesystem</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:ftp_stream_fs/method:last_ftp_state">
  <a href="index.html#/classtype:ftp_stream_fs/method:last_ftp_state" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> last_ftp_state : <a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/">Ftp_client</a>.<a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/#/type:ftp_state">ftp_state</a>
  
      <div class="doc">
        
      <p>The last state of the last operation, or <code>Not_found</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:ftp_stream_fs/method:translate">
  <a href="index.html#/classtype:ftp_stream_fs/method:translate" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> translate : string <span class="rarr"><span>-&gt;</span></span> string
  
      <div class="doc">
        
      <p>Translates a path into a URL</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:ftp_stream_fs/method:close">
  <a href="index.html#/classtype:ftp_stream_fs/method:close" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> close : unit <span class="rarr"><span>-&gt;</span></span> unit
  
      <div class="doc">
        
      <p>Forces that the FTP client is closed. (See <code>keep_open</code> option.)
The client remains functional - the next operation will re-open
the connection.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
    
  </div>
  
  </div>
  
  <div class="region" id="/class:ftp_fs">
  <a href="index.html#/class:ftp_fs" class="anchor">#</a>
  
  <div class="class">
    <span class="keyword">class</span> ftp_fs : 
    ?config_client:(<a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/">Ftp_client</a>.<a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/#/class:ftp_client">ftp_client</a> <span class="rarr"><span>-&gt;</span></span> unit) option
    <span class="rarr"><span>-&gt;</span></span>
    
    ?tmp_directory:string option
    <span class="rarr"><span>-&gt;</span></span>
    
    ?tmp_prefix:string option
    <span class="rarr"><span>-&gt;</span></span>
    
    ?get_password:(string <span class="rarr"><span>-&gt;</span></span> string) option
    <span class="rarr"><span>-&gt;</span></span>
    
    ?get_account:(string <span class="rarr"><span>-&gt;</span></span> string) option
    <span class="rarr"><span>-&gt;</span></span>
    
    ?keep_open:bool option
    <span class="rarr"><span>-&gt;</span></span>
    
    string
    <span class="rarr"><span>-&gt;</span></span>
    <a href="index.html#/classtype:ftp_stream_fs">ftp_stream_fs</a>
    
    
    
    
    
    
    
    
      <div class="doc">
        
      <p><code>ftp_fs base_url</code>: Access the FTP file system rooted at <code>base_url</code>.</p>
      
      <p>The <code>base_url</code> must follow the <code>ftp://user@host:port/path</code> scheme.
Passwords in <code>base_url</code> are ignored.</p>
      
      <p>The following access methods are supported (compare with
<a href="../../../../ocamlnet.3.7.7/src/netstring/netfs/">Netfs</a>.<a href="../../../../ocamlnet.3.7.7/src/netstring/netfs/#/classtype:stream_fs">stream_fs</a>). Note that not all FTP servers can perform
all operations:</p>
      <ul><li><code>path_encoding</code>: If the FTP server announces that it uses UTF-8
as path encoding, this is returned here; else <code>None</code>.</li><li><code>path_exclusions</code>: is just <code>0,0; 47,47</code></li><li><code>nominal_dot_dot</code> is true. &quot;.&quot; and &quot;..&quot; are resolved by the client
before sending paths to the server.</li><li><code>read</code>: is supported. Note that FTP distinguishes between text
and binary mode, so don't forget to pass the <code>`Binary</code> flag if needed.
The <code>`Skip</code> flag is only emulated - the full
file is retrieved first, and only the first bytes are hidden
from the user. There is no support for streaming mode; the
<code>`Streaming</code> flag is ignored. This means that the file is first
downloaded to a temporary file, and the returned object is just
a handle for this file.</li><li><code>write</code>: is supported, but - depending on the server - not all
flag combinations. The flag list <code>[`Create; `Truncate]</code> should
always work. For other flag lists, the server needs to support
the <code>MLST</code> command for checking whether the file already exists.
If this support is missing, an FTP error is raised. It is not
supported to omit both <code>`Create</code> and <code>`Truncate</code>. Also, the
<code>`Exclusive</code> flag is not supported. As for <code>read</code>, there is no
streaming mode, and a temporary file is used as container.</li><li><code>size</code>: works only if the server supports the <code>SIZE</code> command
(otherwise ENOSYS).</li><li><code>test</code> and <code>test_list</code>: works only if the server supports the
<code>MLST</code> command (otherwise ENOSYS). The tests <code>`N</code>, <code>`E</code>, <code>`D</code>, <code>`F</code>,
<code>`S</code>, <code>`R</code>, <code>`W</code>, and <code>`X</code> should work.
Files are never recognized as symlinks.</li><li><code>remove</code>: works, but the <code>`Recursive</code> flag is not supported
(and an emulation is considered as too dangerous)</li><li><code>readdir</code>: works</li><li><code>rename</code>: works</li><li><code>mkdir</code>: works, but the flags are ignored</li><li><code>rmdir</code>: works</li></ul>
      <p>There is no support for <code>symlink</code>, <code>readlink</code>, and <code>copy</code>.</p>
      
      <p>Options:</p>
      <ul><li><code>config_client</code>: one can enable further features on the client
object (e.g. proxies)</li><li><code>tmp_directory</code>: directory for temporary files</li><li><code>tmp_prefix</code>: file prefix for temporary files (w/o directory)</li><li><code>get_password</code>: This function should return the password for
the user (passed in as argument). Defaults to &quot;&quot;.</li><li><code>get_account</code>: This function should return the account name for
the user (passed in as argument). Defaults to &quot;&quot;.</li><li><code>keep_open</code>: By default, a new FTP connection is started for
each operation, and it is shut down afterward. By setting <code>keep_open</code>
the connection is kept open. The user has to call <code>close</code> when done.</li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:ftp_fs">
  <a href="index.html#/val:ftp_fs" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> ftp_fs : ?config_client:(<a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/">Ftp_client</a>.<a href="../../../../ocamlnet.3.7.7/src/netclient/ftp_client/#/class:ftp_client">ftp_client</a> <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> ?tmp_directory:string <span class="rarr"><span>-&gt;</span></span> ?tmp_prefix:string <span class="rarr"><span>-&gt;</span></span> ?get_password:(string <span class="rarr"><span>-&gt;</span></span> string) <span class="rarr"><span>-&gt;</span></span> ?get_account:(string <span class="rarr"><span>-&gt;</span></span> string) <span class="rarr"><span>-&gt;</span></span> ?keep_open:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/classtype:ftp_stream_fs">ftp_stream_fs</a>
    
      <div class="doc">
        
      <p>Same as function</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>