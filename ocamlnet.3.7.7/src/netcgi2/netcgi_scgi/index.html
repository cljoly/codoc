<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Netcgi_scgi</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Netcgi_scgi</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>SCGI connector.</p>
      
      <p>The <a href="http://www.mems-exchange.org/software/scgi/">SCGI</a> connects
your web applications through a TCP/IP socket (thus the application
can run on a machine different from the web server).</p>
      
      <p>See the <a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi_scgi/">Netcgi_scgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi_scgi/#/label:setup">setup</a> section at the end of this file to know
how to configure your web server.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/val:run">
  <a href="index.html#/val:run" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> run : ?config:<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:config">config</a> <span class="rarr"><span>-&gt;</span></span> ?allow:(<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:sockaddr">sockaddr</a> <span class="rarr"><span>-&gt;</span></span> bool) <span class="rarr"><span>-&gt;</span></span> ?output_type:<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:output_type">output_type</a> <span class="rarr"><span>-&gt;</span></span> ?arg_store:<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:arg_store">arg_store</a> <span class="rarr"><span>-&gt;</span></span> ?exn_handler:<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:exn_handler">exn_handler</a> <span class="rarr"><span>-&gt;</span></span> ?sockaddr:<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:sockaddr">sockaddr</a> <span class="rarr"><span>-&gt;</span></span> ?port:int <span class="rarr"><span>-&gt;</span></span> (<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/classtype:cgi">cgi</a> <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>run f</code> executes <code>f cgi</code> for each SCGI request.</p>
      
        
  <div class="tag param">
    <span class="label">config</span> Default: [root:Netcgi].default_config
  </div>
  
  <div class="tag param">
    <span class="label">allow</span> Tells whether a connection from the socket is allowed.
Default: allow from all.
  </div>
  
  <div class="tag param">
    <span class="label">output_type</span> Default: <code>`Direct &quot;&quot;</code>
  </div>
  
  <div class="tag param">
    <span class="label">arg_store</span> Default: <code>`Automatic</code> for all arguments.
  </div>
  
  <div class="tag param">
    <span class="label">sockaddr</span> The socket used by the web server to send the requests.
  </div>
  
  <div class="tag param">
    <span class="label">exn_handler</span> See [root:Netcgi].exn_handler. Default: delegate
all exceptions to the default handler.
  </div>
  
  <div class="tag param">
    <span class="label">sockaddr</span> The sockaddr for listening. Overrides <code>port</code>
  </div>
  
  <div class="tag param">
    <span class="label">port</span> The port for listening. Needs to be specified if no
<code>sockaddr</code> is passed.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:handle_request">
  <a href="index.html#/val:handle_request" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> handle_request : <a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:config">config</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:output_type">output_type</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:arg_store">arg_store</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:exn_handler">exn_handler</a> <span class="rarr"><span>-&gt;</span></span> (<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/classtype:cgi">cgi</a> <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> log:(string <span class="rarr"><span>-&gt;</span></span> unit) option <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:file_descr">file_descr</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/">Netcgi</a>.<a href="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/#/type:connection_directive">connection_directive</a>
    
      <div class="doc">
        
      <p><code>handle_request config output_type arg_store eh f ~log fd</code>:
This is a
lower-level interface that processes exactly one request arriving
on the existing connection <code>fd</code>.</p>
      
      <p><code>log</code> is the error logger function or <code>None</code>, in which case
errors are passed through to the FCGI client.</p>
      
      <p>The other arguments are just like for <code>run</code>.</p>
      
      <p>The return value indicates whether the connection can be kept
open or must be closed.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        
  <div class="region" id="/label:setup">
  <a href="index.html#/label:setup" class="anchor">#</a>
  
    <h2 class="section level_2">Setup</h2>
    
  </div>
  
      <p>Add to httpd.conf or to, say, scgi.conf in /etc/apache/conf.d
</p>
      <pre><code>    LoadModule scgi_module /usr/lib/apache/1.3/mod_scgi.so
    # Serve the URL /scgi by contacting 127.0.0.1 on port 8888
    SCGIMount /scgi 127.0.0.1:8888</code></pre>
        
      </div>
    </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>