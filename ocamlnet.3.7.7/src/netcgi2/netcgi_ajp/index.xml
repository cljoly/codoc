<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></html></base>Netcgi_ajp</root><digest>cdd4dc578fef94bdbf15cc4de451cc22</digest><import>Arg<digest>1a93c52516966fe6a58564a4c4d9e4fa</digest></import><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>Buffer<digest>a579f4a57e300ec755f84af883c1e51b</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Format<digest>61d4350242b30078d3ad96c904c9f7a1</digest></import><import>Int32<digest>f43b8a2972804b40e28b661b6fdf157a</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Mimestring<digest>ac31fcb123c04dfee879b3fcd4ac6465</digest></import><import>Netbuffer<digest>5f4225f2baeef1584e246c6ce1d32119</digest></import><import>Netcgi<digest>1120fba47169cd3f18580a7b399ae697</digest></import><import>Netcgi_common<digest>0bfc71ace03fbc647409d1f01e5f3867</digest></import><import>Netchannels<digest>4e22bd1ba0cae4bd9bd1b6e69fc16ade</digest></import><import>Nethttp<digest>737c0d14116a929a59f2fbe36cc0b7cc</digest></import><import>Netmime<digest>0b76a3020124c30d13396d877ed0ad15</digest></import><import>Netstream<digest>0cb48bc6daf6d8a3d088ce0dfb4dcbbe</digest></import><import>Netsys_mem<digest>f19ef786301a8cbcfbf1a4fffee992f8</digest></import><import>Netsys_types<digest>67b26630eaf4decaa483864d4d00a3a2</digest></import><import>Obj<digest>825c406ee2d12ed12fd12dc0e4de1d26</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><source><file>netcgi_ajp.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2</dir><digest>6dd468c4532a9683d965daa5b8d3bb59</digest></source><doc>Apache JServ Protocol (AJP) 1.3 connector.<newline/>See the <reference><element><resolved><label><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi_ajp/index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root></identifier>setup</label></resolved></element></reference> section at the end of this file to know
how to configure your web server.</doc><value><value><root><base><xml src="index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root>arg_parse</value><doc><code>arg_parse speclist anon_fun usage_msg</code> parses the command line
and return an associative list describing the content of the
property file (see <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi_ajp/index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root></identifier>props_of_file</value></resolved></element></reference>). This function
allows to fakes the &quot;java&quot; command (JVM startup):<newline/><list><item>the option <code>-classpath &lt;path&gt;</code> is ignored;</item><item>the first anonymous argument (Java class name) is ignored;</item><item>the second anonymous argument is the name of the property file;</item><item>other options are interpreted according to the <code>speclist</code>.</item></list><raise><name>Failure</name>and prints a usage message if the property file
cannot be read.</raise></doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.xml"><cmti name="Arg" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/arg.cmti" digest="1a93c52516966fe6a58564a4c4d9e4fa"/></xml></html></base>Arg</root></identifier>key</type></resolved></path><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.xml"><cmti name="Arg" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/arg.cmti" digest="1a93c52516966fe6a58564a4c4d9e4fa"/></xml></html></base>Arg</root></identifier>spec</type></resolved></path><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.xml"><cmti name="Arg" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/arg.cmti" digest="1a93c52516966fe6a58564a4c4d9e4fa"/></xml></html></base>Arg</root></identifier>doc</type></resolved></path></tuple></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.xml"><cmti name="Arg" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/arg.cmti" digest="1a93c52516966fe6a58564a4c4d9e4fa"/></xml></html></base>Arg</root></identifier>anon_fun</type></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/arg/index.xml"><cmti name="Arg" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/arg.cmti" digest="1a93c52516966fe6a58564a4c4d9e4fa"/></xml></html></base>Arg</root></identifier>usage_msg</type></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root>props_of_file</value><doc><code>props_of_file fname</code> parses the property file <code>fname</code> and
returns it as an associative list. The following properties are
used:<newline/><list><item>&quot;bindaddress&quot;: The address the server socket is bound to. Can be
specified as IP address or hostname or &quot;*&quot; (default: &quot;localhost&quot;).</item><item>&quot;port&quot;: The port number the server socket is bound to. Defaults to
8007.</item><item>&quot;security.authentication&quot;: If &quot;true&quot;, the server expects that the
web server authenticates itself. Defaults to &quot;true&quot;.</item><item>&quot;security.challengeSize&quot;: The length of the challenge string.
Defaults to 5.</item><item>&quot;security.secretKey&quot;: The file containing the secret key used for
authentication.</item><item>&quot;security.allowHost&quot;: Only the web server with this IP address is
allowed to connect (this option can occur several times).
DNS names are resolved at startup time.</item><item>&quot;jakarta.servletSubString&quot;: The substring that is used as indicator
for the servlet name (for mod_jk only). Defaults to &quot;/servlets/&quot;.</item><item>&quot;ocamlnet.https&quot;: Whether HTTPS is assumed as basic protocol or not.
Defaults to &quot;false&quot;.</item></list>Other properties are ignored.<raise><name>Invalid_argument</name>if the file does not exist or is not readable.</raise></doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root>run</value><doc><code>run f</code> executes <code>f cgi</code> for each AJP request.<param><name>config</name>Default: <reference><element><dot><root>Netcgi</root>default_config</dot></element></reference></param><param><name>allow</name>Tells whether a connection from the socket is allowed.
Default: allow from all.</param><param><name>output_type</name>Default: <code>`Direct &quot;&quot;</code></param><param><name>arg_store</name>Default: <code>`Automatic</code> for all arguments.</param><param><name>port</name>The port used by the web server to send the requests
(Default: 8009).</param><param><name>sockaddr</name>The sockaddress (overrides <code>port</code>)</param><param><name>exn_handler</name>See <reference><element><dot><root>Netcgi</root>exn_handler</dot></element></reference>. Default: delegate
all exceptions to the default handler.</param></doc><arrow><optional>props</optional><path><resolved><identifier><type>list</type></identifier></resolved><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></path><arrow><optional>config</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>config</type></resolved></path><arrow><optional>script_name</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><optional>allow</optional><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>sockaddr</type></resolved></path><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow><arrow><optional>output_type</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>output_type</type></resolved></path><arrow><optional>arg_store</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>arg_store</type></resolved></path><arrow><optional>exn_handler</optional><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>exn_handler</type></resolved></path><arrow><optional>sockaddr</optional><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>sockaddr</type></resolved></path><arrow><optional>port</optional><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>cgi</class_type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root>handle_request</value><doc><code>handle_request config output_type arg_store eh f ~log fd</code>: This
is a lower-level interface that processes exactly one request
arriving on the existing connection <code>fd</code>.<newline/><code>log</code> is the error logger function or <code>None</code>, in which case
errors are passed through to the FCGI client.<newline/>The other arguments are just like for <code>run</code>.<newline/>The return value indicates whether the connection can be kept
open or must be closed.</doc><arrow><optional>script_name</optional><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>config</type></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>output_type</type></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>arg_store</type></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>exn_handler</type></resolved></path><arrow><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>cgi</class_type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow><arrow><label>log</label><path><resolved><identifier><type>option</type></identifier></resolved><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netcgi2/netcgi/index.xml"><cmti name="Netcgi" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi.cmti" digest="1120fba47169cd3f18580a7b399ae697"/></xml></base>Netcgi</root></identifier>connection_directive</type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><comment><title level="2"><label><root><base><xml src="index.xml"><cmti name="Netcgi_ajp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netcgi2/netcgi_ajp.cmti" digest="cdd4dc578fef94bdbf15cc4de451cc22"/></xml></base>Netcgi_ajp</root>setup</label>Setup</title><newline/><title level="3">Apache</title><newline/>You need to use mod_jk to have support for AJP/1.3. To install
it, please see
<reference><link>http://tomcat.apache.org/tomcat-3.3-doc/mod_jk-howto.html</link>Working
with mod_jk</reference>.<newline/>In httpd.conf or in a file, say mod_jk.conf, in
/etc/apache2/conf.d/ (or /etc/apache2/conf.d/ for Apache 1.x), add
the following:
<verbatim>    # Shared memory file name (Unix only).  The parent dir must exist.
    JkShmFile  /var/tmp/jk-runtime-status
    LoadModule jk_module mod_jk.so
    # Declare the module for &lt;IfModule&gt; (remove this line on Apache 2.x)
    AddModule  mod_jk.c

    &lt;IfModule mod_jk.c&gt;
      # Configure mod_jk
      # Apache 1.x
      #JkWorkersFile /etc/libapache-mod-jk/workers.properties
      #JkLogFile     /var/log/apache/mod_jk.log
      # Apache 2.x
      JkWorkersFile /etc/libapache2-mod-jk/workers.properties
      JkLogFile     /var/log/apache2/mod_jk.log
      JkLogLevel    info

      # JkMount [URL prefix] [Worker name]
      JkMount /*.jsp ajp13_worker
      JkMount /servlet/* ajp13_worker
    &lt;/IfModule&gt;</verbatim><newline/><title level="3">Other web severs</title><newline/>Please go to this
<reference><link>http://tomcat.apache.org/connectors-doc/index.html</link>configuration
page</reference>. Mail us specific instructions or tips for other web
servers so we can include them here.<newline/><title level="3">Workers.properties</title><newline/>Here is an example of workers.properties:
<verbatim>    # Comma separated list of worker names:
    worker.list=ajp13_worker
    # Set properties for ajp13_worker
    worker.ajp13_worker.type=ajp13
    worker.ajp13_worker.host=localhost
    worker.ajp13_worker.port=8009
    worker.ajp13_worker.cachesize=1</verbatim></comment></unit>