<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></html></base>Nethttpd_kernel</root><digest>cb3eaecd0d22fe226726c29db05c6aa8</digest><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>Buffer<digest>a579f4a57e300ec755f84af883c1e51b</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Format<digest>61d4350242b30078d3ad96c904c9f7a1</digest></import><import>Int32<digest>f43b8a2972804b40e28b661b6fdf157a</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Mimestring<digest>ac31fcb123c04dfee879b3fcd4ac6465</digest></import><import>Netbuffer<digest>5f4225f2baeef1584e246c6ce1d32119</digest></import><import>Netcgi<digest>1120fba47169cd3f18580a7b399ae697</digest></import><import>Netcgi_common<digest>0bfc71ace03fbc647409d1f01e5f3867</digest></import><import>Netchannels<digest>4e22bd1ba0cae4bd9bd1b6e69fc16ade</digest></import><import>Nethttp<digest>737c0d14116a929a59f2fbe36cc0b7cc</digest></import><import>Nethttpd_types<digest>55ae14cadf1eaf504d8f0551c06535b1</digest></import><import>Netmime<digest>0b76a3020124c30d13396d877ed0ad15</digest></import><import>Netstream<digest>0cb48bc6daf6d8a3d088ce0dfb4dcbbe</digest></import><import>Netsys_mem<digest>f19ef786301a8cbcfbf1a4fffee992f8</digest></import><import>Netsys_types<digest>67b26630eaf4decaa483864d4d00a3a2</digest></import><import>Obj<digest>825c406ee2d12ed12fd12dc0e4de1d26</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><source><file>nethttpd_kernel.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd</dir><digest>9aeed6ca71f64a3c5ccc6f5db861c05e</digest></source><doc><title level="1">The protocol kernel of the HTTP daemon</title><newline/>This module mainly defines the <code>http_protocol</code> class which implements the
exchange of messages with a HTTP client. The request messages are represented
as sequence of <code>req_token</code> values. The response is encapsulated in a separate
<code>http_response</code> class. The contents of the response are represented as sequence
of <code>resp_token</code> values.</doc><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>fatal_error</type><doc>These are the serious protocol violations after that the daemon stops
any further processing.<newline/>Note that <code>`Timeout</code> refers to a timeout in the middle of a request.
<code>`Broken_pipe_ignore</code> is the &quot;harmless&quot; version of <code>`Broken_pipe</code>
(see <code>config_suppress_broken_pipe</code>).<newline/>Long messages are fatal because it is suspected that they are denial
of service attacks. The kernel generates <code>`Message_too_long</code> only for
long headers, not for long bodies.<newline/>Fatal server errors can happen when exceptions are not properly handled.
As last resort the HTTP daemon closes the connection without notifying
the client.</doc><poly_variant><fixed/><constructor>Broken_pipe<constant/></constructor><constructor>Broken_pipe_ignore<constant/></constructor><constructor>Message_too_long<constant/></constructor><constructor>Timeout<constant/></constructor><constructor>Unix_error<path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>error</type></resolved></path></constructor><constructor>Server_error<constant/></constructor></poly_variant></type><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>string_of_fatal_error</value><doc>Convert error to a string, for logging</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>fatal_error</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>bad_request_error</type><doc>A bad request is a violation where the current request cannot be
decoded, and it is not possible to accept further requests over the
current connection.</doc><poly_variant><fixed/><constructor>Bad_header_field<path><resolved><identifier><type>string</type></identifier></resolved></path></constructor><constructor>Bad_header<constant/></constructor><constructor>Bad_trailer<constant/></constructor><constructor>Bad_request_line<constant/></constructor><constructor>Request_line_too_long<constant/></constructor><constructor>Protocol_not_supported<constant/></constructor><constructor>Unexpected_eof<constant/></constructor><constructor>Format_error<path><resolved><identifier><type>string</type></identifier></resolved></path></constructor></poly_variant></type><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>string_of_bad_request_error</value><doc>Convert error to a string, for logging</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>bad_request_error</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>status_of_bad_request_error</value><doc>Returns the best response code for the error</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>bad_request_error</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_status</type></resolved></path></arrow></value><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>data_chunk</type><doc>A <code>data_chunk</code> is a substring of a string. The substring is described by
the triple <code>(s, pos, len)</code> where <code>s</code> is the container, <code>pos</code> is the
position where the substring begins, and <code>len</code> its length.</doc><tuple><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></tuple></type><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>status_line</type><doc>= (code, phrase)</doc><tuple><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></tuple></type><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>transfer_coding</type><poly_variant><fixed/><constructor>Identity<constant/></constructor><constructor>Chunked<constant/></constructor></poly_variant></type><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_token</type><doc>The <code>resp_token</code> represents a textual part of the response to send:<list><item><code>`Resp_info_line</code> is an informational status line (code=100..199). There can
be several informational lines, and they can be accompanied with their own
headers. Such lines are only sent to HTTP/1.1 clients.</item><item><code>`Resp_status_line</code> is the final status line to send (code &gt;= 200)</item><item><code>`Resp_header</code> is the whole response header to send</item><item><code>`Resp_body</code> is the next part of the response body to send.</item><item><code>`Resp_trailer</code> is the whole response trailer to send (currently ignored)</item><item><code>`Resp_action</code> is special because it does not directly represent a token
to send. The argument is a function which is called when the token is
the next token on the active event queue. The function is also called when
the event queue is dropped because of an error (the state of the
response object indicates this). The function must not raise exceptions
except <code>Unix_error</code>, and it must not block.</item></list></doc><poly_variant><fixed/><constructor>Resp_info_line<tuple><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>status_line</type></identifier></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_header</class_type></resolved></path></tuple></constructor><constructor>Resp_status_line<path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>status_line</type></identifier></resolved></path></constructor><constructor>Resp_header<path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_header</class_type></resolved></path></constructor><constructor>Resp_body<path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>data_chunk</type></identifier></resolved></path></constructor><constructor>Resp_trailer<path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_trailer</class_type></resolved></path></constructor><constructor>Resp_end<constant/></constructor><constructor>Resp_action<arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></constructor></poly_variant></type><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_100_continue</value><doc>The predefined token for the &quot;100 Continue&quot; response</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_token</type></identifier></resolved></path></value><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_state</type><doc>The response state:<list><item><code>`Inhibited</code> = it is not yet allowed to start the response</item><item><code>`Queued</code> = the response waits on the queue for activation</item><item><code>`Active</code> = the response is currently being transmitted</item><item><code>`Processed</code> = the response has been completely sent</item><item><code>`Error</code> = an error occurred during the transmission of this response</item><item><code>`Dropped</code> = an earlier response forced to close the connection, and
this response is dequeued</item></list></doc><poly_variant><fixed/><constructor>Inhibited<constant/></constructor><constructor>Queued<constant/></constructor><constructor>Active<constant/></constructor><constructor>Processed<constant/></constructor><constructor>Error<constant/></constructor><constructor>Dropped<constant/></constructor></poly_variant></type><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>front_token</type><doc>Tokens generated by <code>http_response</code>:<list><item><code>`Resp_wire_data</code> are data tokens.</item><item><code>`Resp_end</code> indicates the end of the response.</item></list></doc><poly_variant><fixed/><constructor>Resp_wire_data<path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>data_chunk</type></identifier></resolved></path></constructor><constructor>Resp_end<constant/></constructor></poly_variant></type><exception><exception><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>Send_queue_empty</exception></exception><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>announcement</type><doc>See config</doc><poly_variant><fixed/><constructor>Ignore<constant/></constructor><constructor>Ocamlnet<constant/></constructor><constructor>Ocamlnet_and<path><resolved><identifier><type>string</type></identifier></resolved></path></constructor><constructor>As<path><resolved><identifier><type>string</type></identifier></resolved></path></constructor></poly_variant></type><class_type><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type><doc>Encapsultation of the HTTP response for a single request</doc><signature><comment>Represents the action of sending the response<newline/>This class has an internal
queue of response tokens that are not yet processed. One can easily add
new tokens to the end of the queue (<code>send</code>).<newline/>The class is responsible for determining the transfer encoding:<list><item>When the HTTP version is 1.0, the encoding is always &quot;identity&quot;, and the
connection will be closed after the response.</item><item>When the HTTP version is 1.1, and there is a Content-length header,
the encoding will be selected as &quot;identity&quot;. It is checked whether the
body has really this length. If too short, it is suggested to close
the connection. If too long, the extra part of the message is silently
dropped.</item><item>When the HTTP version is 1.1, and there is no Content-length header,
the encoding will be selected as &quot;chunked&quot;.</item></list>Currently, the <code>TE</code> request header is not taken into account. The trailer
is always empty.<newline/>The following headers are set (or removed) by this class:<list><item><code>Transfer-Encoding</code></item><item><code>Trailer</code></item><item><code>Date</code></item><item><code>Connection</code></item><item><code>Upgrade</code></item><item><code>Server</code> (it is appended to this field)</item></list>Responses for HEAD requests have the special behaviour that the body is silently
dropped. The calculation of header fields is not affected by this. This means
that HEAD can be easily implemented by doing the same as for GET.<newline/>Responses for other requests that must not include a body must set
<code>Content-Length</code> to 0.</comment><comment>These methods can be called by the content provider:</comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>state</method><doc>Reports the state. The initial state is <code>`Inhibited</code></doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_state</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>bidirectional_phase</method><doc>The bidrectional phase starts after &quot;100 Continue&quot; has been sent to the
client, and stops when the response body begins. The bidirectional phase
is special for the calculation of timeout values (input determines the timeout
although the response has started).</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>send</method><doc>Add token to the end of the send queue</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_token</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>send_queue_empty</method><doc>Return whether the send queue is empty. When the state is <code>`Inhibited</code>, this
method fakes an empty queue.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>protocol</method><doc>The HTTP version of the response. This is currently always HTTP/1.1, but maybe
we need to fake lower versions for buggy clients. Let's see what comes.</doc><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>protocol</type></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>close_connection</method><doc>Returns whether the connection should be closed after this response.
This flag should be evaluated when the <code>`Resp_end</code> front token has been
reached.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>transfer_encoding</method><doc>Returns the selected transfer encoding. This is valid after the header
has been passed to this object with <code>send</code>.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>transfer_coding</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>front_token</method><doc>The first token of the queue, represented as <code>data_chunk</code>. Raises
<code>Send_queue_empty</code> when there is currently no front token, or the state
is <code>`Inhibited</code>.
If there is a front token, it will never have length 0.<newline/>Note that <code>Unix_error</code> exceptions can be raised when <code>`Resp_action</code>
tokens are processed.</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>front_token</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>set_callback</method><doc>The function will be called when either <code>set_state</code> changes the state,
or when the send queue becomes empty. Note that the callback must never
fail, it is called in situations that make it hard to recover from errors.</doc><arrow><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>body_size</method><doc>Accumulated size of the response body</doc><path><resolved><identifier><type>int64</type></identifier></resolved></path></method><comment>These methods must only be called by the HTTP protocol processor:</comment><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>set_state</method><doc>Sets the state</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>resp_state</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type>advance</method><doc>Tell this object that <code>n</code> bytes of the front token could be really
sent using <code>Unix.write</code>. If this means that the whole front token
has been sent, the next token is pulled from the queue and is made
the new front token. Otherwise, the data chunk representing the
front token is modified such that the position is advanced by
<code>n</code>, and the length is reduced by <code>n</code>.</doc><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method></signature></class_type><class><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response_impl</class><doc>Exported for debugging and testing only</doc><arrow><optional>close</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><optional>suppress_body</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>int64</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>protocol</type></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>announcement</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></class><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>send_static_response</value><doc>Sends the string argument as response body, together with the given status and
the header (optional). Response header fields are set as follows:<list><item>The <code>Content-Length</code> is set to the length of the string.</item><item>The <code>Content-Type</code> is set to &quot;text/html&quot; unless given by the header.
If the header object is passed in, these modifications are done
directly in this object as side effect.</item></list></doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_status</type></resolved></path><arrow><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_header</class_type></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>send_file_response</value><doc>Sends the contents of a file as response body, together with the given status and
the header (optional). The descriptor must be a file descriptor (that cannot
block). The int64 number is the length
of the body. Response header fields are set as follows:<list><item>The <code>Content-Length</code> is set to the length of the string.</item><item>The <code>Content-Type</code> is set to &quot;text/html&quot; unless given by the header.</item></list>Note that <code>Content-Range</code> is not set automatically, even if the file is only
partially transferred.<newline/>If the header object is passed in, these modifications are done
directly in this object as side effect.<newline/>The function does not send the file immediately, but rather sets the <code>http_response</code>
object up that the next chunk of the file is added when the send queue becomes
empty. This file will be closed when the transfer is done.</doc><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_status</type></resolved></path><arrow><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_header</class_type></resolved></path></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><arrow><path><resolved><identifier><type>int64</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></value><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>request_line</type><doc>The method (including the URI), and the HTTP version</doc><tuple><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_method</type></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>protocol</type></resolved></path></tuple></type><type><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>req_token</type><doc>A <code>req_token</code> represents a textual part of the received request:<list><item><code>`Req_header</code> is the full received header. Together with the header,
the corresponding <code>http_response</code> object is returned which must
be used to transmit the response.</item><item><code>`Req_expect_100_continue</code> is generated when the client expects that the
server sends a &quot;100 Continue&quot; response (or a final status code) now.
One should add <code>`Resp_info_line resp_100_continue</code> to the send queue
if the header is acceptable, or otherwise generate an error response. In any
case, the rest of the request must be read until <code>`Req_end</code>.</item><item><code>`Req_body</code> is a part of the request body. The transfer-coding, if any,
is already decoded.</item><item><code>`Req_trailer</code> is the received trailer</item><item><code>`Req_end</code> indicates the end of the request (the next request may begin
immediately).</item><item><code>`Eof</code> indicates the end of the stream</item><item><code>`Bad_request_error</code> indicates that the request violated the HTTP protocol
in a serious way and cannot be decoded. It is required to send a
&quot;400 Bad Request&quot; response. The following token will be <code>`Eof</code>.</item><item><code>`Fatal_error</code> indicates that the connection crashed.
The following token will be <code>`Eof</code>.</item><item><code>`Timeout</code> means that nothing has been received for a certain amount
of time, and the protocol is in a state that the next request can begin.
The following token will be <code>`Eof</code>.</item></list>Note that it is always allowed to <code>send</code> tokens to the client. The protocol
implementation takes care that the response is transmitted at the right point
in time.</doc><poly_variant><fixed/><constructor>Req_header<tuple><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>request_line</type></identifier></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_header</class_type></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type></identifier></resolved></path></tuple></constructor><constructor>Req_expect_100_continue<constant/></constructor><constructor>Req_body<path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>data_chunk</type></identifier></resolved></path></constructor><constructor>Req_trailer<path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netstring/nethttp/index.xml"><cmti name="Nethttp" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netstring/nethttp.cmti" digest="737c0d14116a929a59f2fbe36cc0b7cc"/></xml></base>Nethttp</root></identifier>http_trailer</class_type></resolved></path></constructor><constructor>Req_end<constant/></constructor><constructor>Eof<constant/></constructor><constructor>Fatal_error<path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>fatal_error</type></identifier></resolved></path></constructor><constructor>Bad_request_error<tuple><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>bad_request_error</type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_response</class_type></identifier></resolved></path></tuple></constructor><constructor>Timeout<constant/></constructor></poly_variant></type><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>string_of_req_token</value><doc>For debugging</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>req_token</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value><exception><exception><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>Recv_queue_empty</exception></exception><class_type><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type><doc>Configuration values for the HTTP kernel</doc><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_max_reqline_length</method><doc>Maximum size of the request line. Longer lines are immediately replied with
a &quot;Request URI too long&quot; response. Suggestion: 32768.</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_max_header_length</method><doc>Maximum size of the header, <bold>including</bold> the request line. Longer headers
are treated as attack, and cause the fatal error <code>`Message_too_long</code>.
Suggestion: 65536.</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_max_trailer_length</method><doc>Maximum size of the trailer</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_limit_pipeline_length</method><doc>Limits the length of the pipeline (= unreplied requests). A value of 0
disables pipelining. A value of n allows that another request is
received although there are already n unreplied requests.</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_limit_pipeline_size</method><doc>Limits the size of the pipeline in bytes. If the buffered bytes in the
input queue exceed this value, the receiver temporarily stops reading
more data. The value 0 has the effect that even the read-ahead of
data of the current request is disabled. The value (-1) disables the
receiver completely (not recommended).</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_announce_server</method><doc>Whether to set the <code>Server</code> header:<list><item><code>`Ignore</code>: The kernel does not touch the <code>Server</code> header.</item><item><code>`Ocamlnet</code>: Announce this web server as &quot;Ocamlnet/&lt;version&gt;&quot;</item><item><code>`Ocamlnet_and s</code>: Announce this web server as <code>s</code> and append
the Ocamlnet string.</item><item><code>`As s</code>: Announce this web server as <code>s</code></item></list></doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>announcement</type></identifier></resolved></path></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type>config_suppress_broken_pipe</method><doc>Whether to suppress <code>`Broken_pipe</code> errors. Instead
<code>`Broken_pipe_ignore</code> is reported.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method></signature></class_type><value><value><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>default_http_protocol_config</value><doc>Default config:<list><item><code>config_max_reqline_length = 32768</code></item><item><code>config_max_header_length = 65536</code></item><item><code>config_max_trailer_length = 32768</code></item><item><code>config_limit_pipeline_length = 5</code></item><item><code>config_limit_pipeline_size = 65536</code></item><item><code>config_announce_server = `Ocamlnet</code></item><item><code>config_suppress_broken_pipe = false</code></item></list></doc><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type></identifier></resolved></path></value><class><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>modify_http_protocol_config</class><doc>Modifies the passed config object as specified by the optional
arguments</doc><arrow><optional>config_max_reqline_length</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path><arrow><optional>config_max_header_length</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path><arrow><optional>config_max_trailer_length</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path><arrow><optional>config_limit_pipeline_length</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path><arrow><optional>config_limit_pipeline_size</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path><arrow><optional>config_announce_server</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>announcement</type></identifier></resolved></path></path><arrow><optional>config_suppress_broken_pipe</optional><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path><arrow><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type></identifier></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class><doc>The core event loop of the HTTP daemon</doc><arrow><class><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type></identifier></resolved></class><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><signature><comment>Exchange of HTTP messages<newline/>In <code>fd</code> one must pass the already connected socket. It must be in non-
blocking mode.<newline/>How to use this class: Basically, one invokes <code>cycle</code> until the whole
message exchange on <code>fd</code> is processed. <code>cycle</code> receives data from the
socket and sends data to the socket. There are two internal queues:<newline/>The receive queue stores parts of received requests as <code>req_token</code>.
One can take values from the front of this queue by calling <code>receive</code>.<newline/>The response queue stores <code>http_response</code> objects. Each of the objects
corresponds to a request that was received before. This queue is handled
fully automatically, but one can watch its length to see whether all responses
are actually transmitted over the wire.<newline/>The basic algorithm to process messages is:<newline/><precode>      let rec next_token () =
        if proto # recv_queue_len = 0 then (
          proto # cycle ();
          next_token()
        )
        else
          proto # receive()
     
      let cur_token = ref (next_token()) in
      while !cur_token &lt;&gt; `Eof do
        (* Process first token of next request: *)
        match !cur_token with
         | `Req_header(req_line, header, resp) -&gt;
              (* Depending on [req_line], read further tokens until [`Req_end] *)
              ...
              (* Switch to the first token of the next message: *)
              cur_token := next_token()
         | `Timeout -&gt; ...
         | `Bad_request_error(e,resp) -&gt; 
               (* Generate 400 error, send it to [resp] *)
               ...
               (* Switch to the first token of the next message: *)
               cur_token := next_token()
         | `Fatal_error e -&gt; failwith &quot;Crash&quot;
         | _ -&gt; assert false
      done;
      while proto # resp_queue_len &gt; 0 do
        proto # cycle ();
      done;
      proto # shutdown()</precode><newline/>See the file <code>tests/easy_daemon.ml</code> for a complete implementation of this.<newline/>As one can see, it is essential to watch the lengths of the queues in order
to figure out what has happened during <code>cycle</code>.<newline/>When the body of the request is empty, <code>`Req_body</code> tokens are omitted.
Note that for requests like <code>GET</code> that always have an empty body, it is
still possible that an errorneous client sends a body, and that <code>`Req_body</code>
tokens arrive. One must accept and ignore these tokens.<newline/>Error handling: For serious errors, the connection is immediately aborted.
In this case, <code>receive</code> returns a <code>`Fatal_error</code> token. Note that the
queued responses cannot be sent! An example of this is <code>`Broken_pipe</code>.<newline/>There is a large class of non-serious errors, esp. format errors
in the header and body. It is typical of these errors that one cannot determine
the end of the request properly. For this reason, the daemon stops reading
further data from the request, but the response queue is still delivered.
For these errors, <code>receive</code> returns a <code>`Bad_request_error</code> token.
This token contains a <code>http_response</code> object that must be filled with a
400 error response.</comment><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>cycle</method><doc>Looks at the file descriptor. If there is data to read from the descriptor,
and there is free space in the input buffer, additional data is read into
the buffer. It is also tried to interpret the new data as <code>req_token</code>s,
and if possible, new <code>req_token</code>s are appended to the receive queue.<newline/>If the response queue has objects, and there is really data one can send,
and if the socket allows one to send data, it is tried to send as much
data as possible.<newline/>The option <code>block</code> (default: 0) can be set to wait until data
can be exchanged with the socket. This avoids busy waiting. The number
is the duration in seconds to wait until the connection times out
(0 means not to wait at all, -1 means to wait infinitely). When a timeout
happens, and there is nothing to send, and the last request was fully
processed, <code>receive</code> will simply return <code>`Timeout</code> (i.e. when
<code>waiting_for_next_message</code> is <code>true</code>). Otherwise, the
fatal error <code>`Timeout</code> is generated.</doc><arrow><optional>block</optional><path><resolved><identifier><type>float</type></identifier></resolved></path><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>receive</method><doc>Returns the first <code>req_token</code> from the receive queue. Raises
<code>Recv_queue_empty</code> when the queue is empty (= has no new data)</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>req_token</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>peek_recv</method><doc>Peeks the first token, but leaves it in the queue.
Raises <code>Recv_queue_empty</code> when the queue is empty.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>req_token</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>recv_queue_len</method><doc>Returns the length of the receive queue (number of tokens)</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>resp_queue_len</method><doc>Returns the length of the internal response queue (number of <code>http_response</code>
objects that have not yet fully processed)</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>pipeline_len</method><doc>Returns the number of unanswered requests = Number of received <code>`Req_end</code> tokens
minus number of responses in state <code>`Processed</code>. Note that <code>pipeline_len</code>
can become <code>-1</code> when bad requests are responded.</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>recv_queue_byte_size</method><doc>Returns the (estimated) size of the input queue in bytes</doc><path><resolved><identifier><type>int</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>waiting_for_next_message</method><doc>Whether the kernel is currently waiting for the beginning of a new
arriving HTTP request. This is <code>false</code> while the request is being
received.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>input_timeout_class</method><doc>Suggests the calculation of a timeout value for input:<list><item><code>`Normal</code>: The normal timeout value applies</item><item><code>`Next_message</code>: The timeout value applies while waiting for the next message</item><item><code>`None</code>: The connection is output-driven, no input timeout value</item></list></doc><poly_variant><fixed/><constructor>Normal<constant/></constructor><constructor>Next_message<constant/></constructor><constructor>None<constant/></constructor></poly_variant></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>shutdown</method><doc>Shuts the socket down. Note: the descriptor is not closed.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>timeout</method><doc>Process a timeout condition as <code>cycle</code> does</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>abort</method><doc>Stops the transmission of data. The receive queue is cleared and filled
with the two tokens <code>`Fatal_error</code> and <code>`Eof</code>.
The response queue is cleared. The <code>cycle</code>
method will return immediately without doing anything.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>fatal_error</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>fd</method><doc>Just returns the socket</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>do_input</method><doc>Returns <code>true</code> iff the protocol engine is interested in new data from the
socket. Returns <code>false</code> after EOF and after errors.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>do_output</method><doc>Returns <code>true</code> iff the protocol engine has data to output to the socket</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>need_linger</method><doc>Returns <code>true</code> when a lingering close operation is needed to reliably shut
down the socket. In many cases, this expensive operation is not necessary.
See the class <code>lingering_close</code> below.</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>config</method><doc>Just returns the configuration</doc><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol_config</class_type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>http_protocol</class>test_coverage</method><doc>For testing: returns a list of tokens indicating into which cases the program
ran.</doc><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></method></signature></arrow></arrow></class><class><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>lingering_close</class><doc>Closes a file descriptor using the &quot;lingering close&quot; algorithm.
The optional <code>preclose</code> function is called just before <code>Unix.close</code>.</doc><arrow><optional>preclose</optional><path><resolved><identifier><type>option</type></identifier></resolved><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><signature><comment>Closes a file descriptor using the &quot;lingering close&quot; algorithm<newline/>Usage:
<precode>while lc # lingering do lc # cycle ~block:true () done</precode></comment><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>lingering_close</class>cycle</method><doc>Reads data from the file descriptor until EOF or until a fixed timeout
is over. Finally, the descriptor is closed. If <code>block</code> is set, the method
blocks until data is available. (Default: <code>false</code>)</doc><arrow><optional>block</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>lingering_close</class>lingering</method><doc>Whether the socket is still lingering</doc><path><resolved><identifier><type>bool</type></identifier></resolved></path></method><method><method><class><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>lingering_close</class>fd</method><doc>The file descriptor</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path></method></signature></arrow></arrow></class><comment><title level="1">Debugging</title></comment><module><module><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>Debug</module><type><signature><value><value><module><root><base><xml src="index.xml"><cmti name="Nethttpd_kernel" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/nethttpd/nethttpd_kernel.cmti" digest="cb3eaecd0d22fe226726c29db05c6aa8"/></xml></base>Nethttpd_kernel</root>Debug</module>enable</value><doc>Enables <reference><element><root>Netlog</root></element></reference>-style debugging of this module</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>bool</type></identifier></resolved></path></path></value></signature></type></module></unit>