<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Netplex_log</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Netplex_log</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Loggers</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        
      <p>A logger is usually configured in the config file. The <code>logging</code>
section is inside <code>controller</code>, e.g.</p>
      <pre><code>netplex {
         ...
         controller {
           ...
           logging { ... };
           ...
         }
         ...
       }</code></pre>
      <p>The possible types of <code>logging</code> sections are explained below.
If there are several <code>logging</code> sections, the messages are sent to
all configured loggers.</p>
      
      <p>Instead of configuring loggers in the config file, one can also
create loggers from config objects like <code>generic_config</code>.</p>
      
      <p>See also [root:Netplex_intro].logging for more documentation.</p>
      
        
      </div>
    
  <div class="region" id="/classtype:generic_config">
  <a href="index.html#/classtype:generic_config" class="anchor">#</a>
  
  <div class="classtype">
    <span class="keyword">class type</span> generic_config = 
  <div class="region" id="/classtype:generic_config/method:log_format">
  <a href="index.html#/classtype:generic_config/method:log_format" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_format : string
  
  </div>
  
  </div>
  
  <div class="region" id="/classtype:generic_config/method:log_component">
  <a href="index.html#/classtype:generic_config/method:log_component" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_component : string
  
  </div>
  
  </div>
  
  <div class="region" id="/classtype:generic_config/method:log_subchannel">
  <a href="index.html#/classtype:generic_config/method:log_subchannel" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_subchannel : string
  
  </div>
  
  </div>
  
  <div class="region" id="/classtype:generic_config/method:log_max_level">
  <a href="index.html#/classtype:generic_config/method:log_max_level" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_max_level : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/type:level">level</a>
  
  </div>
  
  </div>
  
    
  </div>
  
  </div>
  
  <div class="region" id="/val:channel_logger">
  <a href="index.html#/val:channel_logger" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> channel_logger : <a href="../../../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger">logger</a>
    
      <div class="doc">
        
      <p>Outputs messages to the channel</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:channel_logger_from_obj">
  <a href="index.html#/val:channel_logger_from_obj" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> channel_logger_from_obj : <a href="index.html#/classtype:generic_config">generic_config</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger">logger</a>
    
      <div class="doc">
        
      <p>Outputs messages to the channel</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:stderr_logger_factory">
  <a href="index.html#/val:stderr_logger_factory" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stderr_logger_factory : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger_factory">logger_factory</a>
    
      <div class="doc">
        
      <p>Reads a logging section like</p>
      <pre><code>logging {
            type = &quot;stderr&quot;;
            format = &quot;&lt;format string&gt;&quot;;
            component = &quot;&lt;name_of_component&gt;&quot;;
            subchannel = &quot;&lt;name_of_subchannel&gt;&quot;;
            max_level = &quot;&lt;max_level&gt;&quot;;
         }</code></pre><ul><li><code>format</code>: Optional format string. See below.</li><li><code>component</code>: Optional component selector. See below.</li><li><code>subchannel</code>: Optional subchannel selector. See below.</li><li><code>max_level</code>: Optional maximum log level. See below.</li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:file_logger">
  <a href="index.html#/val:file_logger" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file_logger : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger">logger</a>
    
      <div class="doc">
        
      <p>Writes messages to this file</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:file_logger_from_obj">
  <a href="index.html#/val:file_logger_from_obj" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file_logger_from_obj : <a href="index.html#/classtype:generic_config">generic_config</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger">logger</a>
    
      <div class="doc">
        
      <p>Writes messages to this file</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:file_logger_factory">
  <a href="index.html#/val:file_logger_factory" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file_logger_factory : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger_factory">logger_factory</a>
    
      <div class="doc">
        
      <p>Reads a logging section like</p>
      <pre><code>logging {
            type = &quot;file&quot;;
            file = &quot;/path/to/logfile&quot;;
            format = &quot;&lt;format string&gt;&quot;;
            component = &quot;&lt;name_of_component&gt;&quot;;
            subchannel = &quot;&lt;name_of_subchannel&gt;&quot;;
            max_level = &quot;&lt;max_level&gt;&quot;;
         }</code></pre><ul><li><code>file</code>: Log messages are appended to this file.</li><li><code>format</code>: Optional format string. See below.</li><li><code>component</code>: Optional component selector. See below.</li><li><code>subchannel</code>: Optional subchannel selector. See below.</li><li><code>max_level</code>: Optional maximum log level. See below.</li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:multi_file_config">
  <a href="index.html#/classtype:multi_file_config" class="anchor">#</a>
  
  <div class="classtype">
    <span class="keyword">class type</span> multi_file_config = 
    <div class="inherit">
    <span class="keyword">inherit</span> <a href="index.html#/classtype:generic_config">generic_config</a>
    </div>
    
  <div class="region" id="/classtype:multi_file_config/method:log_directory">
  <a href="index.html#/classtype:multi_file_config/method:log_directory" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_directory : string
  
  </div>
  
  </div>
  
  <div class="region" id="/classtype:multi_file_config/method:log_files">
  <a href="index.html#/classtype:multi_file_config/method:log_files" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_files : (string * string * [ <div class="cons">| <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/type:level">level</a></div><div class="cons">| `All</div> ] * string * string) list
  
      <div class="doc">
        
      <p>Triples <code>(component, subchannel, max_level, file, format)</code>. Use <code>*</code> as
wildcard in <code>component</code> and <code>subchannel</code>.</p>
      
      <p>Currently, <code>`All</code> is a synonym for the <code>`Debug</code> level.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
    
  </div>
  
  </div>
  
  <div class="region" id="/val:multi_file_logger">
  <a href="index.html#/val:multi_file_logger" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> multi_file_logger : <a href="index.html#/classtype:multi_file_config">multi_file_config</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger">logger</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:multi_file_logger_factory">
  <a href="index.html#/val:multi_file_logger_factory" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> multi_file_logger_factory : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger_factory">logger_factory</a>
    
      <div class="doc">
        
      <p>Reads a logging section like</p>
      <pre><code>logging {
            type = &quot;multi_file&quot;;
            directory = &quot;/path/to/logdir&quot;;
            format = &quot;&lt;format string&gt;&quot;;
            file {
                component = &quot;&lt;name_of_component&gt;&quot;;
                subchannel = &quot;&lt;name_of_subchannel&gt;&quot;;
                max_level = &quot;&lt;max_level&gt;&quot;;
                file = &quot;&lt;logfile&gt;&quot;;
                format = &quot;&lt;format string&gt;&quot;;
            };
            file { ... }; ...
         }</code></pre><ul><li><code>format</code>: Optional format string. See below.</li><li><code>component</code>: Optional component selector. See below.</li><li><code>subchannel</code>: Optional subchannel selector. See below.</li><li><code>max_level</code>: Optional maximum log level. See below.</li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/classtype:syslog_config">
  <a href="index.html#/classtype:syslog_config" class="anchor">#</a>
  
  <div class="classtype">
    <span class="keyword">class type</span> syslog_config = 
    <div class="inherit">
    <span class="keyword">inherit</span> <a href="index.html#/classtype:generic_config">generic_config</a>
    </div>
    
  <div class="region" id="/classtype:syslog_config/method:log_identifier">
  <a href="index.html#/classtype:syslog_config/method:log_identifier" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_identifier : string
  
  </div>
  
  </div>
  
  <div class="region" id="/classtype:syslog_config/method:log_facility">
  <a href="index.html#/classtype:syslog_config/method:log_facility" class="anchor">#</a>
  
  <div class="method">
  <span class="keyword">method</span> log_facility : <a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/">Netsys_posix</a>.<a href="../../../../ocamlnet.3.7.7/src/netsys/netsys_posix/#/type:syslog_facility">syslog_facility</a>
  
  </div>
  
  </div>
  
    
  </div>
  
  </div>
  
  <div class="region" id="/val:syslog_logger">
  <a href="index.html#/val:syslog_logger" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> syslog_logger : <a href="index.html#/classtype:syslog_config">syslog_config</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger">logger</a>
    
      <div class="doc">
        
      <p>Creates a logger writing to syslog</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:syslog_logger_factory">
  <a href="index.html#/val:syslog_logger_factory" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> syslog_logger_factory : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger_factory">logger_factory</a>
    
      <div class="doc">
        
      <p>Reads a logging section like</p>
      <pre><code>logging {
            type = &quot;syslog&quot;;
            format = &quot;&lt;format string&gt;&quot;;
            identifier = &quot;&lt;identifier&gt;&quot;;
            facility = &quot;&lt;facility name&gt;&quot;;
            component = &quot;&lt;name_of_component&gt;&quot;;
            subchannel = &quot;&lt;name_of_subchannel&gt;&quot;;
            max_level = &quot;&lt;max_level&gt;&quot;;
         }</code></pre>
      <p>All parameters except <code>type</code> are optional:</p>
      <ul><li><code>facility</code>: The faciltiy like <code>LOCAL0</code>, <code>USER</code>, ...</li><li><code>identifier</code>: An identifier prefixing every message</li><li><code>format</code>: Optional format string. See below.</li><li><code>component</code>: Optional component selector. See below.</li><li><code>subchannel</code>: Optional subchannel selector. See below.</li><li><code>max_level</code>: Optional maximum log level. See below.</li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:logger_factories">
  <a href="index.html#/val:logger_factories" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> logger_factories : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/classtype:logger_factory">logger_factory</a> list
    
      <div class="doc">
        
      <p>All built-in logger factories</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:level_weight">
  <a href="index.html#/val:level_weight" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> level_weight : <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/type:level">level</a> <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p>An integer corresponding to the level</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:level_of_string">
  <a href="index.html#/val:level_of_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> level_of_string : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/">Netplex_types</a>.<a href="../../../../ocamlnet.3.7.7/src/netplex/netplex_types/#/type:level">level</a>
    
      <div class="doc">
        
      <p>Convert a string to a level</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Common parameters</h2>
    </div>
        
      </div>
    
      <div class="doc">
        
      <p>Logging parameters that can occur in all logging configurations:</p>
      
        
      </div>
    
      <div class="doc">
        <div class="region">
    <h3 class="section level_3">format</h3>
    </div>
      <p>The format string may include variable
parts in the syntax <code>$name</code> or <code>${name}</code>. The following variable
specifications are defined:</p>
      <ul><li><code>timestamp</code>: the time in standard format (as set in
<a href="../../../../ocamlnet.3.7.7/src/netsys/netlog/">Netlog</a>.<a href="../../../../ocamlnet.3.7.7/src/netsys/netlog/#/val:current_formatter">current_formatter</a>)</li><li><code>timestamp:&lt;format&gt;</code> the time in custom format where <code>&lt;format&gt;</code> is a
[root:Netdate] format string</li><li><code>timestamp:unix</code>: the time in seconds since the epoch</li><li><code>component</code>: the name of the component emitting the log message</li><li><code>subchannel</code>: the name of the subchannel</li><li><code>level</code>: the log level</li><li><code>message</code>: the log message</li></ul>
        
      </div>
    
      <div class="doc">
        <div class="region">
    <h3 class="section level_3">component</h3>
    </div>
      <p>The <code>component</code> name restricts logging to the given Netplex component.
One can use the wildcard &quot;*&quot;.</p>
      
        
      </div>
    
      <div class="doc">
        <div class="region">
    <h3 class="section level_3">subchannel</h3>
    </div>
      <p>The <code>subchannel</code> name restricts logging to this subchannel.
One can use the wildcard &quot;*&quot;.</p>
      
        
      </div>
    
      <div class="doc">
        <div class="region">
    <h3 class="section level_3">max_level</h3>
    </div>
      <p>The <code>max_level</code> specifier restricts logging to messages with at most
this level. Levels are &quot;emerg&quot;, &quot;alert&quot;, &quot;crit&quot;, &quot;err&quot;, &quot;warning&quot;,
&quot;notice&quot;, &quot;info&quot;, &quot;debug&quot; (in order of increasing level).</p>
      
        
      </div>
    </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>