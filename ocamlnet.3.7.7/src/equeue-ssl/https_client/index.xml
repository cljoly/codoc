<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></html></base>Https_client</root><digest>5ec5d7afb3008a5d3a6bb661ca9bcddc</digest><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>Buffer<digest>a579f4a57e300ec755f84af883c1e51b</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>CamlinternalOO<digest>3d0b4eb4525ba4274c8885d7124f7bbc</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Equeue<digest>207ed21b384dd4f4ad91bce8a449f64c</digest></import><import>Hashtbl<digest>bb8e269d690301a1c4ff14a08e96e83e</digest></import><import>Int32<digest>f43b8a2972804b40e28b661b6fdf157a</digest></import><import>Int64<digest>3565b288ec68024088360805650448dd</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Netbuffer<digest>5f4225f2baeef1584e246c6ce1d32119</digest></import><import>Netchannels<digest>4e22bd1ba0cae4bd9bd1b6e69fc16ade</digest></import><import>Netexn<digest>845c6110cc81d957d9fc21c9e149d5fb</digest></import><import>Netlog<digest>2441459e41ceb77fc72d5714e0508958</digest></import><import>Netsockaddr<digest>514bc9294568dc3facaf49b96623c337</digest></import><import>Netsys<digest>4a0ae4cc74f10e8667e3b629e6907079</digest></import><import>Netsys_mem<digest>f19ef786301a8cbcfbf1a4fffee992f8</digest></import><import>Netsys_posix<digest>f5b674538a41e016bb4f0e731d114657</digest></import><import>Netsys_signal<digest>703311022efc5162433d614b9bef35af</digest></import><import>Netsys_types<digest>67b26630eaf4decaa483864d4d00a3a2</digest></import><import>Netsys_win32<digest>02161f9169b76f686b05a51ed2d9357c</digest></import><import>Obj<digest>825c406ee2d12ed12fd12dc0e4de1d26</digest></import><import>Oo<digest>0977563fa9c23f2df2952b302bdba835</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Printf<digest>eb49a17645c5ea2dd298430a3c986186</digest></import><import>Set<digest>487197ccd2fea64d52f1cd917061caf2</digest></import><import>Ssl<digest>b359d7329d9a72711516b270097651a0</digest></import><import>Stream<digest>55948988e71c3ee1749feb21ccec9fc9</digest></import><import>Sys<digest>0ce699458ce4430954d7e6a78874647c</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><import>Unixqueue<digest>5ec5f57d46c5b3e908696c79a59232d4</digest></import><import>Unixqueue_util<digest>f013da7473123405a6e2f9edc5dde5e1</digest></import><import>Uq_engines<digest>7eabb27fa86d9290a1fe2ef78547b48a</digest></import><source><file>https_client.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl</dir><digest>9d81ed24dde75b080595448fac4a870b</digest></source><doc>HTTPS extension to <reference><element><root>Http_client</root></element></reference></doc><type><type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>channel_binding_id</type><doc>Same as <reference><element><resolved><type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>channel_binding_id</type></resolved></element></reference></doc><path><resolved><identifier><type>int</type></identifier></resolved></path></type><class_type><class_type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>transport_channel_type</class_type><doc>Same as <reference><element><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>transport_channel_type</class_type></resolved></element></reference></doc><signature><method><method><class_type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>transport_channel_type</class_type>setup_e</method><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>channel_binding_id</type></identifier></resolved></path><arrow><path><resolved><identifier><type>float</type></identifier></resolved></path><arrow><path><resolved><identifier><type>exn</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>event_system</class_type></resolved></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>engine</class_type></resolved><tuple><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>multiplex_controller</class_type></resolved></path><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>exn</type></identifier></resolved></path></path></tuple></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>transport_channel_type</class_type>continue</method><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>channel_binding_id</type></identifier></resolved></path><arrow><path><resolved><identifier><type>float</type></identifier></resolved></path><arrow><path><resolved><identifier><type>exn</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/unixqueue/index.xml"><cmti name="Unixqueue" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/unixqueue.cmti" digest="5ec5f57d46c5b3e908696c79a59232d4"/></xml></base>Unixqueue</root></identifier>event_system</class_type></resolved></path><arrow><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>exn</type></identifier></resolved></path></path><path><resolved><class_type><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/index.xml"><cmti name="Uq_engines" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue/uq_engines.cmti" digest="7eabb27fa86d9290a1fe2ef78547b48a"/></xml></base>Uq_engines</root></identifier>multiplex_controller</class_type></resolved></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></method><method><method><class_type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>transport_channel_type</class_type>default_port</method><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>int</type></identifier></resolved></path></path></method></signature></class_type><value><value><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>https_transport_channel_type</value><doc>Configures a TLS tunnel for this context.<newline/>The <code>verify</code> callback is invoked right after connecting to the
remote socket and finishing the SSL handshake. The user can do here
additional checks whether the peer is acceptable. If not acceptable,
raise an exception.</doc><arrow><optional>verify</optional><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ssl.0.4.7/src/ssl/index.xml"><cmti name="Ssl" src="/home/dsheets/.opam/doc/build/ssl.0.4.7/src/ssl.cmti" digest="b359d7329d9a72711516b270097651a0"/></xml></base>Ssl</root></identifier>context</type></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ssl.0.4.7/src/ssl/index.xml"><cmti name="Ssl" src="/home/dsheets/.opam/doc/build/ssl.0.4.7/src/ssl.cmti" digest="b359d7329d9a72711516b270097651a0"/></xml></base>Ssl</root></identifier>socket</type></resolved></path><arrow><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.html"><xml src="../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/index.xml"><cmti name="Unix" src="/home/dsheets/.opam/doc/build/ocaml/otherlibs/unix/unix.cmti" digest="30a4cc8e5f4f902ea609c91caec48af7"/></xml></html></base>Unix</root></identifier>file_descr</type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow><arrow><path><resolved><type><identifier><root><base><xml src="../../../../ssl.0.4.7/src/ssl/index.xml"><cmti name="Ssl" src="/home/dsheets/.opam/doc/build/ssl.0.4.7/src/ssl.cmti" digest="b359d7329d9a72711516b270097651a0"/></xml></base>Ssl</root></identifier>context</type></resolved></path><path><resolved><identifier><class_type><root><base><xml src="index.xml"><cmti name="Https_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/equeue-ssl/https_client.cmti" digest="5ec5d7afb3008a5d3a6bb661ca9bcddc"/></xml></base>Https_client</root>transport_channel_type</class_type></identifier></resolved></path></arrow></arrow></value><comment><title level="2">How to configure a pipeline for TLS</title><newline/>Just follow this recipe:<newline/>1. Create the <code>Ssl</code> context:<newline/><precode>Ssl.init()</precode><newline/><precode>let ctx = Ssl.create_context Ssl.TLSv1 Ssl.Client_context</precode><newline/>2. Create the transport channel type:<newline/><precode>let tct = Https_client.https_transport_channel_type ctx</precode><newline/>3. Configure the transport:<newline/><precode>pipeline # configure_transport Http_client.https_cb_id tct</precode><newline/>Now all URLs starting with &quot;https://&quot; will use this transport.
If you need more control about the type of SSL/TLS channel, you
can create new channel binding IDs, and configure these in addition.
For each message needing a specific context, just set the
channel binding ID (method <code>set_channel_binding</code> of the message).</comment><comment><title level="2">How to configure the Convenience module</title><newline/>Just do once:<newline/><precode>    Ssl.init();
    Http_client.Convenience.configure_pipeline
      (fun p -&gt;
         let ctx = Ssl.create_context Ssl.TLSv1 Ssl.Client_context in
         let tct = Https_client.https_transport_channel_type ctx in
         p # configure_transport Http_client.https_cb_id tct
      )</precode><newline/>This will enable &quot;https&quot; for the functions in <reference><element><resolved><module><identifier><root><base><xml src="../../../../ocamlnet.3.7.7/src/netclient/http_client/index.xml"><cmti name="Http_client" src="/home/dsheets/.opam/doc/build/ocamlnet.3.7.7/src/netclient/http_client.cmti" digest="1f7e656c1c61c63b3475b3b9d175eab3"/></xml></base>Http_client</root></identifier>Convenience</module></resolved></element></reference>,
e.g. <precode>let data = Http_client.Convenience.http_get &quot;https://url&quot;</precode></comment><comment><title level="2">How to configure <reference><element><root>Http_fs</root></element></reference></title><newline/>Just do once:<newline/><precode>    Ssl.init()</precode><newline/>and create the <code>http_fs</code> object with<newline/><precode>    Http_fs.http_fs 
      ~config_pipeline:(
        fun p -&gt;
	  let ctx = Ssl.create_context Ssl.TLSv1 Ssl.Client_context in
	  let tct = Https_client.https_transport_channel_type ctx in
	  p # configure_transport Http_client.https_cb_id tct
      )
      &quot;https://root-url&quot;</precode></comment><comment><title level="2">Features and limitations</title><newline/>We only implement RFC 2618, i.e. secure connections on a separate
port (443 instead of 80). There is no support (yet) for RFC 2617,
i.e. upgrading an existing insecure connection to a secure one.<newline/>If an HTTP proxy server is configured, the TLS connection is established
via the CONNECT method (documented in RFC 2617).<newline/>Alternatively, it is also possible to connect via SOCKS version 5
proxies.<newline/>There is, so far, no support for reusing TLS sessions across connections.
For every connection a new TLS session is created.</comment></unit>