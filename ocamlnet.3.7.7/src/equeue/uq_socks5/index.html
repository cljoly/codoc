<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Uq_socks5</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Uq_socks5</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>This module implements a SOCKS version 5 client (see RFC 1928) for
use with the <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/val:connector">connector</a>, <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/val:listener">listener</a>, and
<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/val:datagram_provider">datagram_provider</a> engine factories.</p>
      
      <p>This implementation supports IPv4 and IPv6.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/exn:Socks_error">
  <a href="index.html#/exn:Socks_error" class="anchor">#</a>
  
  <div class="exn">
    <span class="keyword">exception</span> Socks_error <span class="keyword">of</span> string
    
      <div class="doc">
        
      <p>Raised when error messages of the SOCKS proxy are received, or
because of other SOCKS-related problems.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/class:proxy_client">
  <a href="index.html#/class:proxy_client" class="anchor">#</a>
  
  <div class="class">
    <span class="keyword">class</span> proxy_client : 
    <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/type:connect_address">connect_address</a>
    <span class="rarr"><span>-&gt;</span></span>
    
    <div class="inherit">
    <span class="keyword">inherit</span> <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/classtype:client_endpoint_connector">client_endpoint_connector</a>
    </div>
    
    <div class="inherit">
    <span class="keyword">inherit</span> <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/classtype:server_endpoint_listener">server_endpoint_listener</a>
    </div>
    
    <div class="inherit">
    <span class="keyword">inherit</span> <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/classtype:datagram_socket_provider">datagram_socket_provider</a>
    </div>
    
    
    
      <div class="doc">
        
      <p>The object created by <code>new proxy_client addr</code> can be passed as <code>proxy</code>
to the <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/val:connector">connector</a>, <a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/val:listener">listener</a>, and
<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/">Uq_engines</a>.<a href="../../../../ocamlnet.3.7.7/src/equeue/uq_engines/#/val:datagram_provider">datagram_provider</a> functions to use
the SOCKS proxy for connections, servers, and datagram socket,
respectively.</p>
      
      <p>The SOCKS client supports the following methods:</p>
      <ul><li><code>connect</code>: Only TCP connections are supported (UDP could be made
working - TODO)</li><li><code>listen</code>: This works (only) for TCP sockets, too</li><li><code>create_datagram_socket</code>: Creates unconnected datagram sockets that
can be sent and received with object methods</li></ul>
      <p>Note that socket addresses are resolved by the proxy host; this applies
to both <code>`Sock_inet</code> and <code>`Sock_inet_byname</code>. For the latter this means
that name resolution is done by the proxy.</p>
      
      <p>The nature of SOCKS restricts the functionality:</p>
      <ul><li><code>`Sock_unix</code> addresses are not supported (i.e. you cannot connect
to a Unix domain socket on the proxy host)</li><li>Listening server sockets can only accept one connection; after that
they are &quot;dead&quot; and must be shut down first. The method
<code>multiple_connections</code> is <code>false</code> because of this.</li><li>Further restrictions can be enforced by the SOCKS proxy and
its configuration.</li></ul>
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>