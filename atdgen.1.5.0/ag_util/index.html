<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../codoc.css"/>
    <title>Ag_util</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Ag_util</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Various convenience types and functions</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:ocaml_array">
  <a href="index.html#/type:ocaml_array" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a ocaml_array = 'a array
    
      <div class="doc">
        
      <p>An alias for OCaml's standard array type,
used in generated code.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Biniou">
  <a href="index.html#/module:Biniou" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Biniou : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
  <div class="region" id="/module:Biniou/type:reader">
  <a href="index.html#/module:Biniou/type:reader" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a reader = <a href="../../biniou.1.0.9/bi_inbuf/">Bi_inbuf</a>.<a href="../../biniou.1.0.9/bi_inbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Type of a <code>read_</code> function as produced by <code>atdgen -biniou</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Biniou/type:writer">
  <a href="index.html#/module:Biniou/type:writer" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a writer = <a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Type of a <code>write_</code> function as produced by <code>atdgen -biniou</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Biniou/val:from_channel">
  <a href="index.html#/module:Biniou/val:from_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> from_channel : ?len:int <span class="rarr"><span>-&gt;</span></span> ?shrlen:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Biniou/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Read a biniou value from a channel.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> input buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">shrlen</span> obsolete and ignored.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Biniou/val:from_file">
  <a href="index.html#/module:Biniou/val:from_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> from_file : ?len:int <span class="rarr"><span>-&gt;</span></span> ?shrlen:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Biniou/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Read a biniou value from a file.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> input buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">shrlen</span> obsolete and ignored.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Biniou/val:to_channel">
  <a href="index.html#/module:Biniou/val:to_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_channel : ?len:int <span class="rarr"><span>-&gt;</span></span> ?shrlen:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Biniou/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a biniou value to a channel.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">shrlen</span> obsolete and ignored.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Biniou/val:to_file">
  <a href="index.html#/module:Biniou/val:to_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_file : ?len:int <span class="rarr"><span>-&gt;</span></span> ?shrlen:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Biniou/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a biniou value to a file.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">shrlen</span> obsolete and ignored.
  </div>
  
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json">
  <a href="index.html#/module:Json" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Json : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
  <div class="region" id="/module:Json/type:reader">
  <a href="index.html#/module:Json/type:reader" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a reader = <a href="../../yojson.1.2.0/yojson/">Yojson</a>.<a href="../../yojson.1.2.0/yojson/#/module:Safe">Safe</a>.<a href="../../yojson.1.2.0/yojson/#/module:Safe/type:lexer_state">lexer_state</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/lexing/">Lexing</a>.<a href="../../ocaml.4.02.1+doc/stdlib/lexing/#/type:lexbuf">lexbuf</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Type of a <code>read_</code> function as produced by <code>atdgen -json</code>.</p>
      
      <p>In versions of yojson greater than 1.0.1,
type <code>Yojson.Safe.lexer_state</code> is equivalent to
<code>Yojson.lexer_state</code>, <code>Yojson.Basic.lexer_state</code> and
<code>Yojson.Raw.lexer_state</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/type:writer">
  <a href="index.html#/module:Json/type:writer" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a writer = <a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Type of a <code>write_</code> function as produced by <code>atdgen -json</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:from_lexbuf">
  <a href="index.html#/module:Json/val:from_lexbuf" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> from_lexbuf : ?stream:bool <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../yojson.1.2.0/yojson/">Yojson</a>.<a href="../../yojson.1.2.0/yojson/#/module:Safe">Safe</a>.<a href="../../yojson.1.2.0/yojson/#/module:Safe/type:lexer_state">lexer_state</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/lexing/">Lexing</a>.<a href="../../ocaml.4.02.1+doc/stdlib/lexing/#/type:lexbuf">lexbuf</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Read a JSON value from a lexbuf.</p>
      
        
  <div class="tag param">
    <span class="label">stream</span> if <code>true</code>, the JSON parser will not try
to consume whitespace until the end of file.
Default is <code>false</code>, which raises a <code>Yojson.Json_error</code>
exception if the valid JSON value is followed
by anything other than standard JSON whitespace.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:from_string">
  <a href="index.html#/module:Json/val:from_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> from_string : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Convert a JSON value from a string.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It does not have to be the name of a real file,
it can be something like <code>&quot;&lt;stdin&gt;&quot;</code>.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:from_channel">
  <a href="index.html#/module:Json/val:from_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> from_channel : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Read a JSON value from a channel.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It does not have to be the name of a real file,
it can be something like <code>&quot;&lt;stdin&gt;&quot;</code>.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:from_file">
  <a href="index.html#/module:Json/val:from_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> from_file : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Read a JSON value from a channel.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It is intended to represent the source file
if it is different from the input file.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_from_lexbuf">
  <a href="index.html#/module:Json/val:stream_from_lexbuf" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_from_lexbuf : ?fin:(unit <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../yojson.1.2.0/yojson/">Yojson</a>.<a href="../../yojson.1.2.0/yojson/#/module:Safe">Safe</a>.<a href="../../yojson.1.2.0/yojson/#/module:Safe/type:lexer_state">lexer_state</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/lexing/">Lexing</a>.<a href="../../ocaml.4.02.1+doc/stdlib/lexing/#/type:lexbuf">lexbuf</a> <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Read a stream of JSON values from a lexbuf.</p>
      
        
  <div class="tag param">
    <span class="label">fin</span> finalization function executed once when the end of the
stream is reached either because there is no more
input or because of an exception. This is typically
used to close the input channel, e.g.
<code>fun () -&gt; close_in_noerr ic</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_from_string">
  <a href="index.html#/module:Json/val:stream_from_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_from_string : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fin:(unit <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Read a stream of JSON values from a channel.
Values do not have to be separated by newline characters.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fin</span> finalization function executed once when the end of the
stream is reached either because there is no more
input or because of an exception. This is typically
used to free the underlying resources, if any.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It does not have to be the name of a real file,
it can be something like <code>&quot;&lt;stdin&gt;&quot;</code>.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_from_channel">
  <a href="index.html#/module:Json/val:stream_from_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_from_channel : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fin:(unit <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Read a stream of JSON values from a channel.
Values do not have to be separated by newline characters.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fin</span> finalization function executed once when the end of the
stream is reached either because there is no more
input or because of an exception. This is typically
used to close the input channel, e.g.
<code>fun () -&gt; close_in_noerr ic</code>.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It does not have to be the name of a real file,
it can be something like <code>&quot;&lt;stdin&gt;&quot;</code>.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_from_file">
  <a href="index.html#/module:Json/val:stream_from_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_from_file : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fin:(unit <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Read a stream of JSON values from a file.
Values do not have to be separated by newline characters.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fin</span> finalization function executed once when the end of the
stream is reached either because there is no more
input or because of an exception. This can be used
to remove the input file if it was temporary, e.g.
<code>fun () -&gt; Sys.remove fname</code>.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It is intended to represent the source file
if it is different from the input file.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:list_from_string">
  <a href="index.html#/module:Json/val:list_from_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_from_string : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fin:(unit <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a list
    
      <div class="doc">
        
      <p>Read a list of JSON values from a channel.
Values do not have to be separated by newline characters.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fin</span> finalization function executed once when the end of the
stream is reached either because there is no more
input or because of an exception. This is typically
used to free the underlying resources, if any.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It does not have to be the name of a real file,
it can be something like <code>&quot;&lt;stdin&gt;&quot;</code>.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:list_from_channel">
  <a href="index.html#/module:Json/val:list_from_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_from_channel : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fin:(unit <span class="rarr"><span>-&gt;</span></span> unit) <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a list
    
      <div class="doc">
        
      <p>Read a list of JSON values from a channel.
Values do not have to be separated by newline characters.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fin</span> finalization function executed once when the end of the
stream is reached either because there is no more
input or because of an exception. This is typically
used to close the input channel, e.g.
<code>fun () -&gt; close_in_noerr ic</code>.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It does not have to be the name of a real file,
it can be something like <code>&quot;&lt;stdin&gt;&quot;</code>.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:list_from_file">
  <a href="index.html#/module:Json/val:list_from_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_from_file : ?buf:<a href="../../biniou.1.0.9/bi_outbuf/">Bi_outbuf</a>.<a href="../../biniou.1.0.9/bi_outbuf/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?fname:string <span class="rarr"><span>-&gt;</span></span> ?lnum:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:reader">reader</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a list
    
      <div class="doc">
        
      <p>Read a list of JSON values from a file.
Values do not have to be separated by newline characters.</p>
      
        
  <div class="tag param">
    <span class="label">buf</span> buffer used to accumulate string data
during the lexing phase.
  </div>
  
  <div class="tag param">
    <span class="label">fname</span> input file name to be used in error messages.
It is intended to represent the source file
if it is different from the input file.
  </div>
  
  <div class="tag param">
    <span class="label">lnum</span> line number to assign to the first line of input.
For example <code>lnum=10</code> means that an error on the first
line of input will be reported as an error on line 10.
Default: 1.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:to_string">
  <a href="index.html#/module:Json/val:to_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_string : ?len:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Write a JSON value to a string.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:to_channel">
  <a href="index.html#/module:Json/val:to_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_channel : ?len:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a JSON value to a channel.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:to_file">
  <a href="index.html#/module:Json/val:to_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_file : ?len:int <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a JSON value to a file.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_to_string">
  <a href="index.html#/module:Json/val:stream_to_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_to_string : ?len:int <span class="rarr"><span>-&gt;</span></span> ?lf:string <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Write a stream of values to a string.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">lf</span> additional element terminator. Default: <code>&quot;\n&quot;</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_to_channel">
  <a href="index.html#/module:Json/val:stream_to_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_to_channel : ?len:int <span class="rarr"><span>-&gt;</span></span> ?lf:string <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a stream of values to a channel.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">lf</span> additional element terminator. Default: <code>&quot;\n&quot;</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:stream_to_file">
  <a href="index.html#/module:Json/val:stream_to_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stream_to_file : ?len:int <span class="rarr"><span>-&gt;</span></span> ?lf:string <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a <a href="../../ocaml.4.02.1+doc/stdlib/stream/">Stream</a>.<a href="../../ocaml.4.02.1+doc/stdlib/stream/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a stream of values to a file.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">lf</span> additional element terminator. Default: <code>&quot;\n&quot;</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:list_to_string">
  <a href="index.html#/module:Json/val:list_to_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_to_string : ?len:int <span class="rarr"><span>-&gt;</span></span> ?lf:string <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> 'a list <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Write a list of values to a string.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">lf</span> additional element terminator. Default: <code>&quot;\n&quot;</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:list_to_channel">
  <a href="index.html#/module:Json/val:list_to_channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_to_channel : ?len:int <span class="rarr"><span>-&gt;</span></span> ?lf:string <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> 'a list <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a list of values to a channel.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">lf</span> additional element terminator. Default: <code>&quot;\n&quot;</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:list_to_file">
  <a href="index.html#/module:Json/val:list_to_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_to_file : ?len:int <span class="rarr"><span>-&gt;</span></span> ?lf:string <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/module:Json/type:writer">writer</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a list <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Write a list of values to a file.</p>
      
        
  <div class="tag param">
    <span class="label">len</span> output buffer length.
  </div>
  
  <div class="tag param">
    <span class="label">lf</span> additional element terminator. Default: <code>&quot;\n&quot;</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:preset_unknown_field_handler">
  <a href="index.html#/module:Json/val:preset_unknown_field_handler" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> preset_unknown_field_handler : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>preset_unknown_field_handler src_loc field_name</code>
raises a <code>Failure</code> exception with a message containing
the location of the type definition in the source ATD file
(<code>src_loc</code>) and the name of the field (<code>field_name</code>).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:unknown_field_handler">
  <a href="index.html#/module:Json/val:unknown_field_handler" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> unknown_field_handler : (string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit) <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:ref">ref</a>
    
      <div class="doc">
        
      <p>Function called when an unknown JSON field is encountered if
the code was generated by atdgen -json-strict-fields.
Its preset behavior is to call <code>preset_unknown_field_handler</code>
which raises a <code>Failure</code> exception.</p>
      
      <p>Usage: <code>!Ag_util.Json.unknown_field_handler src_loc field_name</code>
where <code>src_loc</code> is the location of the type definition
in the source ATD file and <code>field_name</code> is the unknown
JSON field name.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:preset_constr_mismatch_handler">
  <a href="index.html#/module:Json/val:preset_constr_mismatch_handler" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> preset_constr_mismatch_handler : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>preset_constr_mismatch_handler
           constr_field constr_constr value_field value_constr</code>
raises a <code>Ag_oj_run.Error</code> exception with a message containing
the constructor field and value (<code>constr_field</code> and <code>constr_constr</code>)
which don't match the value field's (<code>value_field</code>)
constructor (<code>value_constr</code>).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Json/val:constr_mismatch_handler">
  <a href="index.html#/module:Json/val:constr_mismatch_handler" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> constr_mismatch_handler : (string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit) <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:ref">ref</a>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Validation">
  <a href="index.html#/module:Validation" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Validation : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
  <div class="region" id="/module:Validation/type:path_elem">
  <a href="index.html#/module:Validation/type:path_elem" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> path_elem = [ <div class="cons">| `Field <span class="keyword">of</span> string</div><div class="cons">| `Index <span class="keyword">of</span> int</div> ]
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Validation/type:path">
  <a href="index.html#/module:Validation/type:path" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> path = <a href="index.html#/module:Validation/type:path_elem">path_elem</a> list
    
      <div class="doc">
        
      <p>Path within a value, used to report validation errors.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Validation/val:string_of_path">
  <a href="index.html#/module:Validation/val:string_of_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string_of_path : <a href="index.html#/module:Validation/type:path">path</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Reverse and concatenate a path into a string
such as <code>&quot;.settings.ports[0]&quot;</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Validation/type:error">
  <a href="index.html#/module:Validation/type:error" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> error = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/module:Validation/type:error/field:error_path">
  <a href="index.html#/module:Validation/type:error/field:error_path" class="anchor">#</a>
  error_path
  </div>
  </td><td>: <a href="index.html#/module:Validation/type:path">path</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/module:Validation/type:error/field:error_msg">
  <a href="index.html#/module:Validation/type:error/field:error_msg" class="anchor">#</a>
  error_msg
  </div>
  </td><td>: string option</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Validation/val:error">
  <a href="index.html#/module:Validation/val:error" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> error : ?msg:string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:Validation/type:path">path</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:Validation/type:error">error</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Validation/val:string_of_error">
  <a href="index.html#/module:Validation/val:string_of_error" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string_of_error : <a href="index.html#/module:Validation/type:error">error</a> <span class="rarr"><span>-&gt;</span></span> string
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>