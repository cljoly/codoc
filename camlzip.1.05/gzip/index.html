<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../codoc.css"/>
    <title>Gzip</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Gzip</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Reading and writing to/from <code>gzip</code> compressed files</p>
      
      <p>This module provides functions to read and write compressed data
to/from files in <code>gzip</code> format.</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Reading from compressed files</h6>
    </div>
        
      </div>
    
  <div class="region" id="/type:in_channel">
  <a href="index.html#/type:in_channel" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> in_channel
    
      <div class="doc">
        
      <p>Abstract type representing a channel opened for reading
from a compressed file.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:open_in">
  <a href="index.html#/val:open_in" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> open_in : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:in_channel">in_channel</a>
    
      <div class="doc">
        
      <p>Open a compressed file for reading. The argument is the file
name.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:open_in_chan">
  <a href="index.html#/val:open_in_chan" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> open_in_chan : <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:in_channel">in_channel</a>
    
      <div class="doc">
        
      <p>Open a compressed file for reading. The argument is a
regular file channel already opened on the compressed file.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:input_char">
  <a href="index.html#/val:input_char" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> input_char : <a href="index.html#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> char
    
      <div class="doc">
        
      <p>Uncompress one character from the given channel, and return it.
Raise <code>End_of_file</code> if no more compressed data is available.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:input_byte">
  <a href="index.html#/val:input_byte" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> input_byte : <a href="index.html#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p>Same as <code>Gzip.input_char</code>, but return the 8-bit integer
representing the character.
Raise <code>End_of_file</code> if no more compressed data is available.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:input">
  <a href="index.html#/val:input" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> input : <a href="index.html#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p><code>input ic buf pos len</code> uncompresses up to <code>len</code> characters
from the given channel <code>ic</code>,
storing them in string <code>buf</code>, starting at character number <code>pos</code>.
It returns the actual number of characters read, between 0 and
<code>len</code> (inclusive).
A return value of 0 means that the end of file was reached.
A return value between 0 and <code>len</code> exclusive means that
not all requested <code>len</code> characters were read, either because
no more characters were available at that time, or because
the implementation found it convenient to do a partial read;
<code>input</code> must be called again to read the remaining characters,
if desired. (See also <code>Gzip.really_input</code> for reading
exactly <code>len</code> characters.)
Exception <code>Invalid_argument &quot;Gzip.input&quot;</code> is raised if
<code>pos</code> and <code>len</code> do not designate a valid substring of <code>buf</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:really_input">
  <a href="index.html#/val:really_input" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> really_input : <a href="index.html#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>really_input ic buf pos len</code> uncompresses <code>len</code> characters
from the given channel, storing them in
string <code>buf</code>, starting at character number <code>pos</code>.
Raise <code>End_of_file</code> if fewer than <code>len</code> characters can be read.
Raise <code>Invalid_argument &quot;Gzip.input&quot;</code> if
<code>pos</code> and <code>len</code> do not designate a valid substring of <code>buf</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:close_in">
  <a href="index.html#/val:close_in" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> close_in : <a href="index.html#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Close the given input channel. If the channel was created with
<code>Gzip.open_in_chan</code>, the underlying regular file channel
(of type <code>Pervasives.in_channel</code>) is also closed.
Do not apply any of the functions above to a closed channel.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:dispose">
  <a href="index.html#/val:dispose" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> dispose : <a href="index.html#/type:in_channel">in_channel</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Same as <code>Gzip.close_in</code>, but does not close the underlying
regular file channel (of type <code>Pervasives.in_channel</code>);
just dispose of the resources associated with the decompression
channel. This can be useful if e.g. the underlying file channel
is a network socket on which more (uncompressed) data
is expected.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Writing to compressed files</h6>
    </div>
        
      </div>
    
  <div class="region" id="/type:out_channel">
  <a href="index.html#/type:out_channel" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> out_channel
    
      <div class="doc">
        
      <p>Abstract type representing a channel opened for writing
to a compressed file.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:open_out">
  <a href="index.html#/val:open_out" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> open_out : ?level:int <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:out_channel">out_channel</a>
    
      <div class="doc">
        
      <p>Open a compressed file for writing. The argument is the file
name. The file is created if it does not exist, or
truncated to zero length if it exists.
The optional <code>level</code> argument (an integer between 1 and 9)
indicates the compression level, with 1 being the weakest
(but fastest) compression and 9 being the strongest
(but slowest) compression. The default level is 6
(medium compression).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:open_out_chan">
  <a href="index.html#/val:open_out_chan" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> open_out_chan : ?level:int <span class="rarr"><span>-&gt;</span></span> <a href="../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:out_channel">out_channel</a>
    
      <div class="doc">
        
      <p>Open a compressed file for writing. The argument is a
regular file channel already opened on the compressed file.
The optional <code>level</code> argument sets the compression level
as documented for <code>Gzip.open_out</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:output_char">
  <a href="index.html#/val:output_char" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> output_char : <a href="index.html#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> char <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Output one character to the given compressed channel.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:output_byte">
  <a href="index.html#/val:output_byte" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> output_byte : <a href="index.html#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Same as <code>Gzip.output_char</code>, but the output character is given
by its code. The given integer is taken modulo 256.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:output">
  <a href="index.html#/val:output" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> output : <a href="index.html#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>output oc buf pos len</code> compresses and writes <code>len</code> characters
from string <code>buf</code>, starting at offset <code>pos</code>, and writes the
compressed data to the channel <code>oc</code>.
Raise <code>Invalid_argument &quot;Gzip.output&quot;</code> if
<code>pos</code> and <code>len</code> do not designate a valid substring of <code>buf</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:close_out">
  <a href="index.html#/val:close_out" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> close_out : <a href="index.html#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Close the given output channel. If the channel was created with
<code>Gzip.open_out_chan</code>, the underlying regular file channel
(of type <code>Pervasives.out_channel</code>) is also closed.
Do not apply any of the functions above to a closed channel.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:flush">
  <a href="index.html#/val:flush" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> flush : <a href="index.html#/type:out_channel">out_channel</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Same as <code>Gzip.close_out</code>, but do not close the underlying
regular file channel (of type <code>Pervasives.out_channel</code>);
just flush all pending compressed data and
dispose of the resources associated with the compression
channel. This can be useful if e.g. the underlying file channel
is a network socket on which more data is to be sent.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Error reporting</h6>
    </div>
        
      </div>
    
  <div class="region" id="/exn:Error">
  <a href="index.html#/exn:Error" class="anchor">#</a>
  
  <div class="exn">
    <span class="keyword">exception</span> Error <span class="keyword">of</span> string
    
      <div class="doc">
        
      <p>Exception raised by the functions above to signal errors during
compression or decompression, or ill-formed input files.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>