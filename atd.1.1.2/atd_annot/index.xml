<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></html></base>Atd_annot</root><digest>3135db5b44400d6e07b07648de32bf24</digest><import>Atd_ast<digest>69ddbb83d523c17608d0b979a3956dc7</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><source><file>atd_annot.mli</file><dir>/home/dsheets/.opam/doc/build/atd.1.1.2</dir><digest>66a2b48640541e805192362f4df7a49c</digest></source><doc>Utilities for interpreting annotations of type <reference><element><resolved><type><identifier><root><base><xml src="../../atd.1.1.2/atd_ast/index.xml"><cmti name="Atd_ast" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_ast.cmti" digest="69ddbb83d523c17608d0b979a3956dc7"/></xml></base>Atd_ast</root></identifier>annot</type></resolved></element></reference></doc><type><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type><doc>Sample annotation in ATD syntax with legend:
<verbatim>
section a   section b
----------- ------
&lt;a a1=&quot;x1&quot;&gt; &lt;b b1&gt;
 | |  |        |
 | |  |        +- field without a value
 | |  |
 | |  +- field value
 | |
 | +- field name
 |
 +- section name</verbatim><newline/>The following rules must be followed for a proper use of this module:<newline/><list><item>There may not be two sections with the same name. The <code>merge</code> function
can be used to merge sections.</item><item>Section order doesn't matter as long as section names are unique.</item><item>Field names within a section should be unique. If not, only the
first occurrence of each field is meaningful.</item><item>Field values may be arbitrary strings.</item></list></doc><path><resolved><type><identifier><root><base><xml src="../../atd.1.1.2/atd_ast/index.xml"><cmti name="Atd_ast" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_ast.cmti" digest="69ddbb83d523c17608d0b979a3956dc7"/></xml></base>Atd_ast</root></identifier>annot</type></resolved></path></type><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>has_section</value><doc>Return true if such a section (first-level key) exists.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>has_field</value><doc><code>has_field section_names field_name annotations</code>
returns true if at least one section exists with
a name in <code>section_names</code> and one of its fields named
<code>field_name</code>.<newline/>Each section should be unique.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>get_flag</value><doc><code>get_flag section_names field_name</code>
looks sequentially into the sections specified by <code>section_names</code>
for a field named <code>field_name</code>.
If no such field can be found in any section, the result is <code>false</code>.
Otherwise, the search stops with the first field matching
one of the section names and the field name.
If the field has no associated value, the result is <code>true</code>.
If the field value is <code>&quot;true&quot;</code> then <code>true</code> is returned.
Likewise, if the field value is <code>&quot;false&quot;</code> then <code>false</code> is returned.
If the field value is anything else, a <code>Failure</code> exception is raised.<newline/>Each section should be unique.<newline/>Given the following annotations in the ATD syntax noted <code>a</code>:
<verbatim>&lt;ocaml openin=&quot;false&quot;&gt; &lt;ocaml_312 openin&gt;</verbatim><newline/>We obtain the following results:<newline/><verbatim># get_flag [&quot;ocaml_312&quot;; &quot;ocaml&quot;] &quot;openin&quot; a;;
\- : true
# get_flag [&quot;ocaml_311&quot;; &quot;ocaml&quot;] &quot;openin&quot; a;;
\- : false
# get_flag [&quot;ocaml_312&quot;] &quot;openin&quot; a;;
\- : true
# get_flag [&quot;ocaml_311&quot;] &quot;openin&quot; a;;
\- : false
# get_flag [&quot;ocaml&quot;] &quot;openin&quot; a;;
\- : false</verbatim></doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path><path><resolved><identifier><type>bool</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>get_field</value><doc><code>get_field parse default section_names field_name annotations</code>
looks sequentially into the sections specified by <code>section_names</code>
for a field named <code>field_name</code>.
If no such field exists, the <code>default</code> value is returned.
If the field is present, the associated value is parsed using
the given function <code>parse</code> which should return <code>None</code>
in order to indicate an invalid value.
If the field is present without an associated value
or if <code>parse</code> returns <code>None</code>, a <code>Failure</code> exception is raised.<newline/>Each section should be unique.</doc><arrow><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>option</type></identifier></resolved><var>a</var></path></arrow><arrow><var>a</var><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path><var>a</var></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>set_field</value><doc><code>set_field loc section_name field_name value annotations</code>
sets a field, reusing existing section <code>section_name</code>
if it exists, preserving the position of field <code>field_name</code>
and overwriting its value if it exists.</doc><arrow><path><resolved><type><identifier><root><base><xml src="../../atd.1.1.2/atd_ast/index.xml"><cmti name="Atd_ast" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_ast.cmti" digest="69ddbb83d523c17608d0b979a3956dc7"/></xml></base>Atd_ast</root></identifier>loc</type></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>merge</value><doc>Merge sections of the same name together,
and keeps only the first occurrence of each
field.<newline/><verbatim>&lt;a a1=&quot;x1&quot;&gt; &lt;b&gt; &lt;a a2=&quot;x3&quot; a1=&quot;x2&quot;&gt;</verbatim><newline/>becomes<newline/><verbatim>&lt;a a1=&quot;x1&quot; a2=&quot;x3&quot;&gt; &lt;b&gt;</verbatim></doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>t</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Atd_annot" src="/home/dsheets/.opam/doc/build/atd.1.1.2/atd_annot.cmti" digest="3135db5b44400d6e07b07648de32bf24"/></xml></base>Atd_annot</root>create_id</value><doc>Create a unique numeric ID</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arrow></value></unit>