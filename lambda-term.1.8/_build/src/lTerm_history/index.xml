<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></html></base>LTerm_history</root><digest>da745cb178fe6273e59c1107947436d8</digest><import>AvlTree<digest>30486f825b329e3aea25db02f77f481f</digest></import><import>Bigarray<digest>0643187a8b562858118690c393d01c2e</digest></import><import>Buffer<digest>a579f4a57e300ec755f84af883c1e51b</digest></import><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>CamomileLibrary<digest>692aac421f347ffc1b87a0518a33cf85</digest></import><import>CamomileLibraryDyn<digest>f2a237030a8def55003caa2a06b5d1f0</digest></import><import>Complex<digest>d0dcc1da3c694cf9a7e924c7832d1528</digest></import><import>Format<digest>61d4350242b30078d3ad96c904c9f7a1</digest></import><import>Hashtbl<digest>bb8e269d690301a1c4ff14a08e96e83e</digest></import><import>IMap<digest>2c3850f94a9eb2b215cf2d0b8f88d6ba</digest></import><import>ISet<digest>02fd71f4841135104795f95fc45d85c5</digest></import><import>Lwt<digest>3ec18d03611d8f4576b577b743482a48</digest></import><import>Lwt_sequence<digest>ce3592bc901ce0c829f4f282ef54d80a</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><import>Stream<digest>55948988e71c3ee1749feb21ccec9fc9</digest></import><import>Unix<digest>30a4cc8e5f4f902ea609c91caec48af7</digest></import><import>Zed_utf8<digest>447e0b944bc59a928b5200ef99f0fe6d</digest></import><source><file>src/lTerm_history.mli</file><dir>/home/dsheets/.opam/doc/build/lambda-term.1.8/_build</dir><digest>138538f72aca31744861c54ec6887111</digest></source><doc>History management</doc><type><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type><doc>Type of a history.</doc></type><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>create</value><doc><code>create ?max_size ?max_lines init</code> creates a new history.<newline/><code>max_size</code> is the maximum size in bytes of the history. Oldest
entries are dropped if this limit is reached. The default is
<code>max_int</code>.<newline/><code>max_entries</code> is the maximum number of entries of the
history. Oldest entries are dropped if this limit is
reached. The default is no <code>max_int</code>.<newline/><code>init</code> is the initial contents of the history. All entries of
<code>init</code> are considered &quot;old&quot;. Old entries are not saved by
<reference><element><resolved><identifier><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>save</value></identifier></resolved></element></reference> when <code>append</code> is set to <code>true</code>.<newline/>Note: the first element of <code>init</code> must be the most recent
entry.</doc><arrow><optional>max_size</optional><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><optional>max_entries</optional><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../zed.1.4/_build/src/zed_utf8/index.xml"><cmti name="Zed_utf8" src="/home/dsheets/.opam/doc/build/zed.1.4/_build/src/zed_utf8.cmti" digest="447e0b944bc59a928b5200ef99f0fe6d"/></xml></base>Zed_utf8</root></identifier>t</type></resolved></path></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>add</value><doc><code>add history ?skip_empty ?skip_dup entry</code> adds <code>entry</code> to the
top of the history. If <code>skip_empty</code> is <code>true</code> (the default) and
<code>entry</code> contains only spaces, it is not added. If <code>skip_dup</code> is
<code>true</code> (the default) and <code>entry</code> is equal to the top of the
history, it is not added.<newline/>If <code>entry</code> is bigger than the maximum size of the history, the
history is not modified.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><arrow><optional>skip_empty</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>skip_dup</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><type><identifier><root><base><xml src="../../../../zed.1.4/_build/src/zed_utf8/index.xml"><cmti name="Zed_utf8" src="/home/dsheets/.opam/doc/build/zed.1.4/_build/src/zed_utf8.cmti" digest="447e0b944bc59a928b5200ef99f0fe6d"/></xml></base>Zed_utf8</root></identifier>t</type></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>contents</value><doc>Returns all the entries of the history. The first element of the
list is the most recent entry.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../zed.1.4/_build/src/zed_utf8/index.xml"><cmti name="Zed_utf8" src="/home/dsheets/.opam/doc/build/zed.1.4/_build/src/zed_utf8.cmti" digest="447e0b944bc59a928b5200ef99f0fe6d"/></xml></base>Zed_utf8</root></identifier>t</type></resolved></path></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>size</value><doc>Returns the size (in bytes) of the history.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>length</value><doc>Returns the number of entries in the history.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>old_count</value><doc>Returns the number of old entries in the history.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>set_old_count</value><doc><code>set_old_count history count</code> sets the number of old entries in
the history.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>max_size</value><doc>Returns the maximum size of the history.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>set_max_size</value><doc>Sets the maximum size of the history. It may drop oldest entries
to honor the new limit.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>max_entries</value><doc>Returns the maximum number of entries of the history.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>set_max_entries</value><doc>Sets the maximum number of entries of the history. It may drop
oldest entries to honor the new limit.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>load</value><doc><code>load history ?log ?skip_empty ?skip_dup filename</code> loads entries
from <code>filename</code> to <code>history</code>. If <code>filename</code> does not exists
<code>history</code> is not modified.<newline/><code>log</code> is the function used to log errors contained in the
history file (errors are because of non-UTF8 data). Arguments
are a line number and an error message. The default is to use
the default logger (of <code>Lwt_log</code>). Entries containing errors are
skipped.<newline/>Note: all entries are marked as old, i.e. <code>old_count history =
      length history</code>.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><arrow><optional>log</optional><arrow><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow><arrow><optional>skip_empty</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>skip_dup</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../lwt.2.4.6/_build/src/core/lwt/index.xml"><cmti name="Lwt" src="/home/dsheets/.opam/doc/build/lwt.2.4.6/_build/src/core/lwt.cmti" digest="3ec18d03611d8f4576b577b743482a48"/></xml></base>Lwt</root></identifier>t</type></resolved><path><resolved><identifier><type>unit</type></identifier></resolved></path></path></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>save</value><doc><code>save history ?max_size ?max_entries ?skip_empty ?sjip_dup ?perm
      filename</code> saves <code>history</code> to <code>filename</code>.<newline/>If <code>append</code> is <code>false</code> then the file is truncated and new
entries are saved. If it is <code>true</code> (the default) then new
entries are added at the end. <code>perm</code> are the file permissions in
case it is created.<newline/>If <code>append</code> is <code>true</code> and there is no new entries, the file is
not touched. In any other case, limits are honored and the
resulting file will never contains more bytes than <code>max_size</code> or
more entries than <code>max_entries</code>. If <code>max_size</code> and/or
<code>max_entries</code> are not specified, the ones of <code>history</code> are used.<newline/>After the history is successfully saved, all entries of
<code>history</code> are marked as old, i.e. <code>old_count history = length
      history</code>.</doc><arrow><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>t</type></identifier></resolved></path><arrow><optional>max_size</optional><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><optional>max_entries</optional><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><optional>skip_empty</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>skip_dup</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>append</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><optional>perm</optional><path><resolved><identifier><type>int</type></identifier></resolved></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><type><identifier><root><base><xml src="../../../../lwt.2.4.6/_build/src/core/lwt/index.xml"><cmti name="Lwt" src="/home/dsheets/.opam/doc/build/lwt.2.4.6/_build/src/core/lwt.cmti" digest="3ec18d03611d8f4576b577b743482a48"/></xml></base>Lwt</root></identifier>t</type></resolved><path><resolved><identifier><type>unit</type></identifier></resolved></path></path></arrow></arrow></arrow></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="LTerm_history" src="/home/dsheets/.opam/doc/build/lambda-term.1.8/_build/src/lTerm_history.cmti" digest="da745cb178fe6273e59c1107947436d8"/></xml></base>LTerm_history</root>entry_size</value><doc><code>entry_size entry</code> returns the size taken by an entry in the
history file in bytes. This is not exactly <code>String.length entry</code>
since some characters are escaped and the entry is terminated by
a newline character.</doc><arrow><path><resolved><type><identifier><root><base><xml src="../../../../zed.1.4/_build/src/zed_utf8/index.xml"><cmti name="Zed_utf8" src="/home/dsheets/.opam/doc/build/zed.1.4/_build/src/zed_utf8.cmti" digest="447e0b944bc59a928b5200ef99f0fe6d"/></xml></base>Zed_utf8</root></identifier>t</type></resolved></path><path><resolved><identifier><type>int</type></identifier></resolved></path></arrow></value></unit>