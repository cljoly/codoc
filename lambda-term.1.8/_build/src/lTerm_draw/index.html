<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>LTerm_draw</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">LTerm_draw</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Drawing</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:point">
  <a href="index.html#/type:point" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> point = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:point/field:char">
  <a href="index.html#/type:point/field:char" class="anchor">#</a>
  <span class="keyword">mutable</span> char
  </div>
  </td><td>: <a href="../../../../camomile.0.8.5/camomileLibrary/">CamomileLibrary</a>.<a href="../../../../camomile.0.8.5/camomileLibrary/#/module:UChar">UChar</a>.<a href="../../../../camomile.0.8.5/camomileLibrary/#/module:UChar/type:t">t</a></td><td>;</td><td>(*</td><td class="doc">The unicode character.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:point/field:bold">
  <a href="index.html#/type:point/field:bold" class="anchor">#</a>
  <span class="keyword">mutable</span> bold
  </div>
  </td><td>: bool</td><td>;</td><td>(*</td><td class="doc">Whether the character is in bold or not.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:point/field:underline">
  <a href="index.html#/type:point/field:underline" class="anchor">#</a>
  <span class="keyword">mutable</span> underline
  </div>
  </td><td>: bool</td><td>;</td><td>(*</td><td class="doc">Whether the character is underlined or not.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:point/field:blink">
  <a href="index.html#/type:point/field:blink" class="anchor">#</a>
  <span class="keyword">mutable</span> blink
  </div>
  </td><td>: bool</td><td>;</td><td>(*</td><td class="doc">Whether the character is blinking or not.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:point/field:reverse">
  <a href="index.html#/type:point/field:reverse" class="anchor">#</a>
  <span class="keyword">mutable</span> reverse
  </div>
  </td><td>: bool</td><td>;</td><td>(*</td><td class="doc">Whether the character is in reverse video mode or not.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:point/field:foreground">
  <a href="index.html#/type:point/field:foreground" class="anchor">#</a>
  <span class="keyword">mutable</span> foreground
  </div>
  </td><td>: <a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:color">color</a></td><td>;</td><td>(*</td><td class="doc">The foreground color.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:point/field:background">
  <a href="index.html#/type:point/field:background" class="anchor">#</a>
  <span class="keyword">mutable</span> background
  </div>
  </td><td>: <a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:color">color</a></td><td>;</td><td>(*</td><td class="doc">The background color.</td><td>*)</td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>Type of a point in a matrix of styled characters.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:matrix">
  <a href="index.html#/type:matrix" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> matrix = <a href="index.html#/type:point">point</a> array array
    
      <div class="doc">
        
      <p>Type of a matrix of points. The matrix is indexed by lines
then columns, i.e. to access the point at line <code>l</code> and column
<code>c</code> in matrix <code>m</code> you should use <code>m.(l).(c)</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:make_matrix">
  <a href="index.html#/val:make_matrix" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> make_matrix : <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:size">size</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:matrix">matrix</a>
    
      <div class="doc">
        
      <p><code>matrix size</code> creates a matrix of the given size containing only
blank characters.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:set_style">
  <a href="index.html#/val:set_style" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> set_style : <a href="index.html#/type:point">point</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>set_style point style</code> sets fields of <code>point</code> according to
fields of <code>style</code>. For example:</p>
      <pre><code>        set_style point { LTerm_style.none with LTerm_style.bold = Some true }</code></pre>
      <p>will have the following effect:</p>
      <pre><code>        point.bold &lt;- true</code></pre>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:context">
  <a href="index.html#/type:context" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> context
    
      <div class="doc">
        
      <p>Type of contexts. A context is used for drawing.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:context">
  <a href="index.html#/val:context" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> context : <a href="index.html#/type:matrix">matrix</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:size">size</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:context">context</a>
    
      <div class="doc">
        
      <p><code>context m s</code> creates a context from a matrix <code>m</code> of size
<code>s</code>. It raises <code>Invalid_argument</code> if <code>s</code> is not the size of
<code>m</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/exn:Out_of_bounds">
  <a href="index.html#/exn:Out_of_bounds" class="anchor">#</a>
  
  <div class="exn">
    <span class="keyword">exception</span> Out_of_bounds
    
      <div class="doc">
        
      <p>Exception raised when trying to access a point that is outside
the bounds of a context.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:size">
  <a href="index.html#/val:size" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> size : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:size">size</a>
    
      <div class="doc">
        
      <p><code>size ctx</code> returns the size of the given context.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:sub">
  <a href="index.html#/val:sub" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> sub : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:rect">rect</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:context">context</a>
    
      <div class="doc">
        
      <p><code>sub ctx rect</code> creates a sub-context from the given context. It
raises <a href="index.html#/exn:Out_of_bounds">Out_of_bounds</a> if the rectangle is not contained in the
given context.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:clear">
  <a href="index.html#/val:clear" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> clear : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>clear ctx</code> clears the given context. It resets all styles to
their default and sets characters to spaces.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:fill">
  <a href="index.html#/val:fill" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> fill : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../camomile.0.8.5/camomileLibrary/">CamomileLibrary</a>.<a href="../../../../camomile.0.8.5/camomileLibrary/#/module:UChar">UChar</a>.<a href="../../../../camomile.0.8.5/camomileLibrary/#/module:UChar/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>fill ctx ch</code> fills the given context with <code>ch</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:fill_style">
  <a href="index.html#/val:fill_style" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> fill_style : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>fill_style style</code> fills the given context with <code>style</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:point">
  <a href="index.html#/val:point" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> point : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:point">point</a>
    
      <div class="doc">
        
      <p><code>point ctx row column</code> returns the point at given position in
<code>ctx</code>. It raises <a href="index.html#/exn:Out_of_bounds">Out_of_bounds</a> if the coordinates are outside
the given context.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_char">
  <a href="index.html#/val:draw_char" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_char : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../camomile.0.8.5/camomileLibrary/">CamomileLibrary</a>.<a href="../../../../camomile.0.8.5/camomileLibrary/#/module:UChar">UChar</a>.<a href="../../../../camomile.0.8.5/camomileLibrary/#/module:UChar/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>draw_char ctx row column ?style ch</code> sets the character at given
coordinates to <code>ch</code>. It does nothing if the given coordinates
are outside the bounds of the context.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_string">
  <a href="index.html#/val:draw_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_string : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>draw_string ctx row column ?style str</code> draws the given string
at given coordinates. This does not affect styles. <code>str</code> may
contains newlines.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_styled">
  <a href="index.html#/val:draw_styled" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_styled : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_text/">LTerm_text</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_text/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>draw_styled ctx row column ?style text</code> draws the given styled
text at given coordinates.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_string_aligned">
  <a href="index.html#/val:draw_string_aligned" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_string_aligned : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:horz_alignment">horz_alignment</a> <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Draws a string with the given alignment.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_styled_aligned">
  <a href="index.html#/val:draw_styled_aligned" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_styled_aligned : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:horz_alignment">horz_alignment</a> <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_text/">LTerm_text</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_text/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Draws a styled string with the given aglienment.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:connection">
  <a href="index.html#/type:connection" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> connection = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:connection/cons:Blank">
  <a href="index.html#/type:connection/cons:Blank" class="anchor">#</a>
  | Blank
  </div>
  </td><td>(*</td><td class="doc">No connection.</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:connection/cons:Light">
  <a href="index.html#/type:connection/cons:Light" class="anchor">#</a>
  | Light
  </div>
  </td><td>(*</td><td class="doc">Connection with a light line.</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:connection/cons:Heavy">
  <a href="index.html#/type:connection/cons:Heavy" class="anchor">#</a>
  | Heavy
  </div>
  </td><td>(*</td><td class="doc">Connection with a heavy line.</td><td>*)</td></tr>
    </table>
    
      <div class="doc">
        
      <p>Type of an connection in a piece that can be connected to other
pieces.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:piece">
  <a href="index.html#/type:piece" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> piece = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:piece/field:top">
  <a href="index.html#/type:piece/field:top" class="anchor">#</a>
  top
  </div>
  </td><td>: <a href="index.html#/type:connection">connection</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:piece/field:bottom">
  <a href="index.html#/type:piece/field:bottom" class="anchor">#</a>
  bottom
  </div>
  </td><td>: <a href="index.html#/type:connection">connection</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:piece/field:left">
  <a href="index.html#/type:piece/field:left" class="anchor">#</a>
  left
  </div>
  </td><td>: <a href="index.html#/type:connection">connection</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:piece/field:right">
  <a href="index.html#/type:piece/field:right" class="anchor">#</a>
  right
  </div>
  </td><td>: <a href="index.html#/type:connection">connection</a></td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>Type of a piece, given by its four connection.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_piece">
  <a href="index.html#/val:draw_piece" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_piece : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:piece">piece</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Draws a piece. It may modify pieces around it.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_hline">
  <a href="index.html#/val:draw_hline" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_hline : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:connection">connection</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>draw_hline ctx row column length connection</code> draws an
horizontal line.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_vline">
  <a href="index.html#/val:draw_vline" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_vline : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:connection">connection</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>draw_hline ctx row column length connection</code> draws a vertical
line.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:draw_frame">
  <a href="index.html#/val:draw_frame" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> draw_frame : <a href="index.html#/type:context">context</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/">LTerm_geom</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_geom/#/type:rect">rect</a> <span class="rarr"><span>-&gt;</span></span> ?style:<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/">LTerm_style</a>.<a href="../../../../lambda-term.1.8/_build/src/lTerm_style/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:connection">connection</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Draws a rectangle.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>