<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></html></base>Topfind</root><digest>5390b8e9477af018d51fd17305764edf</digest><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><source><file>topfind.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib</dir><digest>80962faaede8c07067bd04d6b00ffc6b</digest></source><doc>Load packages from toploops and scripts<newline/>The <code>Topfind</code> module is part of the <code>findlib</code> package. The module
depends on the presence of a toploop. When building a toploop, it is
automatically linked in if &quot;findlib&quot; is linked in, e.g.
<precode>   ocamlfind ocamlmktop ...options... -package findlib -linkpkg </precode><newline/>When the platform supports DLLs, another possibility to get a toploop
with findlib directives is to load the file &quot;topfind&quot; (normally installed
in the standard library directory):
<precode>   $ ocaml
           Objective Caml version 3.04
   # #use &quot;topfind&quot;;;
   Findlib has been successfully loaded. Additional directives:
     #require &quot;package&quot;;;      to load a package
     #list;;                   to list the available packages
     #camlp4o;;                to load camlp4 (standard syntax)
     #camlp4r;;                to load camlp4 (revised syntax)
     Topfind.reset();;         to force that packages will be reloaded
   ~ : unit = ()
   # _</precode><newline/>This works even in scripts (but the startup message is suppressed in this
case).<newline/>The module is not thread-safe; if used in a multi-threaded script, all
packgage loading must have happened before the first thread forks.<newline/>The Topfind module contains some functions simplifying package loading
in scripts. Most important, there is a new directive <code>#require</code> for
the same purpose (see below).<newline/>The <code>Topfind</code> module needs some initialization, in particular the
<code>predicates</code> variable needs to be
set, and the packages already compiled into the toploop needs to be
declared by the <code>don't_load</code>
function. If the toploop has been built by <code>ocamlfind</code>,
the necessary initialization is
automatically compiled in.</doc><comment><title level="1">Directives</title><newline/>This module also defines the following directives for the toploop:<newline/><list><item><code>#require &quot;&lt;package&gt;&quot;</code>
loads the package (and if necessary the prerequisites of the package)</item><item><code>#camlp4o</code>
loads camlp4 and selects standard syntax</item><item><code>#camlp4r</code>
loads camlp4 and selects revised syntax</item><item><code>#list</code>
lists the available packages (calls external command &quot;ocamlfind&quot;)</item><item><code>#thread</code>
enables multi-threading if possible</item><item><code>#predicates &quot;p1,p2,...&quot;</code>
adds these predicates</item></list></comment><comment><title level="1">Functions and variables</title></comment><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>predicates</value><doc>The list of predicates used for package loading</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></path></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>add_predicates</value><doc>Adds predicates to the list of predicates</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>syntax</value><doc>Emulates the <code>-syntax</code> option</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>standard_syntax</value><doc>Adds predicates that select the standard syntax. Same as
<code>syntax &quot;camlp4o&quot;</code></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>revised_syntax</value><doc>Adds predicates that select the revised syntax. Same as
<code>syntax &quot;camlp4r&quot;</code></doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>don't_load</value><doc>The packages named in pkglist are added to the list of packages which
are already loaded.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>don't_load_deeply</value><doc>The packages named in pkglist and all direct and indirect ancestors
are added to the list of packages which are already loaded.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>load</value><doc>The packages from the passed package list are loaded, from left to
right, but packages that have already been loaded are left out.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>load_deeply</value><doc>The packages from the passed package list and all direct or indirect
ancestors are loaded in topological order. Packages that have already
been loaded are left out.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>reset</value><doc>All entries in the list of loaded packages that have been added by
<code>load</code> or <code>load_deeply</code> functions are removed from this list. This
means that if you execute the same <code>load</code> or <code>load_deeply</code> functions
again, the packages will be reloaded.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>announce</value><doc>Output the startup message</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Topfind" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/topfind.cmti" digest="5390b8e9477af018d51fd17305764edf"/></xml></base>Topfind</root>log</value><doc>Function used to log messages from this module.</doc><path><resolved><type><identifier><root><base><html src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.html"><xml src="../../../../ocaml.4.02.1+doc/stdlib/pervasives/index.xml"><cmti name="Pervasives" src="/home/dsheets/.opam/doc/build/ocaml/stdlib/pervasives.cmti" digest="0d015a5a2136659b0de431be7f1545be"/></xml></html></base>Pervasives</root></identifier>ref</type></resolved><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></path></value></unit>