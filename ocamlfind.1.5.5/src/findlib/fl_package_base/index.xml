<?xml version="1.0" encoding="UTF-8"?>
<unit><root><base><html src="index.html"><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></html></base>Fl_package_base</root><digest>e6f0d2deec098fc30efd09838d3e76d7</digest><import>CamlinternalFormatBasics<digest>ba1be62eb45abd435c75cb59cc46b922</digest></import><import>Fl_metascanner<digest>b6a458c90a6a561a1e0cfc8b39f1dc75</digest></import><import>Fl_metatoken<digest>44cb2ece027a2898a61e8d97fe68752c</digest></import><import>Lexing<digest>1be6a5484fb3cfb69d2c981438a7be62</digest></import><import>Pervasives<digest>0d015a5a2136659b0de431be7f1545be</digest></import><source><file>fl_package_base.mli</file><dir>/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib</dir><digest>2d9c0623c4ed3d0fbde04272cb4b7889</digest></source><doc>Direct access to the package graph and package files</doc><type><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type><doc>The definition of a package</doc><record><field><field><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type>package_name</field><doc>The fully qualified package name, i.e. for subpackages the
names of the containing packages are prepended and the name
components are separated by '.'</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type>package_dir</field><doc>The directory where to lookup package files</doc><path><resolved><identifier><type>string</type></identifier></resolved></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type>package_defs</field><doc>The definitions in the META file</doc><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><type><identifier><root><base><xml src="../../../../ocamlfind.1.5.5/src/findlib/fl_metascanner/index.xml"><cmti name="Fl_metascanner" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_metascanner.cmti" digest="b6a458c90a6a561a1e0cfc8b39f1dc75"/></xml></base>Fl_metascanner</root></identifier>pkg_definition</type></resolved></path></path></field><field><field><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type>package_priv</field><doc>Private part of the definition</doc><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package_priv</type></identifier></resolved></path></field></record></type><type><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package_priv</type></type><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>init</value><doc>This function must be called before <code>Fl_package_base</code> can be used.
The first string corresponds to the <code>OCAMLPATH</code> setting, the second
string is the location of the standard library.<newline/>This function is called by <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlfind.1.5.5/src/findlib/findlib/index.xml"><cmti name="Findlib" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/findlib.cmti" digest="4877b0ec9b4855bc9afb8e3944508c69"/></xml></base>Findlib</root></identifier>init</value></resolved></element></reference> and <reference><element><resolved><value><identifier><root><base><xml src="../../../../ocamlfind.1.5.5/src/findlib/findlib/index.xml"><cmti name="Findlib" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/findlib.cmti" digest="4877b0ec9b4855bc9afb8e3944508c69"/></xml></base>Findlib</root></identifier>init_manually</value></resolved></element></reference>,
so it is already sufficient to initialize the <code>Findlib</code> module.</doc><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>option</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></arrow></value><comment><title level="1">The package graph</title></comment><comment>The functions in this section operate on a representation of the
package graph in memory. The graph is usually only partially available,
as only packages are loaded that are queried for.</comment><exception><exception><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>No_such_package</exception><doc>First arg is the package name not found, second arg contains additional
info for the user. - This is the same exception as in <code>Findlib</code>.</doc><arguments><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>string</type></identifier></resolved></path></arguments></exception><exception><exception><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>Package_loop</exception><doc>A package is required by itself. The arg is the name of the
package. - This is the same exception as in <code>Findlib</code>.</doc><arguments><path><resolved><identifier><type>string</type></identifier></resolved></path></arguments></exception><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>query</value><doc>Returns the <code>package</code> definition for the fully-qualified package name,
or raises <code>No_such_package</code>. It is allowed to query for subpackages.<newline/>This function loads package definitions into the graph kept in memory.</doc><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>requires</value><doc>Analyzes the direct requirements of the package whose name is passed as
second argument under the assumption that the predicates <code>preds</code>
hold. The function returns the names of the required packages.
It is checked whether these packages exist.<newline/>If there is the &quot;mt&quot; predicate, missing dependencies on &quot;threads&quot;
are silently added.<newline/>The function may raise <code>No_such_package</code> or <code>Package_loop</code>.<newline/>This function loads package definitions into the graph kept in memory.</doc><arrow><label>preds</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>requires_deeply</value><doc>Analyzes the direct or indirect requirements of the packages whose names
are passed as second argument under the assumption that the predicates
<code>preds</code> hold. The function returns the names of the required packages.
It is checked whether these packages exist.<newline/>If there is the &quot;mt&quot; predicate, missing dependencies on &quot;threads&quot;
are silently added.<newline/>The function may raise <code>No_such_package</code> or <code>Package_loop</code>.<newline/>This function loads package definitions into the graph kept in memory.</doc><arrow><label>preds</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package_conflict_report</value><doc>Checks whether there are several META files for the same main
packages. Complaints are printed to stderr.<newline/>Only packages in the loaded part of the package graph are checked (i.e.
packages for which there was a query).<newline/>It is recommended to pass the ~identify_dir function whose task
it is to return a unique value for every existing directory.
For example,
<precode>fun d -&gt; 
            let s = Unix.stat d in
            (s.Unix.st_dev, s.Unix.st_ino)</precode>
could be an implementation for this function. The default is
the identity (and not this nice implementation to avoid dependencies
on the Unix module).</doc><arrow><optional>identify_dir</optional><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><var>a</var></arrow><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>module_conflict_report</value><doc>Checks whether there are cmi files for the same modules. The
directories passed as first argument are checked. (Note:
Neither the '+' nor the '@' notation are recognized.)
Complaints about double cmi files are printed to stderr.<param><name>identify_dir</name>See <code>package_conflict_report</code>.</param></doc><arrow><optional>identify_dir</optional><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><var>a</var></arrow><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>load_base</value><doc>Ensures that the complete package graph is loaded into memory.
This is a time-consuming operation. Warnings may be printed to
stderr.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>unit</type></identifier></resolved></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>list_packages</value><doc>Ensures that the complete package graph is loaded into memory
(like <code>load_base</code>), and returns the (unsorted) list of all
packages.</doc><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package_users</value><doc>Ensures that the complete package graph is loaded into memory
(like <code>load_base</code>), and determines the packages using one of
the packages passed as second argument. The <code>preds</code> are assumed
for the evaluation of the <code>requires</code> directives.
The returned list is sorted in ascending order.<newline/>If there is the &quot;mt&quot; predicate, missing dependencies on &quot;threads&quot;
are silently added.<newline/>Raises <code>No_such_package</code> if one of the passed packages cannot
be found.</doc><arrow><label>preds</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></arrow></value><comment><title level="1">Parsing META files</title></comment><comment>The functions in this section access directly files and directories.
The package graph is unknown.</comment><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>packages_in_meta_file</value><doc>Parses the META file whose name is <code>meta_file</code>. In <code>name</code>, the
name of the main package must be passed. <code>dir</code> is the
directory associated with the package by default (i.e. before
it is overriden by the &quot;directory&quot; directive).<newline/>Returns the package records found in this file. The &quot;directory&quot;
directive is already applied.<param><name>directory_required</name>If true, it is checked whether there is a
&quot;directory&quot; directive in the main package. If this directive is missing,
the function will fail.</param></doc><arrow><optional>directory_required</optional><path><resolved><identifier><type>bool</type></identifier></resolved></path><arrow><label>name</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><label>dir</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><label>meta_file</label><path><resolved><identifier><type>string</type></identifier></resolved></path><arrow><path><resolved><identifier><type>unit</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package</type></identifier></resolved></path></path></arrow></arrow></arrow></arrow></arrow></value><value><value><root><base><xml src="index.xml"><cmti name="Fl_package_base" src="/home/dsheets/.opam/doc/build/ocamlfind.1.5.5/src/findlib/fl_package_base.cmti" digest="e6f0d2deec098fc30efd09838d3e76d7"/></xml></base>Fl_package_base</root>package_definitions</value><doc>Return all META files defining this package that occur in the
directories mentioned in <code>search_path</code>. The package name must be
fully-qualified. For simplicity, however, only the name of the main
package is taken into account (so it is a good idea to call this
function only for main packages).</doc><arrow><label>search_path</label><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path><arrow><path><resolved><identifier><type>string</type></identifier></resolved></path><path><resolved><identifier><type>list</type></identifier></resolved><path><resolved><identifier><type>string</type></identifier></resolved></path></path></arrow></arrow></value></unit>