<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Pretty_printer</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Pretty_printer</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>A list of pretty printers for various types, for use in toplevels.</p>
      
      <p><code>Pretty_printer</code> has a <code>string list ref</code> with the names of <code>pp</code> functions matching the
interface:</p>
      <pre><code>      val pp : Format.formatter -&gt; t -&gt; unit</code></pre>
      <p>The names are actually OCaml identifier names, e.g. &quot;Core.Date.pp&quot;. Code for building
toplevels (this code is not in Core) evaluates the strings to yield the pretty
printers and register them with OCaml runtime.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/val:all">
  <a href="index.html#/val:all" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> all : unit <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>all ()</code> returns all pretty printers that have been <code>register</code>ed.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:register">
  <a href="index.html#/val:register" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> register : string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>register name</code> adds <code>name</code> to the list of pretty printers.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:S">
  <a href="index.html#/modtype:S" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> S = <span class="keyword">sig</span>
    </div>
    
      <div class="doc">
        
      <p>Modules that provide a pretty printer will match <code>S</code>.</p>
      
        
      </div>
    
    
    <div class="sig">
  <div class="region" id="/modtype:S/type:t">
  <a href="index.html#/modtype:S/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:S/val:pp">
  <a href="index.html#/modtype:S/val:pp" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> pp : <a href="../../../../ocaml.4.02.1+doc/stdlib/format/">Format</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/format/#/type:formatter">formatter</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/modtype:S/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Register">
  <a href="index.html#/module:Register" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Register : <span class="keyword">functor</span> (M : <span class="keyword">sig</span>
    <div class="sig">
  <div class="region" id="/module:Register/modarg:1:M/type:t">
  <a href="index.html#/module:Register/modarg:1:M/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Register/modarg:1:M/val:module_name">
  <a href="index.html#/module:Register/modarg:1:M/val:module_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> module_name : string
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Register/modarg:1:M/val:to_string">
  <a href="index.html#/module:Register/modarg:1:M/val:to_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_string : <a href="index.html#/module:Register/modarg:1:M/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    ) <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/modtype:S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#/modtype:S/type:t">t</a> := <a href="index.html#/module:Register/modarg:1:M">M</a>.<a href="index.html#/module:Register/modarg:1:M/type:t">t</a></div>
      
      <div class="doc">
        
      <p><code>Register</code> builds a <code>pp</code> function from a <code>to_string</code> function, and adds the
<code>module_name ^ &quot;.pp&quot;</code> to the list of pretty printers. The idea is to statically
guarantee that one has the desired <code>pp</code> function at the same point where the <code>name</code> is
added.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  
  <div class="region" id="/module:Register_pp">
  <a href="index.html#/module:Register_pp" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Register_pp : <span class="keyword">functor</span> (M : <span class="keyword">sig</span>
    <div class="sig">
    <div class="include">
    <span class="keyword">include</span> <a href="index.html#/modtype:S">S</a> 
    </div>
  
  <div class="region" id="/module:Register_pp/modarg:1:M/val:module_name">
  <a href="index.html#/module:Register_pp/modarg:1:M/val:module_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> module_name : string
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    ) <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/modtype:S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#/modtype:S/type:t">t</a> := <a href="index.html#/module:Register_pp/modarg:1:M">M</a>.<a href="index.html#/module:Register_pp/modarg:1:M/type:t">t</a></div>
      
      <div class="doc">
        
      <p><code>Register_pp</code> is like <code>Register</code>, but allows a custom <code>pp</code> function rather than using
<code>to_string</code>.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>