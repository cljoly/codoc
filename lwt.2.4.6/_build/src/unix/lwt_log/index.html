<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>Lwt_log</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Lwt_log</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Logging facility</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        
      <p>This module provides functions to deal with logging.
It extends [root:Lwt_log_core] with Unix features.
It adds:</p>
      <ul><li>logging to the syslog daemon</li><li>logging to a channel (stderr, stdout, ...)</li><li>logging to a file</li></ul>
        
      </div>
    
    <div class="include">
    <span class="keyword">include</span> <span class="keyword">module type of</span> <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:level">level</a> = <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a>.<a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:level">level</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:logger">logger</a> = <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a>.<a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:logger">logger</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:section">section</a> = <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a>.<a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:section">section</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:template">template</a> = <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a>.<a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/type:template">template</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/module:Section">Section</a> = <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a>.<a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/module:Section">Section</a>  
    </div>
  
  <div class="region" id="/val:render">
  <a href="index.html#/val:render" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> render : buffer:<a href="../../../../../ocaml.4.02.1+doc/stdlib/buffer/">Buffer</a>.<a href="../../../../../ocaml.4.02.1+doc/stdlib/buffer/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> template:<a href="index.html#/type:template">template</a> <span class="rarr"><span>-&gt;</span></span> section:<a href="index.html#/type:section">section</a> <span class="rarr"><span>-&gt;</span></span> level:<a href="index.html#/type:level">level</a> <span class="rarr"><span>-&gt;</span></span> message:string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Same as <a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/">Lwt_log_core</a>.<a href="../../../../../lwt.2.4.6/_build/src/logger/lwt_log_core/#/val:render">render</a>, except that the template may also contain the
following variables:</p>
      <ul><li><code>date</code> which will be replaced with the current date</li><li><code>milliseconds</code> which will be replaced by the fractionnal part of the current unix
time</li></ul>
      <p>For example:</p>
      <ul><li><code>&quot;$(date) $(name)[$(pid)]: $(message)&quot;</code></li><li><code>&quot;$(date).$(milliseconds) $(name)[$(pid)]: $(message)&quot;</code></li><li><code>&quot;$(date): $(loc-file): $(loc-line): $(loc-column): $(message)&quot;</code></li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:syslog_facility">
  <a href="index.html#/type:syslog_facility" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> syslog_facility = [ <div class="cons">| `Auth</div><div class="cons">| `Authpriv</div><div class="cons">| `Cron</div><div class="cons">| `Daemon</div><div class="cons">| `FTP</div><div class="cons">| `Kernel</div><div class="cons">| `Local0</div><div class="cons">| `Local1</div><div class="cons">| `Local2</div><div class="cons">| `Local3</div><div class="cons">| `Local4</div><div class="cons">| `Local5</div><div class="cons">| `Local6</div><div class="cons">| `Local7</div><div class="cons">| `LPR</div><div class="cons">| `Mail</div><div class="cons">| `News</div><div class="cons">| `Syslog</div><div class="cons">| `User</div><div class="cons">| `UUCP</div><div class="cons">| `NTP</div><div class="cons">| `Security</div><div class="cons">| `Console</div> ]
    
      <div class="doc">
        
      <p>Syslog facility. Look at the SYSLOG(3) man page for a description
of syslog facilities</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:syslog">
  <a href="index.html#/val:syslog" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> syslog : ?template:<a href="index.html#/type:template">template</a> <span class="rarr"><span>-&gt;</span></span> ?paths:string list <span class="rarr"><span>-&gt;</span></span> facility:<a href="index.html#/type:syslog_facility">syslog_facility</a> <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:logger">logger</a>
    
      <div class="doc">
        
      <p><code>syslog ?template ?paths ~facility ()</code> creates an logger
which send message to the system logger.</p>
      
        
  <div class="tag param">
    <span class="label">paths</span> is a list of path to try for the syslogd socket. It
default to <code>[&quot;/dev/log&quot;; &quot;/var/run/log&quot;]</code>.
  </div>
  
  <div class="tag param">
    <span class="label">template</span> defaults to <code>&quot;$(date) $(name)[$(pid)]: $(section): $(message)&quot;</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:file">
  <a href="index.html#/val:file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file : ?template:<a href="index.html#/type:template">template</a> <span class="rarr"><span>-&gt;</span></span> ?mode:[ <div class="cons">| `Truncate</div><div class="cons">| `Append</div> ] <span class="rarr"><span>-&gt;</span></span> ?perm:<a href="../../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/">Unix</a>.<a href="../../../../../ocaml.4.02.1+doc/otherlibs/unix/unix/#/type:file_perm">file_perm</a> <span class="rarr"><span>-&gt;</span></span> file_name:string <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:logger">logger</a> <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>desf_file ?template ?mode ?perm ~file_name ()</code> creates an
logger which will write messages to <code>file_name</code>.</p>
      <ul><li>if <code>mode = `Truncate</code> then the file is truncated and previous
contents will be lost.</li></ul><ul><li>if <code>mode = `Append</code>, new messages will be appended at the end
of the file</li></ul>
        
  <div class="tag param">
    <span class="label">mode</span> defaults to <code>`Append</code>
  </div>
  
  <div class="tag param">
    <span class="label">template</span> defaults to <code>&quot;$(date): $(section): $(message)&quot;</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:channel">
  <a href="index.html#/val:channel" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> channel : ?template:<a href="index.html#/type:template">template</a> <span class="rarr"><span>-&gt;</span></span> close_mode:[ <div class="cons">| `Close</div><div class="cons">| `Keep</div> ] <span class="rarr"><span>-&gt;</span></span> channel:<a href="../../../../../lwt.2.4.6/_build/src/unix/lwt_io/">Lwt_io</a>.<a href="../../../../../lwt.2.4.6/_build/src/unix/lwt_io/#/type:output_channel">output_channel</a> <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:logger">logger</a>
    
      <div class="doc">
        
      <p><code>channel ?template ~close_mode ~channel ()</code> creates a logger
from a channel.</p>
      
      <p>If <code>close_mode = `Close</code> then <code>channel</code> is closed when the
logger is closed, otherwise it is left open.</p>
      
        
  <div class="tag param">
    <span class="label">template</span> defaults to <code>&quot;$(name): $(section): $(message)&quot;</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>