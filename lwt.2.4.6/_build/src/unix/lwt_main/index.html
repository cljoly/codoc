<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>Lwt_main</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Lwt_main</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Main loop and event queue</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        
      <p>This module controls the ``main-loop'' of Lwt.</p>
      
        
      </div>
    
  <div class="region" id="/val:run">
  <a href="index.html#/val:run" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> run : 'a <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p><code>run t</code> calls the Lwt scheduler repeatedly until <code>t</code> terminates,
then returns the value returned by the thread. It <code>t</code> fails with
an exception, this exception is raised.</p>
      
      <p>Note that you should avoid using <code>run</code> inside threads</p>
      <ul><li>The calling threads will not resume before <code>run</code>
returns.</li><li>Successive invocations of <code>run</code> are serialized: an
invocation of <code>run</code> will not terminate before all
subsequent invocations are terminated.</li></ul>
      <p>Note also that it is not safe to call <code>run</code> in a function
registered with <code>Pervasives.at_exit</code>, use the <a href="index.html#/val:at_exit">at_exit</a>
function of this module instead.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:yield">
  <a href="index.html#/val:yield" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> yield : unit <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>yield ()</code> is a threads which suspends itself and then resumes
as soon as possible and terminates.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:enter_iter_hooks">
  <a href="index.html#/val:enter_iter_hooks" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> enter_iter_hooks : (unit <span class="rarr"><span>-&gt;</span></span> unit) <a href="../../../../../lwt.2.4.6/_build/src/core/lwt_sequence/">Lwt_sequence</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt_sequence/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Functions that are called before the main iteration.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:leave_iter_hooks">
  <a href="index.html#/val:leave_iter_hooks" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> leave_iter_hooks : (unit <span class="rarr"><span>-&gt;</span></span> unit) <a href="../../../../../lwt.2.4.6/_build/src/core/lwt_sequence/">Lwt_sequence</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt_sequence/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Functions that are called after the main iteration.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:exit_hooks">
  <a href="index.html#/val:exit_hooks" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> exit_hooks : (unit <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>) <a href="../../../../../lwt.2.4.6/_build/src/core/lwt_sequence/">Lwt_sequence</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt_sequence/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Sets of functions executed just before the program exit.</p>
      
      <p>Notes:</p>
      <ul><li>each hook is called exactly one time</li><li>exceptions raised by hooks are ignored</li></ul>
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:at_exit">
  <a href="index.html#/val:at_exit" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> at_exit : (unit <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>at_exit hook</code> adds hook at the left of <code>exit_hooks</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>