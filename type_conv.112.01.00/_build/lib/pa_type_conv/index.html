<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Pa_type_conv</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Pa_type_conv</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Pa_type_conv: Preprocessing Module for Registering Type Conversions</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Generator registration</h6>
    </div>
        
      </div>
    
  <div class="region" id="/val:set_conv_path_if_not_set">
  <a href="index.html#/val:set_conv_path_if_not_set" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> set_conv_path_if_not_set : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>set_conv_path_if_not_set loc</code> sets the path to the file/module being
converted for improved error messages.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_conv_path">
  <a href="index.html#/val:get_conv_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_conv_path : unit <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>get_conv_path ()</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the name to module containing a type
as required for error messages.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_generator">
  <a href="index.html#/val:add_generator" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_generator : ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> (bool <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.str_item) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_generator ?is_exn name gen</code> adds the code generator <code>gen</code>,
which maps type or exception declarations to structure items, where
<code>is_exn</code> specifies whether the declaration is an exception. Note that
the original type/exception declarations get added automatically in
any case.</p>
      
        
  <div class="tag param">
    <span class="label">is_exn</span> = <code>false</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_generator_with_arg">
  <a href="index.html#/val:add_generator_with_arg" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_generator_with_arg : ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a Camlp4.PreCast.Gram.Entry.t <span class="rarr"><span>-&gt;</span></span> ('a option <span class="rarr"><span>-&gt;</span></span> bool <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.str_item) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_generator_with_arg ?is_exn name entry generator</code> same as
<code>add_generator</code>, but the generator may accept an argument, which is
parsed with <code>entry</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:rm_generator">
  <a href="index.html#/val:rm_generator" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> rm_generator : ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>rm_generator ?is_exn name</code> removes the code generator named <code>name</code>
for types if <code>is_exn</code> is <code>false</code>, or exceptions otherwise.</p>
      
        
  <div class="tag param">
    <span class="label">is_exn</span> = <code>false</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_sig_generator">
  <a href="index.html#/val:add_sig_generator" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_sig_generator : ?delayed:bool <span class="rarr"><span>-&gt;</span></span> ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> (bool <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.sig_item) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_sig_generator ?delayed ?is_exn name gen</code> adds the code generator <code>gen</code>,
which maps type or exception declarations to signature items, where
<code>is_exn</code> specifies whether the declaration is an exception. Note that the
original type/exception declarations get added automatically in any case. If
<code>delayed</code> is set to true, the output of this generator is appended to the
signature in which it's defined</p>
      
        
  <div class="tag param">
    <span class="label">delayed</span> = <code>false</code>
  </div>
  
  <div class="tag param">
    <span class="label">is_exn</span> = <code>false</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_sig_generator_with_arg">
  <a href="index.html#/val:add_sig_generator_with_arg" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_sig_generator_with_arg : ?delayed:bool <span class="rarr"><span>-&gt;</span></span> ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a Camlp4.PreCast.Gram.Entry.t <span class="rarr"><span>-&gt;</span></span> ('a option <span class="rarr"><span>-&gt;</span></span> bool <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.sig_item) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_sig_generator_with_arg ?delayed ?is_exn name entry generator</code> same as
<code>add_sig_generator</code>, but the generator may accept an argument,
which is parsed with <code>entry</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:rm_sig_generator">
  <a href="index.html#/val:rm_sig_generator" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> rm_sig_generator : ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>rm_sig_generator ?is_exn name</code> removes the signature code generator named
<code>name</code> for types if <code>is_exn</code> is <code>false</code>, or exceptions otherwise.</p>
      
        
  <div class="tag param">
    <span class="label">is_exn</span> = <code>false</code>
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:record_field_generator">
  <a href="index.html#/type:record_field_generator" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> record_field_generator = Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Type of record field code generators</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_record_field_generator">
  <a href="index.html#/val:add_record_field_generator" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_record_field_generator : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:record_field_generator">record_field_generator</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_record_field_generator gen_name gen</code> adds the record field code
generator <code>gen</code> with name <code>gen_name</code>, which acts on the location
identifying the record field.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_record_field_generator_with_arg">
  <a href="index.html#/val:add_record_field_generator_with_arg" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_record_field_generator_with_arg : string <span class="rarr"><span>-&gt;</span></span> 'a Camlp4.PreCast.Gram.Entry.t <span class="rarr"><span>-&gt;</span></span> ('a option <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:record_field_generator">record_field_generator</a>) <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_record_field_generator_with_arg name entry generator</code> same as
<code>add_record_field_generator</code>, but the <code>generator</code> takes an argument,
which is parsed with <code>entry</code>. If <code>None</code> is passed to the generator,
parsing of the argument failed, otherwise <code>Some arg</code> will be passed,
where <code>arg</code> is the successfully parsed argument.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:rm_record_field_generator">
  <a href="index.html#/val:rm_record_field_generator" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> rm_record_field_generator : string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>rm_record_field_generator name</code> removes the record field code generator
named <code>name</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Generator sets registration</h6>
    </div>
        
      </div>
    
  <div class="region" id="/val:add_sig_set">
  <a href="index.html#/val:add_sig_set" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_sig_set : ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> set:string list <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_sig_set ?is_exn id ~set</code> adds the generator <code>id</code> to the list
of generators for signatures.
This generator will behave as if is all the generators from <code>set</code>
had been given instead. Any duplicate arising from repeatedly
expanding such generators are removed.
If <code>is_exn</code>, then it is a generator for exception declaration, or
else it is a generator for type declaration.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_str_set">
  <a href="index.html#/val:add_str_set" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_str_set : ?is_exn:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> set:string list <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_str_set ?is_exn id ~set</code> behaves exactly like
<code>add_sig_set ?is_exn id ~set</code> but for structure items instead of
signatures items.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_set">
  <a href="index.html#/val:add_set" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_set : kind:[ <div class="cons">| `Str</div><div class="cons">| `Sig</div><div class="cons">| `Both</div> ] <span class="rarr"><span>-&gt;</span></span> is_exn:[ <div class="cons">| `Yes</div><div class="cons">| `No</div><div class="cons">| `Both</div> ] <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> set:string list <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>add_set ~kind ~is_exn id ~set</code> is a shorthand for doing multiple
calls to <code>add_str_set</code> and <code>add_sig_set</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Utility functions</h6>
    </div>
        
      </div>
    
  <div class="region" id="/val:get_loc_err">
  <a href="index.html#/val:get_loc_err" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_loc_err : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>get_loc_err loc msg</code> generates a compile-time error message.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:hash_variant">
  <a href="index.html#/val:hash_variant" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> hash_variant : string <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p><code>hash_variant str</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the integer encoding a variant tag with
name <code>str</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">General purpose code generation module</h6>
    </div>
        
      </div>
    
  <div class="region" id="/module:Gen">
  <a href="index.html#/module:Gen" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Gen : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
  <div class="region" id="/module:Gen/val:regular_constr_of_revised_constr">
  <a href="index.html#/module:Gen/val:regular_constr_of_revised_constr" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> regular_constr_of_revised_constr : string <span class="rarr"><span>-&gt;</span></span> string
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:exApp_of_list">
  <a href="index.html#/module:Gen/val:exApp_of_list" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> exApp_of_list : Camlp4.PreCast.Ast.expr list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr
    
      <div class="doc">
        
      <p><code>expr_app_of_list l</code> takes list <code>l</code> of expressions <code>e1; e2; e3; ...</code>
and returns the expression <code>e1 e2 e3</code>. C.f.: <code>Ast.exSem_of_list</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:tyArr_of_list">
  <a href="index.html#/module:Gen/val:tyArr_of_list" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> tyArr_of_list : Camlp4.PreCast.Ast.ctyp list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp
    
      <div class="doc">
        
      <p><code>tyArr_of_list l</code> takes list <code>l</code> of types <code>e1; e2; e3; ...</code> and
returns the type <code>e1 -&gt; e2 -&gt; e3</code>. C.f.: <code>Ast.exSem_of_list</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:paOr_of_list">
  <a href="index.html#/module:Gen/val:paOr_of_list" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> paOr_of_list : Camlp4.PreCast.Ast.patt list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.patt
    
      <div class="doc">
        
      <p><code>paOr_of_list l</code> takes list <code>l</code> of patterns <code>p1; p2; p3; ...</code> and returns
the pattern <code>p1 | p2 | p3 | ...</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:gensym">
  <a href="index.html#/module:Gen/val:gensym" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> gensym : ?prefix:string <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>gensym ?prefix ()</code> generates a fresh variable name with <code>prefix</code>.
When used with the default parameters, it will return: <code>_x__001</code>,
<code>_x__002</code>, <code>_x__003</code>, ...</p>
      
        
  <div class="tag param">
    <span class="label">prefix</span> default = &quot;_x&quot;
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:error">
  <a href="index.html#/module:Gen/val:error" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> error : Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> fn:string <span class="rarr"><span>-&gt;</span></span> msg:string <span class="rarr"><span>-&gt;</span></span> _
    
      <div class="doc">
        
      <p><code>error tp ~fn ~msg</code> raises an error with <code>msg</code> on type <code>tp</code> occuring
in function <code>fn</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:unknown_type">
  <a href="index.html#/module:Gen/val:unknown_type" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> unknown_type : Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> _
    
      <div class="doc">
        
      <p><code>unknown_type tp fn</code> type <code>tp</code> cannot be handled by function <code>fn</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:ty_var_list_of_ctyp">
  <a href="index.html#/module:Gen/val:ty_var_list_of_ctyp" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> ty_var_list_of_ctyp : Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> string list <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>ty_var_list_of_ctyp tp acc</code> accumulates a list of type parameters
contained in <code>tp</code> into <code>acc</code> as strings.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:get_rev_id_path">
  <a href="index.html#/module:Gen/val:get_rev_id_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_rev_id_path : Camlp4.PreCast.Ast.ident <span class="rarr"><span>-&gt;</span></span> string list <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>get_rev_id_path id acc</code> takes an identifier.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> a reversed
module path (list of strings) denoting this identifier, appending
it to <code>acc</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:ident_of_rev_path">
  <a href="index.html#/module:Gen/val:ident_of_rev_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> ident_of_rev_path : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> string list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ident
    
      <div class="doc">
        
      <p><code>ident_of_rev_path loc path</code> takes a location <code>loc</code> and a reversed path
<code>rev_path</code> to an identifier.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> identifier denoting the
bound value.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:get_appl_path">
  <a href="index.html#/module:Gen/val:get_appl_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_appl_path : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ident
    
      <div class="doc">
        
      <p><code>get_appl_path loc tp</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the identifier path associated with
a polymorphic type.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:abstract">
  <a href="index.html#/module:Gen/val:abstract" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> abstract : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.patt list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr
    
      <div class="doc">
        
      <p><code>abstract loc patts body</code> takes a location <code>loc</code>, a pattern list
<code>patts</code>, and an expression <code>body</code>.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> a function expression
that takes the patterns as arguments, and binds them in <code>body</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:apply">
  <a href="index.html#/module:Gen/val:apply" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> apply : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr
    
      <div class="doc">
        
      <p><code>apply loc f_expr arg_exprs</code> takes a location <code>loc</code>, an expression
<code>f_expr</code> representing a function, and a list of argument expressions
<code>arg_exprs</code>.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> an expression in which the function is
applied to its arguments.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:switch_tp_def">
  <a href="index.html#/module:Gen/val:switch_tp_def" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> switch_tp_def : alias:(Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> 'a) <span class="rarr"><span>-&gt;</span></span> sum:(Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> 'a) <span class="rarr"><span>-&gt;</span></span> record:(Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> 'a) <span class="rarr"><span>-&gt;</span></span> variants:(Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> 'a) <span class="rarr"><span>-&gt;</span></span> mani:(Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> 'a) <span class="rarr"><span>-&gt;</span></span> nil:(Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> 'a) <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p><code>switch_tp_def ~alias ~sum ~record ~variants ~mani tp_def</code>
takes a handler function for each kind of type definition and
applies the appropriate handler when <code>tp_def</code> matches.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:mk_expr_lst">
  <a href="index.html#/module:Gen/val:mk_expr_lst" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> mk_expr_lst : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr
    
      <div class="doc">
        
      <p><code>mk_expr_lst loc expr_list</code> takes a list of expressions.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> an expression representing a list of expressions.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:mk_patt_lst">
  <a href="index.html#/module:Gen/val:mk_patt_lst" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> mk_patt_lst : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.patt list <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.patt
    
      <div class="doc">
        
      <p><code>mk_patt_lst _loc patt_list</code> takes a list of patterns.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> a pattern representing a list of patterns.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:get_tparam_id">
  <a href="index.html#/module:Gen/val:get_tparam_id" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_tparam_id : Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>get_tparam_id tp</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the string identifier associated with
<code>tp</code> if it is a type parameter.
  </div>
  
  <div class="tag raises">
    <span class="label">Raises</span> <code>Failure</code> otherwise.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:type_is_recursive">
  <a href="index.html#/module:Gen/val:type_is_recursive" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> type_is_recursive : ?stop_on_functions:bool <span class="rarr"><span>-&gt;</span></span> ?short_circuit:(Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> bool option) <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p><code>type_is_recursive ?short_circuit id tp</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> whether the type <code>tp</code> with name <code>id</code>
refers to itself, assuming that it is not mutually recursive with
another type.
  </div>
  
  <div class="tag param">
    <span class="label">short_circuit</span> allows you to override the search for certain
type expressions.
  </div>
  
  <div class="tag param">
    <span class="label">stop_on_functions</span> allows to disregard the recursive occurences appearing in
arrow types. The default is to disregard them.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:drop_variance_annotations">
  <a href="index.html#/module:Gen/val:drop_variance_annotations" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> drop_variance_annotations : Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp
    
      <div class="doc">
        
      <p><code>drop_variance_annotations tp</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the type resulting from dropping
all variance annotations in <code>tp</code>.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:find_record_default">
  <a href="index.html#/module:Gen/val:find_record_default" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> find_record_default : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.expr option
    
      <div class="doc">
        
      <p><code>find_record_default loc</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the optional default expression
associated with the record field at source location <code>loc</code> if defined.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Gen/val:delay_sig_item">
  <a href="index.html#/module:Gen/val:delay_sig_item" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> delay_sig_item : Camlp4.PreCast.Ast.sig_item <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>delay_sig_item item</code> places <code>item</code> at the end of the current signature</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h6 class="section level_6">Utility functions to rewrite type definitions</h6>
    </div>
        
      </div>
    
  <div class="region" id="/module:Rewrite_tds">
  <a href="index.html#/module:Rewrite_tds" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Rewrite_tds : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
  <div class="region" id="/module:Rewrite_tds/val:sig_">
  <a href="index.html#/module:Rewrite_tds/val:sig_" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> sig_ : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> bool <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.sig_item
    
      <div class="doc">
        
      <p><code>sig_ loc rec_ typedefs</code> rewrites the given type definition to make it either
recursive or non recursive.
For instance, the parser calls <code>sig_ loc false (TyDcl (_, t, [], t, []))</code> when it
encouters <code>type t = t</code> and calls <code>sig_ loc true (TyDcl (_, t, [], t, []))</code> when it
encouters <code>type nonrec t = t</code> in signatures.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Rewrite_tds/val:str_">
  <a href="index.html#/module:Rewrite_tds/val:str_" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> str_ : Camlp4.PreCast.Ast.Loc.t <span class="rarr"><span>-&gt;</span></span> bool <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.ctyp <span class="rarr"><span>-&gt;</span></span> Camlp4.PreCast.Ast.str_item
    
      <div class="doc">
        
      <p><code>str_ loc rec_ typedefs</code> does the same thing as <code>sig_ loc rec_ typedefs</code>, except
that it returns a structure item instead of a signature item.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>