<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Packed_value</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Packed_value</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Packed values.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:copy">
  <a href="index.html#/type:copy" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> copy = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:copy/field:offset">
  <a href="index.html#/type:copy/field:offset" class="anchor">#</a>
  offset
  </div>
  </td><td>: int</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:copy/field:length">
  <a href="index.html#/type:copy/field:length" class="anchor">#</a>
  length
  </div>
  </td><td>: int</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>Copy arguments.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:hunk">
  <a href="index.html#/type:hunk" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> hunk = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:hunk/cons:Insert">
  <a href="index.html#/type:hunk/cons:Insert" class="anchor">#</a>
  | Insert <span class="keyword">of</span> string
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:hunk/cons:Copy">
  <a href="index.html#/type:hunk/cons:Copy" class="anchor">#</a>
  | Copy <span class="keyword">of</span> <a href="index.html#/type:copy">copy</a>
  </div>
  </td><td>(*</td><td class="doc">A delta hunk can either insert a string of copy the contents of a
base object.</td><td>*)</td></tr>
    </table>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:delta">
  <a href="index.html#/type:delta" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a delta = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:delta/field:source">
  <a href="index.html#/type:delta/field:source" class="anchor">#</a>
  source
  </div>
  </td><td>: 'a</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:delta/field:source_length">
  <a href="index.html#/type:delta/field:source_length" class="anchor">#</a>
  source_length
  </div>
  </td><td>: int</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:delta/field:result_length">
  <a href="index.html#/type:delta/field:result_length" class="anchor">#</a>
  result_length
  </div>
  </td><td>: int</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:delta/field:hunks">
  <a href="index.html#/type:delta/field:hunks" class="anchor">#</a>
  hunks
  </div>
  </td><td>: <a href="index.html#/type:hunk">hunk</a> list</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>Delta objects.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:t">
  <a href="index.html#/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:t/cons:Raw_value">
  <a href="index.html#/type:t/cons:Raw_value" class="anchor">#</a>
  | Raw_value <span class="keyword">of</span> string
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Ref_delta">
  <a href="index.html#/type:t/cons:Ref_delta" class="anchor">#</a>
  | Ref_delta <span class="keyword">of</span> <a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> <a href="index.html#/type:delta">delta</a>
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/type:t/cons:Off_delta">
  <a href="index.html#/type:t/cons:Off_delta" class="anchor">#</a>
  | Off_delta <span class="keyword">of</span> int <a href="index.html#/type:delta">delta</a>
  </div>
  </td><td>(*</td><td class="doc">Packed values.</td><td>*)</td></tr>
    </table>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:pretty">
  <a href="index.html#/val:pretty" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> pretty : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Human readable representation of a packed value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:V2">
  <a href="index.html#/module:V2" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> V2 : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
    <div class="include">
    <span class="keyword">include</span> <a href="../../../../git.1.4.3/_build/lib/object/">Object</a>.<a href="../../../../git.1.4.3/_build/lib/object/#/modtype:S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../git.1.4.3/_build/lib/object/#/modtype:S/type:t">t</a> := <a href="index.html#/type:t">t</a> 
    </div>
  
  <div class="region" id="/module:V2/val:crc32">
  <a href="index.html#/module:V2/val:crc32" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> crc32 : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int32
    
      <div class="doc">
        
      <p>Return the CRC-32 of the packed value. Useful when creating pack
index files.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:V3">
  <a href="index.html#/module:V3" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> V3 : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
    <div class="include">
    <span class="keyword">include</span> <a href="../../../../git.1.4.3/_build/lib/object/">Object</a>.<a href="../../../../git.1.4.3/_build/lib/object/#/modtype:S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../git.1.4.3/_build/lib/object/#/modtype:S/type:t">t</a> := <a href="index.html#/type:t">t</a> 
    </div>
  
  <div class="region" id="/module:V3/val:crc32">
  <a href="index.html#/module:V3/val:crc32" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> crc32 : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int32
    
      <div class="doc">
        
      <p>Return the CRC-32 of the packed value. Useful when creating pack
index files.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:result_length">
  <a href="index.html#/val:result_length" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> result_length : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p>Return the lenght of the result object.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:source_length">
  <a href="index.html#/val:source_length" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> source_length : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int
    
      <div class="doc">
        
      <p>Return the lenght of the base (source) object.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Conversion to values</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:add_hunk">
  <a href="index.html#/val:add_hunk" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_hunk : <a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/">Buffer</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> source:string <span class="rarr"><span>-&gt;</span></span> pos:int <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:hunk">hunk</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Append a hunk to a buffer. <code>source</code> is the original object the
hunk refers to (with the given offset).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_delta">
  <a href="index.html#/val:add_delta" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_delta : <a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/">Buffer</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <a href="index.html#/type:delta">delta</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Append a delta to a buffer.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_inflated_value">
  <a href="index.html#/val:add_inflated_value" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_inflated_value : read:(<a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>) <span class="rarr"><span>-&gt;</span></span> offsets:<a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> <a href="../../../../git.1.4.3/_build/lib/misc/">Misc</a>.<a href="../../../../git.1.4.3/_build/lib/misc/#/module:IntMap">IntMap</a>.<a href="../../../../git.1.4.3/_build/lib/misc/#/module:IntMap/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> pos:int <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/">Buffer</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Append the inflated representation of a packed value to a given
buffer. Use the same paramaters as <code>to_value</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_inflated_value_sync">
  <a href="index.html#/val:add_inflated_value_sync" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_inflated_value_sync : read:(<a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string) <span class="rarr"><span>-&gt;</span></span> offsets:<a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> <a href="../../../../git.1.4.3/_build/lib/misc/">Misc</a>.<a href="../../../../git.1.4.3/_build/lib/misc/#/module:IntMap">IntMap</a>.<a href="../../../../git.1.4.3/_build/lib/misc/#/module:IntMap/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> pos:int <span class="rarr"><span>-&gt;</span></span> <a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/">Buffer</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/buffer/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p>Same as <code>add_inflated_value</code> but with a synchronous read
function.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Position independant packed values</h2>
    </div>
        
      </div>
    
  <div class="region" id="/module:PIC">
  <a href="index.html#/module:PIC" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> PIC : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
      <div class="doc">
        
      <p>Position-independant packed values.</p>
      
        
      </div>
    
  <div class="region" id="/module:PIC/type:kind">
  <a href="index.html#/module:PIC/type:kind" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> kind = <table>
    <tr class="cons"><td>
  <div class="region" id="/module:PIC/type:kind/cons:Raw">
  <a href="index.html#/module:PIC/type:kind/cons:Raw" class="anchor">#</a>
  | Raw <span class="keyword">of</span> string
  </div>
  </td><td></td><td></td><td></td></tr><tr class="cons"><td>
  <div class="region" id="/module:PIC/type:kind/cons:Link">
  <a href="index.html#/module:PIC/type:kind/cons:Link" class="anchor">#</a>
  | Link <span class="keyword">of</span> <a href="index.html#/module:PIC/type:t">t</a> <a href="index.html#/type:delta">delta</a>
  </div>
  </td><td></td><td></td><td></td></tr>
    </table>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:PIC/type:t">
  <a href="index.html#/module:PIC/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/module:PIC/type:t/field:kind">
  <a href="index.html#/module:PIC/type:t/field:kind" class="anchor">#</a>
  kind
  </div>
  </td><td>: <a href="index.html#/module:PIC/type:kind">kind</a></td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/module:PIC/type:t/field:sha1">
  <a href="index.html#/module:PIC/type:t/field:sha1" class="anchor">#</a>
  sha1
  </div>
  </td><td>: <a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a></td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/module:PIC/val:pretty">
  <a href="index.html#/module:PIC/val:pretty" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> pretty : <a href="index.html#/module:PIC/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Human readable representation.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:PIC/val:to_value">
  <a href="index.html#/module:PIC/val:to_value" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_value : <a href="index.html#/module:PIC/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../dyntype.0.9.0/_build/lib/value/">Value</a>.<a href="../../../../dyntype.0.9.0/_build/lib/value/#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>to_value p</code> unpacks the packed position-independant value
<code>p</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:PIC/val:raw">
  <a href="index.html#/module:PIC/val:raw" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> raw : <a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../cstruct.1.5.0/_build/lib/cstruct/">Cstruct</a>.<a href="../../../../cstruct.1.5.0/_build/lib/cstruct/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:PIC/type:t">t</a>
    
      <div class="doc">
        
      <p>Build a raw value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:PIC/module:Map">
  <a href="index.html#/module:PIC/module:Map" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Map : <a href="../../../../ocaml.4.02.1+doc/stdlib/map/">Map</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/map/#/modtype:S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../ocaml.4.02.1+doc/stdlib/map/#/modtype:S/type:key">key</a> = <a href="index.html#/module:PIC/type:t">t</a></div>
      
      
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:to_pic">
  <a href="index.html#/val:to_pic" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_pic : <a href="index.html#/module:PIC">PIC</a>.<a href="index.html#/module:PIC/type:t">t</a> <a href="../../../../git.1.4.3/_build/lib/misc/">Misc</a>.<a href="../../../../git.1.4.3/_build/lib/misc/#/module:IntMap">IntMap</a>.<a href="../../../../git.1.4.3/_build/lib/misc/#/module:IntMap/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:PIC">PIC</a>.<a href="index.html#/module:PIC/type:t">t</a> <a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/module:Map">Map</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/module:Map/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int * <a href="../../../../git.1.4.3/_build/lib/SHA/">SHA</a>.<a href="../../../../git.1.4.3/_build/lib/SHA/#/type:t">t</a> * <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:PIC">PIC</a>.<a href="index.html#/module:PIC/type:t">t</a>
    
      <div class="doc">
        
      <p>Position-independant packed value. Convert <code>Off_delta</code> and
<code>Ref_delta</code> to <code>PIC.Link</code> using the provided indexes.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:of_pic">
  <a href="index.html#/val:of_pic" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> of_pic : int <a href="index.html#/module:PIC">PIC</a>.<a href="index.html#/module:PIC/module:Map">Map</a>.<a href="index.html#/module:PIC/module:Map/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> pos:int <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/module:PIC">PIC</a>.<a href="index.html#/module:PIC/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Position dependent packed value. Convert a <code>PIC.Link</code> into to the
corresponding <code>Off_delta</code>, using the provided indexes.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>