<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>FS</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">FS</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Store Git objects on the local filesystem.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/modtype:S">
  <a href="index.html#/modtype:S" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> S = <span class="keyword">sig</span>
    </div>
    
    
    <div class="sig">
    <div class="include">
    <span class="keyword">include</span> <a href="../../../../git.1.4.3/_build/lib/store/">Store</a>.<a href="../../../../git.1.4.3/_build/lib/store/#/modtype:S">S</a> 
    </div>
  
  <div class="region" id="/modtype:S/val:create_file">
  <a href="index.html#/modtype:S/val:create_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> create_file : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../git.1.4.3/_build/lib/tree/">Tree</a>.<a href="../../../../git.1.4.3/_build/lib/tree/#/type:perm">perm</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../git.1.4.3/_build/lib/blob/">Blob</a>.<a href="../../../../git.1.4.3/_build/lib/blob/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Create a file on the filesystem, with the given mode.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:S/val:entry_of_file">
  <a href="index.html#/modtype:S/val:entry_of_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> entry_of_file : ?root:string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../git.1.4.3/_build/lib/tree/">Tree</a>.<a href="../../../../git.1.4.3/_build/lib/tree/#/type:perm">perm</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../git.1.4.3/_build/lib/blob/">Blob</a>.<a href="../../../../git.1.4.3/_build/lib/blob/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../../git.1.4.3/_build/lib/cache/">Cache</a>.<a href="../../../../git.1.4.3/_build/lib/cache/#/type:entry">entry</a> option <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Generate a cache entry for the file. Create a fresh file if it
does not already exist. If <code>root</code> is not set, use the current
working directory as repository root.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Constructor</h2>
    </div>
        
      </div>
    
  <div class="region" id="/modtype:IO">
  <a href="index.html#/modtype:IO" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> IO = <span class="keyword">sig</span>
    </div>
    
    
    <div class="sig">
  <div class="region" id="/modtype:IO/val:getcwd">
  <a href="index.html#/modtype:IO/val:getcwd" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> getcwd : unit <span class="rarr"><span>-&gt;</span></span> string <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Get the current working directory.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:realpath">
  <a href="index.html#/modtype:IO/val:realpath" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> realpath : string <span class="rarr"><span>-&gt;</span></span> string <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Very dumb real-path. Only works for existing directories.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:mkdir">
  <a href="index.html#/modtype:IO/val:mkdir" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> mkdir : string <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Create a directory (and the parent dirs if needed).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:remove">
  <a href="index.html#/modtype:IO/val:remove" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> remove : string <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Remote a file or a directory (even if non-empty).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:file_exists">
  <a href="index.html#/modtype:IO/val:file_exists" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file_exists : string <span class="rarr"><span>-&gt;</span></span> bool <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Does the given file exists ?</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:directories">
  <a href="index.html#/modtype:IO/val:directories" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> directories : string <span class="rarr"><span>-&gt;</span></span> string list <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>List the subdirs.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:files">
  <a href="index.html#/modtype:IO/val:files" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> files : string <span class="rarr"><span>-&gt;</span></span> string list <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>List the subfiles.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:rec_files">
  <a href="index.html#/modtype:IO/val:rec_files" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> rec_files : string <span class="rarr"><span>-&gt;</span></span> string list <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>rec_files dir</code> is the list of the files recursively present in
<code>dir</code> and all of its sub-directories. Return filenames prefixed
by <code>dir</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:read_file">
  <a href="index.html#/modtype:IO/val:read_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> read_file : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../cstruct.1.5.0/_build/lib/cstruct/">Cstruct</a>.<a href="../../../../cstruct.1.5.0/_build/lib/cstruct/#/type:t">t</a> <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>mmap a file and return a mutable C-like structure with its
contents.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:write_file">
  <a href="index.html#/modtype:IO/val:write_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> write_file : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../cstruct.1.5.0/_build/lib/cstruct/">Cstruct</a>.<a href="../../../../cstruct.1.5.0/_build/lib/cstruct/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Write a bigarray to a file.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:chmod">
  <a href="index.html#/modtype:IO/val:chmod" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> chmod : string <span class="rarr"><span>-&gt;</span></span> int <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
      <div class="doc">
        
      <p>Change the file mode.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:IO/val:stat_info">
  <a href="index.html#/modtype:IO/val:stat_info" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> stat_info : string <span class="rarr"><span>-&gt;</span></span> <a href="../../../../git.1.4.3/_build/lib/cache/">Cache</a>.<a href="../../../../git.1.4.3/_build/lib/cache/#/type:stat_info">stat_info</a>
    
      <div class="doc">
        
      <p>Return the stats of the given file.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Make">
  <a href="index.html#/module:Make" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Make : <span class="keyword">functor</span> (IO : <a href="index.html#/modtype:IO">IO</a>) <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/modtype:S">S</a></div>
      
      <div class="doc">
        
      <p>Create an on-disk store implementation.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>