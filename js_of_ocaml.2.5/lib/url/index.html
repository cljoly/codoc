<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../codoc.css"/>
    <title>Url</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Url</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>This module provides functions for tampering with Url. It's main goal is to
allow one to stay in the Ocaml realm without wandering into the
<a href="../../../js_of_ocaml.2.5/lib/dom_html/">Dom_html</a>.<a href="../../../js_of_ocaml.2.5/lib/dom_html/#/classtype:window">window</a>##location object.</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        
      <p>The first functions are mainly from and to string conversion functions for
the different parts of a url.</p>
      
        
      </div>
    
  <div class="region" id="/val:urldecode">
  <a href="index.html#/val:urldecode" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> urldecode : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>urldecode s</code> swaps percent encoding characters for their usual
representation.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:urlencode">
  <a href="index.html#/val:urlencode" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> urlencode : ?with_plus:bool <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>urlencode ?with_plus s</code> replace characters for their percent encoding
representation. Note that the '/' (slash) character is escaped as well. If
<code>with_plus</code> is <code>true</code> (default) then <code>'+'</code>'s are escaped as <code>&quot;%2B&quot;</code>. If not,
<code>'+'</code>'s are left as is.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:http_url">
  <a href="index.html#/type:http_url" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> http_url = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:http_url/field:hu_host">
  <a href="index.html#/type:http_url/field:hu_host" class="anchor">#</a>
  hu_host
  </div>
  </td><td>: string</td><td>;</td><td>(*</td><td class="doc">The host part of the url.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:http_url/field:hu_port">
  <a href="index.html#/type:http_url/field:hu_port" class="anchor">#</a>
  hu_port
  </div>
  </td><td>: int</td><td>;</td><td>(*</td><td class="doc">The port for the connection if any.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:http_url/field:hu_path">
  <a href="index.html#/type:http_url/field:hu_path" class="anchor">#</a>
  hu_path
  </div>
  </td><td>: string list</td><td>;</td><td>(*</td><td class="doc">The path splitted on <code>'/'</code> characters.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:http_url/field:hu_path_string">
  <a href="index.html#/type:http_url/field:hu_path_string" class="anchor">#</a>
  hu_path_string
  </div>
  </td><td>: string</td><td>;</td><td>(*</td><td class="doc">The original entire path.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:http_url/field:hu_arguments">
  <a href="index.html#/type:http_url/field:hu_arguments" class="anchor">#</a>
  hu_arguments
  </div>
  </td><td>: (string * string) list</td><td>;</td><td>(*</td><td class="doc">Arguments as a field-value
association list.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:http_url/field:hu_fragment">
  <a href="index.html#/type:http_url/field:hu_fragment" class="anchor">#</a>
  hu_fragment
  </div>
  </td><td>: string</td><td>;</td><td>(*</td><td class="doc">The fragment part (after the <code>'#'</code> character).</td><td>*)</td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>The type for HTTP(s) url.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:file_url">
  <a href="index.html#/type:file_url" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> file_url = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:file_url/field:fu_path">
  <a href="index.html#/type:file_url/field:fu_path" class="anchor">#</a>
  fu_path
  </div>
  </td><td>: string list</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:file_url/field:fu_path_string">
  <a href="index.html#/type:file_url/field:fu_path_string" class="anchor">#</a>
  fu_path_string
  </div>
  </td><td>: string</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:file_url/field:fu_arguments">
  <a href="index.html#/type:file_url/field:fu_arguments" class="anchor">#</a>
  fu_arguments
  </div>
  </td><td>: (string * string) list</td><td>;</td><td></td><td></td><td></td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:file_url/field:fu_fragment">
  <a href="index.html#/type:file_url/field:fu_fragment" class="anchor">#</a>
  fu_fragment
  </div>
  </td><td>: string</td><td>;</td><td></td><td></td><td></td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>The type for local file urls.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:url">
  <a href="index.html#/type:url" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> url = <table>
    <tr class="cons"><td>
  <div class="region" id="/type:url/cons:Http">
  <a href="index.html#/type:url/cons:Http" class="anchor">#</a>
  | Http <span class="keyword">of</span> <a href="index.html#/type:http_url">http_url</a>
  </div>
  </td><td>(*</td><td class="doc">Non secure HTTP urls</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:url/cons:Https">
  <a href="index.html#/type:url/cons:Https" class="anchor">#</a>
  | Https <span class="keyword">of</span> <a href="index.html#/type:http_url">http_url</a>
  </div>
  </td><td>(*</td><td class="doc">Secure HTTPS urls</td><td>*)</td></tr><tr class="cons"><td>
  <div class="region" id="/type:url/cons:File">
  <a href="index.html#/type:url/cons:File" class="anchor">#</a>
  | File <span class="keyword">of</span> <a href="index.html#/type:file_url">file_url</a>
  </div>
  </td><td>(*</td><td class="doc">Local files</td><td>*)</td></tr>
    </table>
    
      <div class="doc">
        
      <p>The type for urls.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:default_http_port">
  <a href="index.html#/val:default_http_port" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> default_http_port : int
    
      <div class="doc">
        
      <p>The default port for <code>Http</code> communications (80).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:default_https_port">
  <a href="index.html#/val:default_https_port" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> default_https_port : int
    
      <div class="doc">
        
      <p>The default port for <code>Https</code> communications (443).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:path_of_path_string">
  <a href="index.html#/val:path_of_path_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> path_of_path_string : string <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>path_of_path_string s</code> splits <code>s</code> on each <code>&quot;/&quot;</code> character.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:encode_arguments">
  <a href="index.html#/val:encode_arguments" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> encode_arguments : (string * string) list <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>encode_arguments a</code> expects a list of pair of values of the form
<code>(name,value)</code> were <code>name</code> is the name of an argument and <code>value</code> it's
associated value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:decode_arguments">
  <a href="index.html#/val:decode_arguments" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> decode_arguments : string <span class="rarr"><span>-&gt;</span></span> (string * string) list
    
      <div class="doc">
        
      <p><code>decode_arguments s</code> parses <code>s</code> returning the sliced-diced
association list.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        
      <p>The following part allow one to handle Url object in a much higher level
than what a string provides.</p>
      
        
      </div>
    
  <div class="region" id="/val:url_of_string">
  <a href="index.html#/val:url_of_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> url_of_string : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:url">url</a> option
    
      <div class="doc">
        
      <p><code>url_of_string s</code> parses <code>s</code> and builds a value of type <code>url</code> if <code>s</code> is not
a valid url string, it returns <code>None</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:string_of_url">
  <a href="index.html#/val:string_of_url" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string_of_url : <a href="index.html#/type:url">url</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>string_of_url u</code> returns a valid string representation of <code>u</code>. Note that
<code>string_of_url ((fun Some u -&gt; u) (url_of_string s))</code> is NOT necessarily
equal to <code>s</code>. However <code>url_of_string (string_of_url u) = u</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current">
  <a href="index.html#/module:Current" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Current : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>This module can be used to handle the Url associated to the current
document.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/module:Current/val:host">
  <a href="index.html#/module:Current/val:host" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> host : string
    
      <div class="doc">
        
      <p>The host part of the current url.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:port">
  <a href="index.html#/module:Current/val:port" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> port : int option
    
      <div class="doc">
        
      <p>The port of the current url.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:protocol">
  <a href="index.html#/module:Current/val:protocol" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> protocol : string
    
      <div class="doc">
        
      <p>The protocol of the current url.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:path_string">
  <a href="index.html#/module:Current/val:path_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> path_string : string
    
      <div class="doc">
        
      <p>The path of the current url as one long string.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:path">
  <a href="index.html#/module:Current/val:path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> path : string list
    
      <div class="doc">
        
      <p>The path of the current url as a list of small string.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:arguments">
  <a href="index.html#/module:Current/val:arguments" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> arguments : (string * string) list
    
      <div class="doc">
        
      <p>The arguments of the current url as an association list.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:get_fragment">
  <a href="index.html#/module:Current/val:get_fragment" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_fragment : unit <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Because the <code>fragment</code> of the Url for the current document can change
dynamically, we use a functional value here.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:set_fragment">
  <a href="index.html#/module:Current/val:set_fragment" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> set_fragment : string <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>set_fragment s</code> replaces the current fragment by <code>s</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:get">
  <a href="index.html#/module:Current/val:get" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get : unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:url">url</a> option
    
      <div class="doc">
        
      <p><code>get ()</code> returns a value of type <a href="index.html#/type:url">url</a> with fields reflecting the
state of the current Url.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:set">
  <a href="index.html#/module:Current/val:set" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> set : <a href="index.html#/type:url">url</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>set u</code> replaces the current Url for <code>u</code>. <b>WARNING:</b> Causes the
document to change.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:Current/val:as_string">
  <a href="index.html#/module:Current/val:as_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> as_string : string
    
      <div class="doc">
        
      <p><code>as_string</code> is the original string representation of the current Url. It
is NOT necessarily equals to <code>string_of_url (get ())</code> but
<code>url_of_string as_string = get ()</code> holds.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>