<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Cohttp_lwt_unix</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Cohttp_lwt_unix</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>HTTP client and server using the <code>Lwt_unix</code> interfaces.</p>
      
        
      </div>
    
      
    <div class="sig">
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Request and Response modules</h2>
    </div>
        
      </div>
    
  <div class="region" id="/module:Request">
  <a href="index.html#/module:Request" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Request : <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/">Cohttp_lwt</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Request">Request</a> <span class="keyword">with</span> <span class="keyword">module</span> IO = <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt_unix_io/">Cohttp_lwt_unix_io</a> </div>
      
      <div class="doc">
        
      <p>The <code>Request</code> module holds the information about a HTTP request, and
also includes the [root:Cohttp_lwt_unix_io] functions to handle large
message bodies.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  
  <div class="region" id="/module:Response">
  <a href="index.html#/module:Response" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Response : <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/">Cohttp_lwt</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Response">Response</a> <span class="keyword">with</span> <span class="keyword">module</span> IO = <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt_unix_io/">Cohttp_lwt_unix_io</a> </div>
      
      <div class="doc">
        
      <p>The <code>Response</code> module holds the information about a HTTP response, and
also includes the [root:Cohttp_lwt_unix_io] functions to handle large
message bodies.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Module types for Client and Server</h2>
    </div>
        
      </div>
    
  <div class="region" id="/modtype:C">
  <a href="index.html#/modtype:C" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> C = <span class="keyword">sig</span>
    </div>
    
      <div class="doc">
        
      <p>The <code>Client</code> module type defines the additional UNIX-specific functions
that are exposed in addition to the <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/">Cohttp_lwt</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Client">Client</a> interface.</p>
      
        
      </div>
    
    
    <div class="sig">
    <div class="include">
    <span class="keyword">include</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/">Cohttp_lwt</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Client">Client</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Client/module:IO">IO</a> = <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt_unix_io/">Cohttp_lwt_unix_io</a>  <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Client/module:Request">Request</a> = <a href="index.html#/module:Request">Request</a>  <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Client/module:Response">Response</a> = <a href="index.html#/module:Response">Response</a>  <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Client/type:ctx">ctx</a> = Cohttp_lwt_unix_net.ctx 
    </div>
  
  <div class="region" id="/modtype:C/val:custom_ctx">
  <a href="index.html#/modtype:C/val:custom_ctx" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> custom_ctx : ?ctx:<a href="../../../../conduit.0.7.2/_build/lib/conduit_lwt_unix/">Conduit_lwt_unix</a>.<a href="../../../../conduit.0.7.2/_build/lib/conduit_lwt_unix/#/type:ctx">ctx</a> <span class="rarr"><span>-&gt;</span></span> ?resolver:<a href="../../../../conduit.0.7.2/_build/lib/resolver_lwt/">Resolver_lwt</a>.<a href="../../../../conduit.0.7.2/_build/lib/resolver_lwt/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/modtype:C/type:ctx">ctx</a>
    
      <div class="doc">
        
      <p><code>custom_ctx ?ctx ?resolver ()</code> will return a context that is the
same as the <a href="index.html#/modtype:C/val:default_ctx">default_ctx</a>, but with either the connection handling
or resolution module overridden with <code>ctx</code> or <code>resolver</code> respectively.</p>
      
      <p>This is useful to supply a <a href="../../../../conduit.0.7.2/_build/lib/conduit_lwt_unix/">Conduit_lwt_unix</a>.<a href="../../../../conduit.0.7.2/_build/lib/conduit_lwt_unix/#/type:ctx">ctx</a> with a custom
source network interface, or a <a href="../../../../conduit.0.7.2/_build/lib/resolver_lwt/">Resolver_lwt</a>.<a href="../../../../conduit.0.7.2/_build/lib/resolver_lwt/#/type:t">t</a> with a different
name resolution strategy (for instance to override a hostname to
point it to a Unix domain socket).</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:S">
  <a href="index.html#/modtype:S" class="anchor">#</a>
  
  <div class="modtype">
    <div class="intro">
      <span class="keyword">module type</span> S = <span class="keyword">sig</span>
    </div>
    
      <div class="doc">
        
      <p>This module type defines the additional UNIX-specific functions that are
exposed in addition to the <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/">Cohttp_lwt</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Server">Server</a> interface. These are
primarily filesystem functions, and also [root:create] to actually bind
the server to a socket and respond to incoming requests.</p>
      
        
      </div>
    
    
    <div class="sig">
    <div class="include">
    <span class="keyword">include</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/">Cohttp_lwt</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Server">Server</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Server/module:IO">IO</a> = <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt_unix_io/">Cohttp_lwt_unix_io</a>  <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Server/module:Request">Request</a> = <a href="index.html#/module:Request">Request</a>  <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Server/module:Response">Response</a> = <a href="index.html#/module:Response">Response</a>  <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt/#/modtype:Server/type:ctx">ctx</a> = Cohttp_lwt_unix_net.ctx 
    </div>
  
  <div class="region" id="/modtype:S/val:resolve_file">
  <a href="index.html#/modtype:S/val:resolve_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> resolve_file : docroot:string <span class="rarr"><span>-&gt;</span></span> uri:<a href="../../../../uri.1.7.2/_build/lib/uri/">Uri</a>.<a href="../../../../uri.1.7.2/_build/lib/uri/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:S/val:respond_file">
  <a href="index.html#/modtype:S/val:respond_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> respond_file : ?headers:Cohttp.Header.t <span class="rarr"><span>-&gt;</span></span> fname:string <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> (Cohttp.Response.t * <a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt_body/">Cohttp_lwt_body</a>.<a href="../../../../cohttp.0.15.0/_build/lwt/cohttp_lwt_body/#/type:t">t</a>) <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/modtype:S/val:create">
  <a href="index.html#/modtype:S/val:create" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> create : ?timeout:int <span class="rarr"><span>-&gt;</span></span> ?stop:unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ?ctx:Cohttp_lwt_unix_net.ctx <span class="rarr"><span>-&gt;</span></span> ?mode:<a href="../../../../conduit.0.7.2/_build/lib/conduit_lwt_unix/">Conduit_lwt_unix</a>.<a href="../../../../conduit.0.7.2/_build/lib/conduit_lwt_unix/#/type:server">server</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/modtype:S/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit <a href="../../../../lwt.2.4.6/_build/src/core/lwt/">Lwt</a>.<a href="../../../../lwt.2.4.6/_build/src/core/lwt/#/type:t">t</a>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Lwt-Unix Client and Server implementations</h2>
    </div>
        
      </div>
    
  <div class="region" id="/module:Client">
  <a href="index.html#/module:Client" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Client : <a href="index.html#/modtype:C">C</a></div>
      
      <div class="doc">
        
      <p>The <code>Client</code> module implements the full UNIX HTTP client interface,
including the UNIX-specific functions defined in <a href="index.html#/modtype:C">C</a>.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  
  <div class="region" id="/module:Server">
  <a href="index.html#/module:Server" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> Server : <a href="index.html#/modtype:S">S</a></div>
      
      <div class="doc">
        
      <p>The <code>Server</code> module implements the full UNIX HTTP server interface,
including the UNIX-specific functions defined in <a href="index.html#/modtype:S">S</a>.</p>
      
        
      </div>
    
      
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>