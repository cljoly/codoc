<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Uri</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Uri</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Uniform Resource Identifier handling that is RFC3986-compliant.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:t">
  <a href="index.html#/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t
    
      <div class="doc">
        
      <p>A single URI that is a compact sequence of characters that identifies
an abstract or physical resource.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:component">
  <a href="index.html#/type:component" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> component = [ <div class="cons">| `Scheme</div><div class="cons">| `Authority</div><div class="cons">| `Userinfo</div><div class="cons">| `Host</div><div class="cons">| `Path</div><div class="cons">| `Query</div><div class="cons">| `Query_key</div><div class="cons">| `Query_value</div><div class="cons">| `Fragment</div> ]
    
  </div>
  
  </div>
  
  <div class="region" id="/val:pct_encode">
  <a href="index.html#/val:pct_encode" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> pct_encode : ?scheme:string <span class="rarr"><span>-&gt;</span></span> ?component:<a href="index.html#/type:component">component</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Percent-encode a string. The <code>scheme</code> argument defaults to 'http' and
the <code>component</code> argument defaults to `Path</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:pct_decode">
  <a href="index.html#/val:pct_decode" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> pct_decode : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Percent-decode a percent-encoded string</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:of_string">
  <a href="index.html#/val:of_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> of_string : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Parse a URI string literal into a URI structure</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:to_string">
  <a href="index.html#/val:to_string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> to_string : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Convert a URI structure into a percent-encoded URI string</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:resolve">
  <a href="index.html#/val:resolve" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> resolve : string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Resolve a URI against a default scheme and base URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:query">
  <a href="index.html#/val:query" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> query : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> (string * string list) list
    
      <div class="doc">
        
      <p>Get a query string from a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:encoded_of_query">
  <a href="index.html#/val:encoded_of_query" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> encoded_of_query : ?scheme:string <span class="rarr"><span>-&gt;</span></span> (string * string list) list <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Make a percent-encoded query string from percent-decoded query tuple</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:query_of_encoded">
  <a href="index.html#/val:query_of_encoded" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> query_of_encoded : string <span class="rarr"><span>-&gt;</span></span> (string * string list) list
    
      <div class="doc">
        
      <p>Parse a percent-encoded query string into a percent-decoded query tuple</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_query">
  <a href="index.html#/val:with_query" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_query : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> (string * string list) list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the query URI with the supplied list.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_query'">
  <a href="index.html#/val:with_query'" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_query' : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> (string * string) list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the query URI with the supplied singleton query list.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_query_param'">
  <a href="index.html#/val:get_query_param'" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_query_param' : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string list option
    
      <div class="doc">
        
      <p><code>get_query_param' q key</code> returns the list of values for the
<code>key</code> parameter in query <code>q</code>. Note that an empty list is not the
same as a <code>None</code> return value. For a query <code>foo</code>, the mapping is:</p>
      <ul><li><code>/</code> returns None</li><li><code>/?foo</code> returns Some </li><li><code>/?foo=</code> returns <code>Some [&quot;&quot;]</code></li><li><code>/?foo=bar</code> returns <code>Some [&quot;bar&quot;]</code></li><li><code>/?foo=bar,chi</code> returns <code>Some [&quot;bar&quot;,&quot;chi&quot;]</code></li></ul>
      <p>Query keys can be duplicated in the URI, in which case the first
one is returned. If you want to resolve duplicate keys, obtain
the full result set with <a href="index.html#/val:query">query</a> instead.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:get_query_param">
  <a href="index.html#/val:get_query_param" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> get_query_param : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string option
    
      <div class="doc">
        
      <p><code>get_query_param q key</code> returns the value found for a <code>key</code> in
query <code>q</code>. If there are multiple values for the key, then the
first one is returned/</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_query_param">
  <a href="index.html#/val:add_query_param" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_query_param : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string * string list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Add a query parameter to the input query URI.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_query_param'">
  <a href="index.html#/val:add_query_param'" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_query_param' : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string * string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Add a query parameter to the input singleton query URI.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_query_params">
  <a href="index.html#/val:add_query_params" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_query_params : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> (string * string list) list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Add a query parameter list to the input query URI.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:add_query_params'">
  <a href="index.html#/val:add_query_params'" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> add_query_params' : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> (string * string) list <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Add a query singleton parameter list to the input query URI.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:remove_query_param">
  <a href="index.html#/val:remove_query_param" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> remove_query_param : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Remove a query key from the input query URI.
Input URI is not modified, and no error is generated if the
key does not already exist in the URI.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:make">
  <a href="index.html#/val:make" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> make : ?scheme:string <span class="rarr"><span>-&gt;</span></span> ?userinfo:string <span class="rarr"><span>-&gt;</span></span> ?host:string <span class="rarr"><span>-&gt;</span></span> ?port:int <span class="rarr"><span>-&gt;</span></span> ?path:string <span class="rarr"><span>-&gt;</span></span> ?query:(string * string list) list <span class="rarr"><span>-&gt;</span></span> ?fragment:string <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Make a URI from supplied components. If userinfo or port are
supplied without host, an empty host is added. If path is supplied
and userinfo, host, or port is also supplied, path is made
absolute but not resolved.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:path">
  <a href="index.html#/val:path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> path : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Get the encoded path component of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:path_and_query">
  <a href="index.html#/val:path_and_query" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> path_and_query : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Get the encoded path and query components of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_path">
  <a href="index.html#/val:with_path" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_path : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the path URI with the supplied encoded path.
If a host is present in the supplied URI, the path is made absolute but not
resolved. If the path is empty, the path component is removed.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:scheme">
  <a href="index.html#/val:scheme" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> scheme : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option
    
      <div class="doc">
        
      <p>Get the scheme component of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_scheme">
  <a href="index.html#/val:with_scheme" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_scheme : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the scheme portion of the URI with the supplied <code>scheme</code>.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:userinfo">
  <a href="index.html#/val:userinfo" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> userinfo : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option
    
      <div class="doc">
        
      <p>Get the userinfo component of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_userinfo">
  <a href="index.html#/val:with_userinfo" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_userinfo : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the userinfo portion of the URI with the supplied <code>string option</code>.
If no host is present in the supplied URI, an empty host is added.
Input URI is not modified.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:host">
  <a href="index.html#/val:host" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> host : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option
    
      <div class="doc">
        
      <p>Get the host component of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_host">
  <a href="index.html#/val:with_host" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_host : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the host component of the URI.
Input URI is not modified.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:host_with_default">
  <a href="index.html#/val:host_with_default" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> host_with_default : ?default:string <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Get the host component of a URI, with a default supplied if one is
not present</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:port">
  <a href="index.html#/val:port" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> port : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int option
    
      <div class="doc">
        
      <p>Get the port component of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_port">
  <a href="index.html#/val:with_port" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_port : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> int option <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the port component of the URI with the supplied port.
If no host is present in the supplied URI, an empty host is added.
Input URI is not modified.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:fragment">
  <a href="index.html#/val:fragment" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> fragment : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option
    
      <div class="doc">
        
      <p>Get the fragment component of a URI</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_fragment">
  <a href="index.html#/val:with_fragment" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_fragment : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string option <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Replace the fragment component of a URI with the supplied fragment.
Input URI is not modified</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:pp_hum">
  <a href="index.html#/val:pp_hum" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> pp_hum : <a href="../../../../ocaml.4.02.1+doc/stdlib/format/">Format</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/format/#/type:formatter">formatter</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
  </div>
  
  </div>
  
  <div class="region" id="/val:t_of_sexp">
  <a href="index.html#/val:t_of_sexp" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> t_of_sexp : Sexplib.Sexp.t <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:sexp_of_t">
  <a href="index.html#/val:sexp_of_t" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> sexp_of_t : <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> Sexplib.Sexp.t
    
  </div>
  
  </div>
  
  <div class="region" id="/val:component_of_sexp">
  <a href="index.html#/val:component_of_sexp" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> component_of_sexp : Sexplib.Sexp.t <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:component">component</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:__component_of_sexp__">
  <a href="index.html#/val:__component_of_sexp__" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> __component_of_sexp__ : Sexplib.Sexp.t <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:component">component</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:sexp_of_component">
  <a href="index.html#/val:sexp_of_component" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> sexp_of_component : <a href="index.html#/type:component">component</a> <span class="rarr"><span>-&gt;</span></span> Sexplib.Sexp.t
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>