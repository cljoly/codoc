<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../codoc.css"/>
    <title>Cudf_checker</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Cudf_checker</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Checkers for CUDF documents</p>
      
      <p>Consistency and problem-solution matching.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:inconsistency_reason">
  <a href="index.html#/type:inconsistency_reason" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> inconsistency_reason = [ <div class="cons">| `Unsat_dep <span class="keyword">of</span> (<a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:pkgname">pkgname</a> * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:version">version</a>) * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkgformula">vpkgformula</a></div><div class="cons">| `Conflict <span class="keyword">of</span> (<a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:pkgname">pkgname</a> * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:version">version</a>) * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a></div> ]
    
  </div>
  
  </div>
  
  <div class="region" id="/type:bad_solution_reason">
  <a href="index.html#/type:bad_solution_reason" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> bad_solution_reason = [ <div class="cons">| <a href="index.html#/type:inconsistency_reason">inconsistency_reason</a></div><div class="cons">| `Missing_install <span class="keyword">of</span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a></div><div class="cons">| `Missing_upgrade <span class="keyword">of</span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a></div><div class="cons">| `Unremoved <span class="keyword">of</span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a></div><div class="cons">| `Downgrade <span class="keyword">of</span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a></div><div class="cons">| `Multi_upgrade <span class="keyword">of</span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:pkgname">pkgname</a> list</div><div class="cons">| `Not_kept <span class="keyword">of</span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:pkgname">pkgname</a> * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:version">version</a> * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:enum_keep">enum_keep</a></div> ]
    
  </div>
  
  </div>
  
  <div class="region" id="/val:explain_reason">
  <a href="index.html#/val:explain_reason" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> explain_reason : <a href="index.html#/type:bad_solution_reason">bad_solution_reason</a> <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>provide a string explaining a given reason, meant for error messages</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:satisfy_formula">
  <a href="index.html#/val:satisfy_formula" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> satisfy_formula : <a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:universe">universe</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkgformula">vpkgformula</a> <span class="rarr"><span>-&gt;</span></span> bool * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkgformula">vpkgformula</a>
    
      <div class="doc">
        
      <p>check whether a given package formula is satisfied by a given
package status</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> <code>true, []</code> if the formula is satisfied; <code>false, f</code>
otherwise, where f is a sub-formula of the input denoting an
unsatisfiable formula (ideally, a witness of the unsatisfiability
of the input formula)
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:disjoint">
  <a href="index.html#/val:disjoint" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> disjoint : <a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:universe">universe</a> <span class="rarr"><span>-&gt;</span></span> ?ignore:(<a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:package">package</a> <span class="rarr"><span>-&gt;</span></span> bool) <span class="rarr"><span>-&gt;</span></span> <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a> <span class="rarr"><span>-&gt;</span></span> bool * <a href="../../../cudf.0.7/_build/cudf_types/">Cudf_types</a>.<a href="../../../cudf.0.7/_build/cudf_types/#/type:vpkglist">vpkglist</a>
    
      <div class="doc">
        
      <p>check whether a package list is not satisfied by a given package
status</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> <code>true, []</code> if the list is disjoint; <code>false, l</code>
otherwise, where l is a list of packages satisfied by the universe
(ideally, the reason of the non-disjointness)
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:is_consistent">
  <a href="index.html#/val:is_consistent" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_consistent : <a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:universe">universe</a> <span class="rarr"><span>-&gt;</span></span> bool * <a href="index.html#/type:inconsistency_reason">inconsistency_reason</a> option
    
      <div class="doc">
        
      <p></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> <code>true, None</code> if the given installation is consistent,
<code>false, Some r</code> otherwise, where r is the inconsistency reason
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:is_solution">
  <a href="index.html#/val:is_solution" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_solution : <a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:universe">universe</a> * <a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:request">request</a> <span class="rarr"><span>-&gt;</span></span> <a href="../../../cudf.0.7/_build/cudf/">Cudf</a>.<a href="../../../cudf.0.7/_build/cudf/#/type:universe">universe</a> <span class="rarr"><span>-&gt;</span></span> bool * <a href="index.html#/type:bad_solution_reason">bad_solution_reason</a> list
    
      <div class="doc">
        
      <p><code>is_solution (status, req) sol</code> checks whether <code>sol</code> fulfills the CUDF
upgrade scenario described by <code>(status, req)</code></p>
      
      <p><b>Note</b>: the <code>sol</code> package universe must contain all relevant package
metadata (e.g. Depends, Conflicts, etc.), copied from <code>status</code>, a compact
universe only containing package names and versions won't be enough. To
load compact universes see <a href="../../../cudf.0.7/_build/cudf_parser/">Cudf_parser</a>.<a href="../../../cudf.0.7/_build/cudf_parser/#/val:load_solution">load_solution</a>.</p>
      
      <p><b>Note</b>: in accordance with CUDF semantics, for a solution to be valid,
the solution shall correspond to a consistent universe. A solution that
does satisfy user request, but at the same time proposes an inconsistent
universe (as per <a href="../../../cudf.0.7/_build/cudf_checker/">Cudf_checker</a>.<a href="../../../cudf.0.7/_build/cudf_checker/#/val:is_consistent">is_consistent</a>) will be reported by
<code>is_solution</code> as not being a valid solution.</p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> <code>true, []</code> if this is the case, <code>false, l</code>
otherwise, where r explains why the solution is bad
  </div>
  
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>