<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../codoc.css"/>
    <title>Core_filename</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">Core_filename</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Warning! this library assumes we are in a POSIX compliant OS.</p>
      
        
      </div>
    
      
    <div class="sig">
  <div class="region" id="/val:root">
  <a href="index.html#/val:root" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> root : string
    
      <div class="doc">
        
      <p>The path of the root.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Pathname resolution</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:realpath">
  <a href="index.html#/val:realpath" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> realpath : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>realpath path</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> the canonicalized absolute pathname of <code>path</code>.
  </div>
  
  <div class="tag raises">
    <span class="label">Raises</span> <code>Unix_error</code> on errors.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:is_posix_pathname_component">
  <a href="index.html#/val:is_posix_pathname_component" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_posix_pathname_component : string <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p><code>is_posix_pathname_component f</code></p>
      
        
  <div class="tag return">
    <span class="label">Returns</span> true if <code>f</code> is a valid filename in a POSIX compliant OS (a path
component and not a full path).<br/>http://www.opengroup.org/onlinepubs/000095399/basedefs/xbd_chap03.html#tag_03_169
  </div>
  
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        
      <p><code>temp_file ?perm ?in_dir_name prefix suffix</code></p>
      
      <p>Returns the name of a fresh temporary file in the temporary directory. The base name
of the temporary file is formed by concatenating prefix, then a 6-digit hex number,
then suffix. The temporary file is created empty. The file is guaranteed to be fresh,
i.e. not already existing in the directory.</p>
      
        
  <div class="tag param">
    <span class="label">in_dir</span> the directory in which to create the temporary file. The default is
<code>temp_dir_name</code>
  </div>
  
  <div class="tag param">
    <span class="label">perm</span> the permission of the temporary file. The default value is <code>0o600</code>
(readable and writable only by the file owner)<br/>Note that prefix and suffix will be changed when necessary to make the final filename
valid POSIX.<br/><code>temp_dir</code> is the same as <code>temp_file</code> but creates a temporary directory.
  </div>
  
      </div>
    
  <div class="region" id="/val:temp_file">
  <a href="index.html#/val:temp_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> temp_file : ?perm:int <span class="rarr"><span>-&gt;</span></span> ?in_dir:string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
  </div>
  
  </div>
  
  <div class="region" id="/val:temp_dir">
  <a href="index.html#/val:temp_dir" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> temp_dir : ?perm:int <span class="rarr"><span>-&gt;</span></span> ?in_dir:string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
  </div>
  
  </div>
  
  <div class="region" id="/val:temp_dir_name">
  <a href="index.html#/val:temp_dir_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> temp_dir_name : string
    
      <div class="doc">
        
      <p>The name of the temporary directory:</p>
      
      <p>Under Unix, the value of the <code>TMPDIR</code> environment variable, or &quot;/tmp&quot; if the variable
is not set.</p>
      
      <p>Under Windows, the value of the <code>TEMP</code> environment variable, or &quot;.&quot; if the variable
is not set.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:open_temp_file">
  <a href="index.html#/val:open_temp_file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> open_temp_file : ?perm:int <span class="rarr"><span>-&gt;</span></span> ?in_dir:string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string * <a href="../../../../ocaml.4.02.1+doc/stdlib/pervasives/">Pervasives</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/pervasives/#/type:out_channel">out_channel</a>
    
      <div class="doc">
        
      <p>Same as <a href="../../../../core.112.06.02/_build/lib/core_filename/">Core_filename</a>.<a href="../../../../core.112.06.02/_build/lib/core_filename/#/val:temp_file">temp_file</a>, but returns both the name of a fresh
temporary file, and an output channel opened (atomically) on
this file. This function is more secure than <code>temp_file</code>: there
is no risk that the temporary file will be modified (e.g. replaced
by a symbolic link) before the program opens it.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:current_dir_name">
  <a href="index.html#/val:current_dir_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> current_dir_name : string
    
      <div class="doc">
        
      <p>The conventional name for the current directory (e.g. <code>.</code> in Unix).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:parent_dir_name">
  <a href="index.html#/val:parent_dir_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> parent_dir_name : string
    
      <div class="doc">
        
      <p>The conventional name for the parent of the current directory
(e.g. <code>..</code> in Unix).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:dir_sep">
  <a href="index.html#/val:dir_sep" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> dir_sep : string
    
      <div class="doc">
        
      <p>The directory separator (e.g. <code>/</code> in Unix).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:concat">
  <a href="index.html#/val:concat" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> concat : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>concat p1 p2</code> returns a path equivalent to <code>p1 ^ &quot;/&quot; ^ p2</code>.
In the resulting path p1 (resp. p2) has all its trailing (resp. leading)
&quot;.&quot; and &quot;/&quot; removed. eg:
concat &quot;a/.&quot; &quot;.//b&quot; =&gt; &quot;a/b&quot;
concat &quot;.&quot; &quot;b&quot; =&gt; &quot;./b&quot;
concat &quot;a&quot; &quot;.&quot; =&gt; &quot;a/.&quot;
concat &quot;a&quot; &quot;/b&quot; =&gt; &quot;a/b&quot;</p>
      
        
  <div class="tag custom throws">
    <span class="label">Throws</span> Failure if <code>p1</code> is empty.
  </div>
  
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:O">
  <a href="index.html#/module:O" class="anchor">#</a>
  
  <div class="module">
      
      <div class="intro"><span class="keyword">module</span> O : <span class="keyword">sig</span></div>
      
      
    <div class="sig">
  <div class="region" id="/module:O/val:(/^)">
  <a href="index.html#/module:O/val:(/%5E)" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> (/^) : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Equal to <code>Filename.concat</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/module:O/val:(/@)">
  <a href="index.html#/module:O/val:(/@)" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> (/@) : string <span class="rarr"><span>-&gt;</span></span> string list <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>root /@ [p1; p2; p3] = root /^ p1 /^ p2 /^ p3</code>
<code>root /@ [] = root</code></p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </div>
  
    <div class="include">
    <span class="keyword">include</span> <span class="keyword">module type of</span> <a href="index.html#/module:O">O</a> 
    </div>
  
  <div class="region" id="/val:is_relative">
  <a href="index.html#/val:is_relative" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_relative : string <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p>Return <code>true</code> if the file name is relative to the current
directory, <code>false</code> if it is absolute (i.e. in Unix, starts
with <code>/</code>).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:is_absolute">
  <a href="index.html#/val:is_absolute" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_absolute : string <span class="rarr"><span>-&gt;</span></span> bool
    
  </div>
  
  </div>
  
  <div class="region" id="/val:is_implicit">
  <a href="index.html#/val:is_implicit" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> is_implicit : string <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p>Return <code>true</code> if the file name is relative and does not start
with an explicit reference to the current directory (<code>./</code> or
<code>../</code> in Unix), <code>false</code> if it starts with an explicit reference
to the root directory or the current directory.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:check_suffix">
  <a href="index.html#/val:check_suffix" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> check_suffix : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> bool
    
      <div class="doc">
        
      <p><code>check_suffix name suff</code> returns <code>true</code> if the filename <code>name</code>
ends with the suffix <code>suff</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:chop_suffix">
  <a href="index.html#/val:chop_suffix" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> chop_suffix : string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>chop_suffix name suff</code> removes the suffix <code>suff</code> from
the filename <code>name</code>. The behavior is undefined if <code>name</code> does not
end with the suffix <code>suff</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:chop_extension">
  <a href="index.html#/val:chop_extension" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> chop_extension : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Return the given file name without its extension. The extension
is the shortest suffix starting with a period and not including
a directory separator, <code>.xyz</code> for instance.</p>
      
      <p>Raise <code>Invalid_argument</code> if the given name does not contain
an extension.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:split_extension">
  <a href="index.html#/val:split_extension" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> split_extension : string <span class="rarr"><span>-&gt;</span></span> string * string option
    
      <div class="doc">
        
      <p><code>split_extension fn</code> return the portion of the filename before the
extension and the (optional) extension.
Example:
split_extension &quot;/foo/my_file&quot; = (&quot;/foo/my_file&quot;, None)
split_extension &quot;/foo/my_file.txt&quot; = (&quot;/foo/my_file&quot;, Some &quot;txt&quot;)
split_extension &quot;/home/c.falls/my_file&quot; = (&quot;/home/c.falls/my_file&quot;, None)</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:basename">
  <a href="index.html#/val:basename" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> basename : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Respects the posix semantic.</p>
      
      <p>Split a file name into directory name / base file name.
<code>concat (dirname name) (basename name)</code> returns a file name
which is equivalent to <code>name</code>. Moreover, after setting the
current directory to <code>dirname name</code> (with <a href="../../../../ocaml.4.02.1+doc/stdlib/sys/">Sys</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/sys/#/val:chdir">chdir</a>),
references to <code>basename name</code> (which is a relative file name)
designate the same file as <code>name</code> before the call to <a href="../../../../ocaml.4.02.1+doc/stdlib/sys/">Sys</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/sys/#/val:chdir">chdir</a>.</p>
      
      <p>The result is not specified if the argument is not a valid file name
(for example, under Unix if there is a NUL character in the string).</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:dirname">
  <a href="index.html#/val:dirname" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> dirname : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>See <a href="../../../../ocaml.4.02.1+doc/stdlib/filename/">Filename</a>.<a href="../../../../ocaml.4.02.1+doc/stdlib/filename/#/val:basename">basename</a>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:split">
  <a href="index.html#/val:split" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> split : string <span class="rarr"><span>-&gt;</span></span> string * string
    
      <div class="doc">
        
      <p><code>split filename</code> returns (dirname filename, basename filename)</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:parts">
  <a href="index.html#/val:parts" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> parts : string <span class="rarr"><span>-&gt;</span></span> string list
    
      <div class="doc">
        
      <p><code>parts filename</code> returns a list of path components in order. For instance:
/tmp/foo/bar/baz -&gt; <code>&quot;/&quot;; &quot;tmp&quot;; &quot;foo&quot;; &quot;bar&quot;; &quot;baz&quot;</code>. The first component is always
either &quot;.&quot; for relative paths or &quot;/&quot; for absolute ones.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:of_parts">
  <a href="index.html#/val:of_parts" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> of_parts : string list <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p><code>of_parts parts</code> joins a list of path components into a path. It does roughly the
opposite of <code>parts</code>, but they fail to be precisely mutually inverse because of
ambiguities like multiple consecutive slashes and . components.</p>
      
      <p>Raises an error if given an empty list.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:quote">
  <a href="index.html#/val:quote" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> quote : string <span class="rarr"><span>-&gt;</span></span> string
    
      <div class="doc">
        
      <p>Return a quoted version of a file name, suitable for use as
one argument in a command line, escaping all meta-characters.
Warning: under Windows, the output is only suitable for use
with programs that follow the standard Windows quoting
conventions.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>