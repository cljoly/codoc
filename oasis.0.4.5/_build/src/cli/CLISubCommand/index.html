<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>CLISubCommand</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">CLISubCommand</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>SubCommand definition</p>
      
        
  <div class="tag author">
    <span class="label">Author</span> Sylvain Le Gall
  </div>
  
      </div>
    
      
    <div class="sig">
  <div class="region" id="/type:cli_parsing_t">
  <a href="index.html#/type:cli_parsing_t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> cli_parsing_t = (<a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/">Arg</a>.<a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/#/type:key">key</a> * <a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/">Arg</a>.<a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/#/type:spec">spec</a> * <a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/">Arg</a>.<a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/#/type:doc">doc</a>) list * <a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/">Arg</a>.<a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/#/type:anon_fun">anon_fun</a>
    
      <div class="doc">
        
      <p>Define the command line arguments required for a subcommand.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:cli_parsing_post_t">
  <a href="index.html#/type:cli_parsing_post_t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a cli_parsing_post_t = unit <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>Function to run after parsing command line arguments.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:main_t">
  <a href="index.html#/type:main_t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a main_t = ctxt:<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISContext/">OASISContext</a>.<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISContext/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a
    
      <div class="doc">
        
      <p>The main function to run the subcommand.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:run_t">
  <a href="index.html#/type:run_t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a run_t = unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:cli_parsing_t">cli_parsing_t</a> * 'a <a href="index.html#/type:main_t">main_t</a>
    
      <div class="doc">
        
      <p>Generate command line arguments and the function to run the main of the
subcommand.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/type:t">
  <a href="index.html#/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> t = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:t/field:scmd_name">
  <a href="index.html#/type:t/field:scmd_name" class="anchor">#</a>
  scmd_name
  </div>
  </td><td>: <a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISTypes/">OASISTypes</a>.<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISTypes/#/type:name">name</a></td><td>;</td><td>(*</td><td class="doc">Name of the subcommand, used to call it</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:scmd_synopsis">
  <a href="index.html#/type:t/field:scmd_synopsis" class="anchor">#</a>
  scmd_synopsis
  </div>
  </td><td>: string</td><td>;</td><td>(*</td><td class="doc">Short description of the subcommnad, displayed when doing a summary
of the available subcommands</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:scmd_help">
  <a href="index.html#/type:t/field:scmd_help" class="anchor">#</a>
  scmd_help
  </div>
  </td><td>: string</td><td>;</td><td>(*</td><td class="doc">Long description of the subcommand, displayed when showing help of the
subcommand.<br/>It can contains variable substitution as defined in
<code>Buffer.add_substitute</code>.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:scmd_usage">
  <a href="index.html#/type:t/field:scmd_usage" class="anchor">#</a>
  scmd_usage
  </div>
  </td><td>: string</td><td>;</td><td>(*</td><td class="doc"><code>Arg</code> usage text</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:scmd_deprecated">
  <a href="index.html#/type:t/field:scmd_deprecated" class="anchor">#</a>
  scmd_deprecated
  </div>
  </td><td>: bool</td><td>;</td><td>(*</td><td class="doc">Is this subcommand deprecated.</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:scmd_run">
  <a href="index.html#/type:t/field:scmd_run" class="anchor">#</a>
  scmd_run
  </div>
  </td><td>: unit <a href="index.html#/type:run_t">run_t</a></td><td>;</td><td>(*</td><td class="doc">Generate the specs and a main function.</td><td>*)</td>
  </tr>
    </table>}
    
  </div>
  
  </div>
  
  <div class="region" id="/val:default_anon">
  <a href="index.html#/val:default_anon" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> default_anon : <a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/">Arg</a>.<a href="../../../../../ocaml.4.02.1+doc/stdlib/arg/#/type:anon_fun">anon_fun</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:default_fspecs">
  <a href="index.html#/val:default_fspecs" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> default_fspecs : unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:cli_parsing_t">cli_parsing_t</a> * unit <a href="index.html#/type:cli_parsing_post_t">cli_parsing_post_t</a>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:make_run">
  <a href="index.html#/val:make_run" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> make_run : (unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:cli_parsing_t">cli_parsing_t</a> * 'a <a href="index.html#/type:cli_parsing_post_t">cli_parsing_post_t</a>) <span class="rarr"><span>-&gt;</span></span> ('a <span class="rarr"><span>-&gt;</span></span> 'b) <a href="index.html#/type:main_t">main_t</a> <span class="rarr"><span>-&gt;</span></span> 'b <a href="index.html#/type:run_t">run_t</a>
    
      <div class="doc">
        
      <p><code>make_run fspecs main</code> Create a <code>run_t</code> by combining argument parsing with
the main function. The goal is to make <code>main</code> not use global variable and
create what is need to store them in fspecs. This allow to make the whole
subcommand invocation thread safe.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:register">
  <a href="index.html#/val:register" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> register : ?usage:string <span class="rarr"><span>-&gt;</span></span> ?deprecated:bool <span class="rarr"><span>-&gt;</span></span> <a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISTypes/">OASISTypes</a>.<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISTypes/#/type:name">name</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> unit <a href="index.html#/type:run_t">run_t</a> <span class="rarr"><span>-&gt;</span></span> unit
    
      <div class="doc">
        
      <p><code>register ~usage name synopsis help run</code> Create a subcommand using
provided data, see <a href="index.html#/type:t">t</a> for their meanings. See <a href="index.html#/val:make_run">make_run</a> to define a run
function. You can also see [root:CLICommon] for useful functions to wrap your
<code>run</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:find">
  <a href="index.html#/val:find" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> find : <a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISTypes/">OASISTypes</a>.<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISTypes/#/type:name">name</a> <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Find a subcommand.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:list_plugin">
  <a href="index.html#/val:list_plugin" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_plugin : ?deprecated:bool <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> PluginLoader.entry list
    
      <div class="doc">
        
      <p>List all PluginLoader entries registered. Set <code>deprecated</code> to false to
filter out deprecated plugin</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:list_builtin">
  <a href="index.html#/val:list_builtin" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> list_builtin : ?deprecated:bool <span class="rarr"><span>-&gt;</span></span> unit <span class="rarr"><span>-&gt;</span></span> <a href="index.html#/type:t">t</a> list
    
      <div class="doc">
        
      <p>List all builtin plugin registered. Set <code>deprecated</code> to false to filter
out deprecated builtin.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>