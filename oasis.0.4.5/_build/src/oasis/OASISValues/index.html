<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../../../codoc.css"/>
    <title>OASISValues</title>
  </head>
  <body>

  <div class="module codoc-doc">
      <a href="../../../../">Up</a>
      <div class="intro"><h1 class="title"><span class="keyword">module</span> <a href="">OASISValues</a></h1> : <span class="keyword">sig</span></div>
      
      <div class="doc">
        
      <p>Parse, print and check values</p>
      
      <p>This module allows to parse values that should match a particular content
(URL, list).</p>
      
      <p>The whole module is <b>not exported</b>.</p>
      
        
  <div class="tag author">
    <span class="label">Author</span> Sylvain Le Gall
  </div>
  
      </div>
    
      
    <div class="sig">
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Types and exception</h2>
    </div>
        
      </div>
    
  <div class="region" id="/type:t">
  <a href="index.html#/type:t" class="anchor">#</a>
  
  <div class="type">
    <span class="keyword">type</span> 'a t = {<table>
    <tr class="field">
  <td>
  <div class="region" id="/type:t/field:parse">
  <a href="index.html#/type:t/field:parse" class="anchor">#</a>
  parse
  </div>
  </td><td>: ctxt:<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISContext/">OASISContext</a>.<a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISContext/#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <span class="rarr"><span>-&gt;</span></span> 'a</td><td>;</td><td>(*</td><td class="doc">Parse a string into value</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:update">
  <a href="index.html#/type:t/field:update" class="anchor">#</a>
  update
  </div>
  </td><td>: 'a <span class="rarr"><span>-&gt;</span></span> 'a <span class="rarr"><span>-&gt;</span></span> 'a</td><td>;</td><td>(*</td><td class="doc">Merge two values into one</td><td>*)</td>
  </tr><tr class="field">
  <td>
  <div class="region" id="/type:t/field:print">
  <a href="index.html#/type:t/field:print" class="anchor">#</a>
  print
  </div>
  </td><td>: 'a <span class="rarr"><span>-&gt;</span></span> string</td><td>;</td><td>(*</td><td class="doc">Convert a value to string</td><td>*)</td>
  </tr>
    </table>}
    
      <div class="doc">
        
      <p>Definition of a value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/exn:Not_printable">
  <a href="index.html#/exn:Not_printable" class="anchor">#</a>
  
  <div class="exn">
    <span class="keyword">exception</span> Not_printable
    
      <div class="doc">
        
      <p>The value exist but there is no easy way to represent it.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/exn:Not_combinable">
  <a href="index.html#/exn:Not_combinable" class="anchor">#</a>
  
  <div class="exn">
    <span class="keyword">exception</span> Not_combinable
    
      <div class="doc">
        
      <p>It is not possible to combine values.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:update_fail">
  <a href="index.html#/val:update_fail" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> update_fail : 'a <span class="rarr"><span>-&gt;</span></span> 'b <span class="rarr"><span>-&gt;</span></span> 'c
    
      <div class="doc">
        
      <p>Always raise <a href="index.html#/exn:Not_combinable">Not_combinable</a>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Basic values and combinators</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:blackbox">
  <a href="index.html#/val:blackbox" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> blackbox : 'a <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Hidden value to build phantom data storage, cannot set/get
it using string.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:string">
  <a href="index.html#/val:string" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>String value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:string_not_empty">
  <a href="index.html#/val:string_not_empty" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> string_not_empty : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>String value, must not be &quot;&quot;.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:boolean">
  <a href="index.html#/val:boolean" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> boolean : bool <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Boolean value, use <code>bool_of_string</code> to parse.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:expandable">
  <a href="index.html#/val:expandable" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> expandable : string <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Extra check to see if the string value, can be expanded
using <code>Buffer.add_substitute</code> rules.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:dot_separated">
  <a href="index.html#/val:dot_separated" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> dot_separated : 'a <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>dot_separated v</code> When parsing split the input string using '.' separator
and apply <code>v.parse</code>. Merge by concatenate two values, and print by joining
<code>v.print</code> generated strings using a '.' separator. Don't strip whitespaces.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:comma_separated">
  <a href="index.html#/val:comma_separated" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> comma_separated : 'a <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Same as <a href="index.html#/val:dot_separated">dot_separated</a> using ',' as separator. Strip whitespaces before
and after the input string.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:newline_separated">
  <a href="index.html#/val:newline_separated" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> newline_separated : 'a <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Same <a href="index.html#/val:dot_separated">dot_separated</a> using '\n' as separator. Strip whitespaces before and
after the input string.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:space_separated">
  <a href="index.html#/val:space_separated" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> space_separated : string list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Same as <a href="index.html#/val:dot_separated">dot_separated</a> using blanks as separator.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:with_optional_parentheses">
  <a href="index.html#/val:with_optional_parentheses" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> with_optional_parentheses : 'a <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'b <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> ('a * 'b option) <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>with_optional_parentheses v_main v_opt</code> Combine two values. The input
string <code>&quot;abcd (defg)&quot;</code> is split between the part not between parentheses
and the one between. <code>v_main</code> is applied to the first one and <code>v_opt</code> to
the latter. If no parentheses is found, only apply <code>v_main</code>.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:opt">
  <a href="index.html#/val:opt" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> opt : 'a <a href="index.html#/type:t">t</a> <span class="rarr"><span>-&gt;</span></span> 'a option <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Optional value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:choices">
  <a href="index.html#/val:choices" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> choices : (unit <span class="rarr"><span>-&gt;</span></span> string) <span class="rarr"><span>-&gt;</span></span> (string * 'a) list <span class="rarr"><span>-&gt;</span></span> 'a <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p><code>choices nm lst</code> Value that must be in a list of predefined choices.
Find the right association in <code>lst</code>, comparison is case insensitive.
If something failed output a message using <code>nm</code> as the name of the
value represented.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
      <div class="doc">
        <div class="region">
    <h2 class="section level_2">Standard values</h2>
    </div>
        
      </div>
    
  <div class="region" id="/val:url">
  <a href="index.html#/val:url" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> url : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>URL value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:copyright">
  <a href="index.html#/val:copyright" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> copyright : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Copyright value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:file">
  <a href="index.html#/val:file" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>File value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:files">
  <a href="index.html#/val:files" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> files : string list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>File list value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:file_glob">
  <a href="index.html#/val:file_glob" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> file_glob : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>File with glob value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:directory">
  <a href="index.html#/val:directory" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> directory : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Directory value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:modules">
  <a href="index.html#/val:modules" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> modules : string list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Module list value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:categories">
  <a href="index.html#/val:categories" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> categories : string list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Category list value.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:findlib_name">
  <a href="index.html#/val:findlib_name" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> findlib_name : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Findlib package name value, without its path.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:findlib_full">
  <a href="index.html#/val:findlib_full" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> findlib_full : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Findlib package name with path value, e.g. oasis.base.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:internal_library">
  <a href="index.html#/val:internal_library" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> internal_library : string <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Internal library.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:command_line">
  <a href="index.html#/val:command_line" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> command_line : (string * string list) <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Command line.</p>
      
        
      </div>
    
  </div>
  
  </div>
  
  <div class="region" id="/val:command_line_options">
  <a href="index.html#/val:command_line_options" class="anchor">#</a>
  
  <div class="val">
    <span class="keyword">val</span> command_line_options : string list <a href="index.html#/type:t">t</a>
    
      <div class="doc">
        
      <p>Arguments of command line programs. See <a href="../../../../../oasis.0.4.5/_build/src/oasis/OASISUtils/">OASISUtils</a>.POSIX.split
for more information.</p>
      
        
      </div>
    
  </div>
  
  </div>
  </div>
    <div class="outro"><span class="keyword">end</span></div>
    
  </div>
  
  </body>
</html>